/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.11 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/*!
* EaselJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/

/*!
* PreloadJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/

/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */

/*!
* SoundJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/

/*!
* TweenJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/

!function(){var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var i;for(i=0;i<e.length&&(!e[i]||!t(e[i],i,e));i+=1);}}function eachReverse(e,t){if(e){var i;for(i=e.length-1;i>-1&&(!e[i]||!t(e[i],i,e));i-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var i;for(i in e)if(hasProp(e,i)&&t(e[i],i))break}function mixin(e,t,i,n){return t&&eachProp(t,function(t,s){(i||!hasProp(e,s))&&(!n||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[s]=t:(e[s]||(e[s]={}),mixin(e[s],t,i,n)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,i,n){var s=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return s.requireType=e,s.requireModules=n,i&&(s.originalError=i),s}function newContext(e){function t(e){var t,i,n=e.length;for(t=0;n>t;t++)if(i=e[t],"."===i)e.splice(t,1),t-=1;else if(".."===i){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function i(e,i,n){var s,r,a,o,l,c,u,h,d,p,f,g=i&&i.split("/"),_=g,m=T.map,v=m&&m["*"];if(e&&"."===e.charAt(0)&&(i?(_=g.slice(0,g.length-1),e=e.split("/"),u=e.length-1,T.nodeIdCompat&&jsSuffixRegExp.test(e[u])&&(e[u]=e[u].replace(jsSuffixRegExp,"")),e=_.concat(e),t(e),e=e.join("/")):0===e.indexOf("./")&&(e=e.substring(2))),n&&m&&(g||v)){a=e.split("/");e:for(o=a.length;o>0;o-=1){if(c=a.slice(0,o).join("/"),g)for(l=g.length;l>0;l-=1)if(r=getOwn(m,g.slice(0,l).join("/")),r&&(r=getOwn(r,c))){h=r,d=o;break e}!p&&v&&getOwn(v,c)&&(p=getOwn(v,c),f=o)}!h&&p&&(h=p,d=f),h&&(a.splice(0,d,h),e=a.join("/"))}return s=getOwn(T.pkgs,e),s?s:e}function n(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===y.contextName?(t.parentNode.removeChild(t),!0):void 0})}function s(e){var t=getOwn(T.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),y.require.undef(e),y.require([e]),!0):void 0}function r(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function a(e,t,n,s){var a,o,l,c,u=null,h=t?t.name:null,d=e,p=!0,f="";return e||(p=!1,e="_@r"+(R+=1)),c=r(e),u=c[0],e=c[1],u&&(u=i(u,h,s),o=getOwn(L,u)),e&&(u?f=o&&o.normalize?o.normalize(e,function(e){return i(e,h,s)}):i(e,h,s):(f=i(e,h,s),c=r(f),u=c[0],f=c[1],n=!0,a=y.nameToUrl(f))),l=!u||o||n?"":"_unnormalized"+(M+=1),{prefix:u,name:f,parentMap:t,unnormalized:!!l,url:a,originalName:d,isDefine:p,id:(u?u+"!"+f:f)+l}}function o(e){var t=e.id,i=getOwn(E,t);return i||(i=E[t]=new y.Module(e)),i}function l(e,t,i){var n=e.id,s=getOwn(E,n);!hasProp(L,n)||s&&!s.defineEmitComplete?(s=o(e),s.error&&"error"===t?i(s.error):s.on(t,i)):"defined"===t&&i(L[n])}function c(e,t){var i=e.requireModules,n=!1;t?t(e):(each(i,function(t){var i=getOwn(E,t);i&&(i.error=e,i.events.error&&(n=!0,i.emit("error",e)))}),n||req.onError(e))}function u(){globalDefQueue.length&&(apsp.apply(x,[x.length,0].concat(globalDefQueue)),globalDefQueue=[])}function h(e){delete E[e],delete P[e]}function d(e,t,i){var n=e.map.id;e.error?e.emit("error",e.error):(t[n]=!0,each(e.depMaps,function(n,s){var r=n.id,a=getOwn(E,r);!a||e.depMatched[s]||i[r]||(getOwn(t,r)?(e.defineDep(s,L[r]),e.check()):d(a,t,i))}),i[n]=!0)}function p(){var e,t,i=1e3*T.waitSeconds,r=i&&y.startTime+i<(new Date).getTime(),a=[],o=[],l=!1,u=!0;if(!v){if(v=!0,eachProp(P,function(e){var i=e.map,c=i.id;if(e.enabled&&(i.isDefine||o.push(e),!e.error))if(!e.inited&&r)s(c)?(t=!0,l=!0):(a.push(c),n(c));else if(!e.inited&&e.fetched&&i.isDefine&&(l=!0,!i.prefix))return u=!1}),r&&a.length)return e=makeError("timeout","Load timeout for modules: "+a,null,a),e.contextName=y.contextName,c(e);u&&each(o,function(e){d(e,{},{})}),r&&!t||!l||!isBrowser&&!isWebWorker||S||(S=setTimeout(function(){S=0,p()},50)),v=!1}}function f(e){hasProp(L,e[0])||o(a(e[0],null,!0)).init(e[1],e[2])}function g(e,t,i,n){e.detachEvent&&!isOpera?n&&e.detachEvent(n,t):e.removeEventListener(i,t,!1)}function _(e){var t=e.currentTarget||e.srcElement;return g(t,y.onScriptLoad,"load","onreadystatechange"),g(t,y.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function m(){var e;for(u();x.length;){if(e=x.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));f(e)}}var v,b,y,w,S,T={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},E={},P={},j={},x=[],L={},A={},k={},R=1,M=1;return w={require:function(e){return e.require?e.require:e.require=y.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?L[e.map.id]=e.exports:e.exports=L[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(T.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},b=function(e){this.events=getOwn(j,e.id)||{},this.map=e,this.shim=getOwn(T.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,i,n){n=n||{},this.inited||(this.factory=t,i?this.on("error",i):this.events.error&&(i=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=i,this.inited=!0,this.ignore=n.ignore,n.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,y.startTime=(new Date).getTime();var e=this.map;return this.shim?void y.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;A[e]||(A[e]=!0,y.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,i=this.map.id,n=this.depExports,s=this.exports,r=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(r)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{s=y.execCb(i,r,n,s)}catch(a){e=a}else s=y.execCb(i,r,n,s);if(this.map.isDefine&&void 0===s&&(t=this.module,t?s=t.exports:this.usingExports&&(s=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else s=r;this.exports=s,this.map.isDefine&&!this.ignore&&(L[i]=s,req.onResourceLoad&&req.onResourceLoad(y,this.map,this.depMaps)),h(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,n=a(e.prefix);this.depMaps.push(n),l(n,"defined",bind(this,function(n){var s,r,u,d=getOwn(k,this.map.id),p=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,g=y.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(n.normalize&&(p=n.normalize(p,function(e){return i(e,f,!0)})||""),r=a(e.prefix+"!"+p,this.map.parentMap),l(r,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),u=getOwn(E,r.id),void(u&&(this.depMaps.push(r),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()))):d?(this.map.url=y.nameToUrl(d),void this.load()):(s=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),s.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(E,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&h(e.map.id)}),c(e)}),s.fromText=bind(this,function(i,n){var r=e.name,l=a(r),u=useInteractive;n&&(i=n),u&&(useInteractive=!1),o(l),hasProp(T.config,t)&&(T.config[r]=T.config[t]);try{req.exec(i)}catch(h){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+h,h,[t]))}u&&(useInteractive=!0),this.depMaps.push(l),y.completeLoad(r),g([r],s)}),void n.load(e.name,g,s,T))})),y.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){P[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var i,n,s;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,s=getOwn(w,e.id))return void(this.depExports[t]=s(this));this.depCount+=1,l(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&l(e,"error",bind(this,this.errback))}i=e.id,n=E[i],hasProp(w,i)||!n||n.enabled||y.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(E,e.id);t&&!t.enabled&&y.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var i=this.events[e];i||(i=this.events[e]=[]),i.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},y={config:T,contextName:e,registry:E,defined:L,urlFetched:A,defQueue:x,Module:b,makeModuleMap:a,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=T.shim,i={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?(T[t]||(T[t]={}),mixin(T[t],e,!0,!0)):T[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(k[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,i){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=y.makeShimExports(e)),t[i]=e}),T.shim=t),e.packages&&each(e.packages,function(e){var t,i;e="string"==typeof e?{name:e}:e,i=e.name,t=e.location,t&&(T.paths[i]=e.location),T.pkgs[i]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(E,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t))}),(e.deps||e.callback)&&y.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,s){function r(i,n,l){var u,h,d;return s.enableBuildCallback&&n&&isFunction(n)&&(n.__requireJsBuild=!0),"string"==typeof i?isFunction(n)?c(makeError("requireargs","Invalid require call"),l):t&&hasProp(w,i)?w[i](E[t.id]):req.get?req.get(y,i,t,r):(h=a(i,t,!1,!0),u=h.id,hasProp(L,u)?L[u]:c(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(m(),y.nextTick(function(){m(),d=o(a(null,t)),d.skipMap=s.skipMap,d.init(i,n,l,{enabled:!0}),p()}),r)}return s=s||{},mixin(r,{isBrowser:isBrowser,toUrl:function(e){var n,s=e.lastIndexOf("."),r=e.split("/")[0],a="."===r||".."===r;return-1!==s&&(!a||s>1)&&(n=e.substring(s,e.length),e=e.substring(0,s)),y.nameToUrl(i(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(L,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(L,e)||hasProp(E,e)}}),t||(r.undef=function(e){u();var i=a(e,t,!0),s=getOwn(E,e);n(e),delete L[e],delete A[i.url],delete j[e],eachReverse(x,function(t,i){t[0]===e&&x.splice(i,1)}),s&&(s.events.defined&&(j[e]=s.events),h(e))}),r},enable:function(e){var t=getOwn(E,e.id);t&&o(e).enable()},completeLoad:function(e){var t,i,n,r=getOwn(T.shim,e)||{},a=r.exports;for(u();x.length;){if(i=x.shift(),null===i[0]){if(i[0]=e,t)break;t=!0}else i[0]===e&&(t=!0);f(i)}if(n=getOwn(E,e),!t&&!hasProp(L,e)&&n&&!n.inited){if(!(!T.enforceDefine||a&&getGlobal(a)))return s(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));f([e,r.deps||[],r.exportsFn])}p()},nameToUrl:function(e,t,i){var n,s,r,a,o,l,c,u=getOwn(T.pkgs,e);if(u&&(e=u),c=getOwn(k,e))return y.nameToUrl(c,t,i);if(req.jsExtRegExp.test(e))o=e+(t||"");else{for(n=T.paths,s=e.split("/"),r=s.length;r>0;r-=1)if(a=s.slice(0,r).join("/"),l=getOwn(n,a)){isArray(l)&&(l=l[0]),s.splice(0,r,l);break}o=s.join("/"),o+=t||(/^data\:|\?/.test(o)||i?"":".js"),o=("/"===o.charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":T.baseUrl)+o}return T.urlArgs?o+((-1===o.indexOf("?")?"?":"&")+T.urlArgs):o},load:function(e,t){req.load(y,e,t)},execCb:function(e,t,i,n){return t.apply(n,i)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=_(e);y.completeLoad(t.id)}},onScriptError:function(e){var t=_(e);return s(t.id)?void 0:c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},y.require=y.makeRequire(),y}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.11",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,i,n){var s,r,a=defContextName;return isArray(e)||"string"==typeof e||(r=e,isArray(t)?(e=t,t=i,i=n):e=[]),r&&r.context&&(a=r.context),s=getOwn(contexts,a),s||(s=contexts[a]=req.s.newContext(a)),r&&s.configure(r),s.require(e,t,i)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,i){var n=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return n.type=e.scriptType||"text/javascript",n.charset="utf-8",n.async=!0,n},req.load=function(e,t,i){var n,s=e&&e.config||{};if(isBrowser)return n=req.createNode(s,t,i),n.setAttribute("data-requirecontext",e.contextName),n.setAttribute("data-requiremodule",t),!n.attachEvent||n.attachEvent.toString&&n.attachEvent.toString().indexOf("[native code")<0||isOpera?(n.addEventListener("load",e.onScriptLoad,!1),n.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,n.attachEvent("onreadystatechange",e.onScriptLoad)),n.src=i,currentlyAddingScript=n,baseElement?head.insertBefore(n,baseElement):head.appendChild(n),currentlyAddingScript=null,n;if(isWebWorker)try{importScripts(i),e.completeLoad(t)}catch(r){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+i,r,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,i){var n,s;"string"!=typeof e&&(i=t,t=e,e=null),isArray(t)||(i=t,t=null),!t&&isFunction(i)&&(t=[],i.length&&(i.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,i){t.push(i)}),t=(1===i.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(n=currentlyAddingScript||getInteractiveScript(),n&&(e||(e=n.getAttribute("data-requiremodule")),s=contexts[n.getAttribute("data-requirecontext")])),(s?s.defQueue:globalDefQueue).push([e,t,i])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),require.config({paths:{easeljs:"lib/vendor/createjs/easel",tweenjs:"lib/vendor/createjs/tween",soundjs:"lib/vendor/createjs/sound",movieclipjs:"lib/vendor/createjs/movieclip",preloadjs:"lib/vendor/createjs/preload",createjs:"lib/vendor/createjs/create",Promise:"lib/vendor/es6-promise/es6-promise"},packages:[{name:"lodash",location:"lib/vendor/lodash"}],shim:{"es6-promise":{exports:"Promise"},easeljs:{exports:"createjs"},preloadjs:{deps:["easeljs"],exports:"createjs.PreloadJS"},soundjs:{deps:["easeljs"],exports:"createjs.SoundJS"},tweenjs:{deps:["easeljs"],exports:"createjs.Tween"},movieclipjs:{deps:["easeljs","tweenjs"],exports:"createjs.MovieClip"},createjs:{deps:["easeljs","preloadjs","soundjs","tweenjs","movieclipjs"],exports:"createjs"}}}),function(){"use strict";var e="ChampionRaceway",t={};window.game=window.game||{},window.game[e]=window.game[e]||{},window.game[e].lib=function(){},window.game[e].lib.Main=function(){},window.game[e].lib.Main.prototype.init=function(e){var t=this;require.config({baseUrl:e.urlGameFolder}),require(["lib/core/canvas","lib/core/bootstrap","lib/core/interfaces","game/loader"],function(i,n,s,r){n(e,function(n){t.canvas=i(e),t.loader=r(t.canvas,n),s("loader",t.loader),t.loader.draw(),window.gtk.jLottery.gamePreInited()})}),t.config=e},window.game[e].lib.Main.prototype.startAssetLoading=function(){var i=this;require(["lib/core/assets","lib/core/exit","lib/core/interfaces","game/main","createjs"],function(n,s,r,a,o){n(i.config,i.loader,function(){i.main=a(i.canvas,i.config,{formatCurrency:function(e,t){return window.gtk.jLottery.formatCurrency({amount:e,numberOfDecimalsToReturn:t})},playerWantsToMoveToMoneyGame:function(){window.gtk.jLottery.playerWantsToMoveToMoneyGame()},playerWantsToPlay:function(e,t){window.gtk.jLottery.playerWantsToPlay({price:e,spots:t})},playerWantsToRePlay:function(e,t){window.gtk.jLottery.playerWantsToRePlay({price:e,spots:t})},ticketResultHasBeenSeen:function(e,t){window.gtk.jLottery.ticketResultHasBeenSeen({tierPrizeShown:e,formattedAmountWonShown:this.formatCurrency(t,0).formattedAmount})},playerWantsToExit:function(){s(i,o),window.game[e]={},window.gtk.jLottery.playerWantsToExit()},revealDataSave:function(e){t.reveal=e?JSON.stringify(e):"",window.gtk.jLottery.revealDataSave({revealDataSave:t.reveal,wagerDataSave:t.wager})},wagerDataSave:function(e){t.wager=e?JSON.stringify(e):"",window.gtk.jLottery.revealDataSave({revealDataSave:t.reveal,wagerDataSave:t.wager})}}),r("game",i.main),window.gtk.jLottery.assetsLoadedAndGameReady(),i.loader.hide()})})},window.game[e].lib.Main.prototype.initialize=function(){this.main.initialize.apply(null,Array.prototype.slice.call(arguments))},window.game[e].lib.Main.prototype.reInitialize=function(){this.main.reInitialize.apply(null,Array.prototype.slice.call(arguments))},window.game[e].lib.Main.prototype.startUserInteraction=function(e){try{e.revealData=t.reveal=JSON.parse(e.revealData)}catch(i){e.revealData=t.reveal={}}try{e.wagerData=t.wager=JSON.parse(e.wagerData)}catch(i){e.wagerData=t.wager={}}this.main.startUserInteraction(e)},window.game[e].lib.Main.prototype.reStartUserInteraction=function(e){try{e.revealData=t.reveal=JSON.parse(e.revealData)}catch(i){e.revealData=t.reveal={}}this.main.reStartUserInteraction(e)},window.game[e].lib.Main.prototype.enterResultScreenState=function(){this.main.enterResultScreenState.apply(null,Array.prototype.slice.call(arguments))},window.game[e].lib.Main.prototype.updateBalance=function(){this.config.balanceDisplayInGame&&this.main.updateBalance&&this.main.updateBalance.apply(null,Array.prototype.slice.call(arguments))},window.game[e].lib.Main.prototype.error=function(e){var t=this;"00000"===e.errorCode&&require(["lib/core/exit","createjs"],function(e,i){e(t,i)}),this.main.error&&this.main.error.apply(null,Array.prototype.slice.call(arguments))},window.game[e].lib.Main.prototype.playingSessionTimeoutWarning=function(){this.main.warn&&this.main.warn.apply(null,Array.prototype.slice.call(arguments))}}(),define("game",function(){}),define("lib/core/canvas",[],function(){function e(e,t,i){function n(e,t,i,n,s){var r=i-e,a=n-t,o="translateX("+r/2+"px)",l="translateY("+a/2+"px)";s.style.transform=o+" "+l,s.style["-webkit-transform"]=o+" "+l,s.style["-moz-transform"]=o+" "+l,s.style["-ms-transform"]=o+" "+l}function s(){var t,s,r,a,l,c=e.width,u=e.height;c>u?(a=960,l=600,"LANDSCAPE"!==o&&window.dispatchEvent(new Event("deviceorientation"))):u>c&&(a=600,l=960,"PORTRAIT"!==o&&window.dispatchEvent(new Event("deviceorientation"))),t=a/l,r=u*t,s=u,r>c&&(r=c,s=c/t),i.setAttribute("width",a),i.setAttribute("height",l),i.style.width=r+"px",i.style.height=s+"px",n(r,s,c,u,i)}var r=e.width,a=e.height,o=r>a?"LANDSCAPE":"PORTRAIT";s(void 0)}return function(t){var i,n,s=document.getElementById(t.targetDivId),r=document.createElement("canvas");document.getElementById("loader");return s.innerHTML="",s.appendChild(r),s.style.webkitUserSelect="none",s.style.webkitTapHighlightColor="rgba(0,0,0,0)","desktop"===t.screenEnvironment&&(i=t.revealWidthToUse,n=t.revealHeightToUse,s.style.width=i+"px",s.style.height=n+"px"),"device"===t.screenEnvironment&&(i=window.innerWidth,n=window.innerHeight,s.style.width=i+"px",s.style.height=n+"px"),e({layouts:t.orientationSetBySite,environment:t.screenEnvironment,width:i,height:n},s,r),r}}),this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i},this.createjs=this.createjs||{},createjs.promote=function(e,t){"use strict";var i=e.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n){i[(t+="_")+"constructor"]=n.constructor;for(var s in n)i.hasOwnProperty(s)&&"function"==typeof n[s]&&(i[t+s]=n[s])}return e},this.createjs=this.createjs||{},createjs.indexOf=function(e,t){"use strict";for(var i=0,n=e.length;n>i;i++)if(t===e[i])return i;return-1},this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,i){var n;n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=n[e];return s&&this.removeEventListener(e,t,i),s=n[e],s?s.push(t):n[e]=[t],t},t.on=function(e,t,i,n,s,r){return t.handleEvent&&(i=i||t,t=t.handleEvent),i=i||this,this.addEventListener(e,function(e){t.call(i,e,s),n&&e.remove()},r)},t.removeEventListener=function(e,t,i){var n=i?this._captureListeners:this._listeners;if(n){var s=n[e];if(s)for(var r=0,a=s.length;a>r;r++)if(s[r]==t){1==a?delete n[e]:s.splice(r,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e,t,i){if("string"==typeof e){var n=this._listeners;if(!(t||n&&n[e]))return!0;e=new createjs.Event(e,t,i)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(s){}if(e.bubbles&&this.parent){for(var r=this,a=[r];r.parent;)a.push(r=r.parent);var o,l=a.length;for(o=l-1;o>=0&&!e.propagationStopped;o--)a[o]._dispatchEvent(e,1+(0==o));for(o=1;l>o&&!e.propagationStopped;o++)a[o]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return!e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,i=this._captureListeners;return!!(t&&t[e]||i&&i[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var i,n=1==t?this._captureListeners:this._listeners;if(e&&n){var s=n[e.type];if(!s||!(i=s.length))return;try{e.currentTarget=this}catch(r){}try{e.eventPhase=t}catch(r){}e.removed=!1,s=s.slice();for(var a=0;i>a&&!e.immediatePropagationStopped;a++){var o=s[a];o.handleEvent?o.handleEvent(e):o(e),e.removed&&(this.off(e.type,o,1==t),e.removed=!1)}}},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Ticker cannot be instantiated."}e.RAF_SYNCHED="synched",e.RAF="raf",e.TIMEOUT="timeout",e.useRAF=!1,e.timingMode=null,e.maxDelta=0,e.paused=!1,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e._addEventListener=e.addEventListener,e.addEventListener=function(){return!e._inited&&e.init(),e._addEventListener.apply(e,arguments)},e._inited=!1,e._startTime=0,e._pausedTime=0,e._ticks=0,e._pausedTicks=0,e._interval=50,e._lastTime=0,e._times=null,e._tickTimes=null,e._timerId=null,e._raf=!0,e.setInterval=function(t){e._interval=t,e._inited&&e._setupTick()},e.getInterval=function(){return e._interval},e.setFPS=function(t){e.setInterval(1e3/t)},e.getFPS=function(){return 1e3/e._interval};try{Object.defineProperties(e,{interval:{get:e.getInterval,set:e.setInterval},framerate:{get:e.getFPS,set:e.setFPS}})}catch(t){}e.init=function(){e._inited||(e._inited=!0,e._times=[],e._tickTimes=[],e._startTime=e._getTime(),e._times.push(e._lastTime=0),e.interval=e._interval)},e.reset=function(){if(e._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(e._timerId)}else clearTimeout(e._timerId);e.removeAllEventListeners("tick"),e._timerId=e._times=e._tickTimes=null,e._startTime=e._lastTime=e._ticks=0,e._inited=!1},e.getMeasuredTickTime=function(t){var i=0,n=e._tickTimes;if(!n||n.length<1)return-1;t=Math.min(n.length,t||0|e.getFPS());for(var s=0;t>s;s++)i+=n[s];return i/t},e.getMeasuredFPS=function(t){var i=e._times;return!i||i.length<2?-1:(t=Math.min(i.length-1,t||0|e.getFPS()),1e3/((i[0]-i[t])/t))},e.setPaused=function(t){e.paused=t},e.getPaused=function(){return e.paused},e.getTime=function(t){return e._startTime?e._getTime()-(t?e._pausedTime:0):-1},e.getEventTime=function(t){return e._startTime?(e._lastTime||e._startTime)-(t?e._pausedTime:0):-1},e.getTicks=function(t){return e._ticks-(t?e._pausedTicks:0)},e._handleSynch=function(){e._timerId=null,e._setupTick(),e._getTime()-e._lastTime>=.97*(e._interval-1)&&e._tick()},e._handleRAF=function(){e._timerId=null,e._setupTick(),e._tick()},e._handleTimeout=function(){e._timerId=null,e._setupTick(),e._tick()},e._setupTick=function(){if(null==e._timerId){var t=e.timingMode||e.useRAF&&e.RAF_SYNCHED;if(t==e.RAF_SYNCHED||t==e.RAF){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(i)return e._timerId=i(t==e.RAF?e._handleRAF:e._handleSynch),void(e._raf=!0)}e._raf=!1,e._timerId=setTimeout(e._handleTimeout,e._interval)}},e._tick=function(){var t=e.paused,i=e._getTime(),n=i-e._lastTime;if(e._lastTime=i,e._ticks++,t&&(e._pausedTicks++,e._pausedTime+=n),e.hasEventListener("tick")){var s=new createjs.Event("tick"),r=e.maxDelta;s.delta=r&&n>r?r:n,s.paused=t,s.time=i,s.runTime=i-e._pausedTime,e.dispatchEvent(s)}for(e._tickTimes.unshift(e._getTime()-i);e._tickTimes.length>100;)e._tickTimes.pop();for(e._times.unshift(i);e._times.length>100;)e._times.pop()};var i=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);e._getTime=function(){return(i&&i.call(performance)||(new Date).getTime())-e._startTime},createjs.Ticker=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"UID cannot be instantiated"}e._nextID=0,e.get=function(){return e._nextID++},createjs.UID=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n,s,r,a,o,l,c,u){this.Event_constructor(e,t,i),this.stageX=n,this.stageY=s,this.rawX=null==l?n:l,this.rawY=null==c?s:c,this.nativeEvent=r,this.pointerID=a,this.primary=!!o,this.relatedTarget=u}var t=createjs.extend(e,createjs.Event);t._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},t._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},t._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(t,{localX:{get:t._get_localX},localY:{get:t._get_localY},isTouch:{get:t._get_isTouch}})}catch(i){}t.clone=function(){return new e(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},t.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=createjs.promote(e,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n,s,r){this.setValues(e,t,i,n,s,r)}var t=e.prototype;e.DEG_TO_RAD=Math.PI/180,e.identity=null,t.setValues=function(e,t,i,n,s,r){return this.a=null==e?1:e,this.b=t||0,this.c=i||0,this.d=null==n?1:n,this.tx=s||0,this.ty=r||0,this},t.append=function(e,t,i,n,s,r){var a=this.a,o=this.b,l=this.c,c=this.d;return(1!=e||0!=t||0!=i||1!=n)&&(this.a=a*e+l*t,this.b=o*e+c*t,this.c=a*i+l*n,this.d=o*i+c*n),this.tx=a*s+l*r+this.tx,this.ty=o*s+c*r+this.ty,this},t.prepend=function(e,t,i,n,s,r){var a=this.a,o=this.c,l=this.tx;return this.a=e*a+i*this.b,this.b=t*a+n*this.b,this.c=e*o+i*this.d,this.d=t*o+n*this.d,this.tx=e*l+i*this.ty+s,this.ty=t*l+n*this.ty+r,this},t.appendMatrix=function(e){return this.append(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.prependMatrix=function(e){return this.prepend(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.appendTransform=function(t,i,n,s,r,a,o,l,c){if(r%360)var u=r*e.DEG_TO_RAD,h=Math.cos(u),d=Math.sin(u);else h=1,d=0;return a||o?(a*=e.DEG_TO_RAD,o*=e.DEG_TO_RAD,this.append(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),t,i),this.append(h*n,d*n,-d*s,h*s,0,0)):this.append(h*n,d*n,-d*s,h*s,t,i),(l||c)&&(this.tx-=l*this.a+c*this.c,this.ty-=l*this.b+c*this.d),this},t.prependTransform=function(t,i,n,s,r,a,o,l,c){if(r%360)var u=r*e.DEG_TO_RAD,h=Math.cos(u),d=Math.sin(u);else h=1,d=0;return(l||c)&&(this.tx-=l,this.ty-=c),a||o?(a*=e.DEG_TO_RAD,o*=e.DEG_TO_RAD,this.prepend(h*n,d*n,-d*s,h*s,0,0),
this.prepend(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),t,i)):this.prepend(h*n,d*n,-d*s,h*s,t,i),this},t.rotate=function(t){t*=e.DEG_TO_RAD;var i=Math.cos(t),n=Math.sin(t),s=this.a,r=this.b;return this.a=s*i+this.c*n,this.b=r*i+this.d*n,this.c=-s*n+this.c*i,this.d=-r*n+this.d*i,this},t.skew=function(t,i){return t*=e.DEG_TO_RAD,i*=e.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(t),Math.cos(t),0,0),this},t.scale=function(e,t){return this.a*=e,this.b*=e,this.c*=t,this.d*=t,this},t.translate=function(e,t){return this.tx+=this.a*e+this.c*t,this.ty+=this.b*e+this.d*t,this},t.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},t.invert=function(){var e=this.a,t=this.b,i=this.c,n=this.d,s=this.tx,r=e*n-t*i;return this.a=n/r,this.b=-t/r,this.c=-i/r,this.d=e/r,this.tx=(i*this.ty-n*s)/r,this.ty=-(e*this.ty-t*s)/r,this},t.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},t.equals=function(e){return this.tx===e.tx&&this.ty===e.ty&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d},t.transformPoint=function(e,t,i){return i=i||{},i.x=e*this.a+t*this.c+this.tx,i.y=e*this.b+t*this.d+this.ty,i},t.decompose=function(t){null==t&&(t={}),t.x=this.tx,t.y=this.ty,t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var i=Math.atan2(-this.c,this.d),n=Math.atan2(this.b,this.a),s=Math.abs(1-i/n);return 1e-5>s?(t.rotation=n/e.DEG_TO_RAD,this.a<0&&this.d>=0&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=i/e.DEG_TO_RAD,t.skewY=n/e.DEG_TO_RAD),t},t.copy=function(e){return this.setValues(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.clone=function(){return new e(this.a,this.b,this.c,this.d,this.tx,this.ty)},t.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},e.identity=new e,createjs.Matrix2D=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n,s){this.setValues(e,t,i,n,s)}var t=e.prototype;t.setValues=function(e,t,i,n,s){return this.visible=null==e?!0:!!e,this.alpha=null==t?1:t,this.shadow=i,this.compositeOperation=n,this.matrix=s||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},t.append=function(e,t,i,n,s){return this.alpha*=t,this.shadow=i||this.shadow,this.compositeOperation=n||this.compositeOperation,this.visible=this.visible&&e,s&&this.matrix.appendMatrix(s),this},t.prepend=function(e,t,i,n,s){return this.alpha*=t,this.shadow=this.shadow||i,this.compositeOperation=this.compositeOperation||n,this.visible=this.visible&&e,s&&this.matrix.prependMatrix(s),this},t.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},t.clone=function(){return new e(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.setValues(e,t)}var t=e.prototype;t.setValues=function(e,t){return this.x=e||0,this.y=t||0,this},t.copy=function(e){return this.x=e.x,this.y=e.y,this},t.clone=function(){return new e(this.x,this.y)},t.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n){this.setValues(e,t,i,n)}var t=e.prototype;t.setValues=function(e,t,i,n){return this.x=e||0,this.y=t||0,this.width=i||0,this.height=n||0,this},t.extend=function(e,t,i,n){return i=i||0,n=n||0,e+i>this.x+this.width&&(this.width=e+i-this.x),t+n>this.y+this.height&&(this.height=t+n-this.y),e<this.x&&(this.width+=this.x-e,this.x=e),t<this.y&&(this.height+=this.y-t,this.y=t),this},t.pad=function(e,t,i,n){return this.x-=t,this.y-=e,this.width+=t+n,this.height+=e+i,this},t.copy=function(e){return this.setValues(e.x,e.y,e.width,e.height)},t.contains=function(e,t,i,n){return i=i||0,n=n||0,e>=this.x&&e+i<=this.x+this.width&&t>=this.y&&t+n<=this.y+this.height},t.union=function(e){return this.clone().extend(e.x,e.y,e.width,e.height)},t.intersection=function(t){var i=t.x,n=t.y,s=i+t.width,r=n+t.height;return this.x>i&&(i=this.x),this.y>n&&(n=this.y),this.x+this.width<s&&(s=this.x+this.width),this.y+this.height<r&&(r=this.y+this.height),i>=s||n>=r?null:new e(i,n,s-i,r-n)},t.intersects=function(e){return e.x<=this.x+this.width&&this.x<=e.x+e.width&&e.y<=this.y+this.height&&this.y<=e.y+e.height},t.isEmpty=function(){return this.width<=0||this.height<=0},t.clone=function(){return new e(this.x,this.y,this.width,this.height)},t.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n,s,r,a){e.addEventListener&&(this.target=e,this.overLabel=null==i?"over":i,this.outLabel=null==t?"out":t,this.downLabel=null==n?"down":n,this.play=s,this._isPressed=!1,this._isOver=!1,this._enabled=!1,e.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),r&&(a&&(r.actionsEnabled=!1,r.gotoAndStop&&r.gotoAndStop(a)),e.hitArea=r))}var t=e.prototype;t.setEnabled=function(e){if(e!=this._enabled){var t=this.target;this._enabled=e,e?(t.cursor="pointer",t.addEventListener("rollover",this),t.addEventListener("rollout",this),t.addEventListener("mousedown",this),t.addEventListener("pressup",this),t._reset&&(t.__reset=t._reset,t._reset=this._reset)):(t.cursor=null,t.removeEventListener("rollover",this),t.removeEventListener("rollout",this),t.removeEventListener("mousedown",this),t.removeEventListener("pressup",this),t.__reset&&(t._reset=t.__reset,delete t.__reset))}},t.getEnabled=function(){return this._enabled};try{Object.defineProperties(t,{enabled:{get:t.getEnabled,set:t.setEnabled}})}catch(i){}t.toString=function(){return"[ButtonHelper]"},t.handleEvent=function(e){var t,i=this.target,n=e.type;"mousedown"==n?(this._isPressed=!0,t=this.downLabel):"pressup"==n?(this._isPressed=!1,t=this._isOver?this.overLabel:this.outLabel):"rollover"==n?(this._isOver=!0,t=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,t=this._isPressed?this.overLabel:this.outLabel),this.play?i.gotoAndPlay&&i.gotoAndPlay(t):i.gotoAndStop&&i.gotoAndStop(t)},t._reset=function(){var e=this.paused;this.__reset(),this.paused=e},createjs.ButtonHelper=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n){this.color=e||"black",this.offsetX=t||0,this.offsetY=i||0,this.blur=n||0}var t=e.prototype;e.identity=new e("transparent",0,0,0),t.toString=function(){return"[Shadow]"},t.clone=function(){return new e(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(e)}var t=createjs.extend(e,createjs.EventDispatcher);t.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(t,{animations:{get:t.getAnimations}})}catch(i){}t.getNumFrames=function(e){if(null==e)return this._frames?this._frames.length:this._numFrames||0;var t=this._data[e];return null==t?0:t.frames.length},t.getAnimation=function(e){return this._data[e]},t.getFrame=function(e){var t;return this._frames&&(t=this._frames[e])?t:null},t.getFrameBounds=function(e,t){var i=this.getFrame(e);return i?(t||new createjs.Rectangle).setValues(-i.regX,-i.regY,i.rect.width,i.rect.height):null},t.toString=function(){return"[SpriteSheet]"},t.clone=function(){throw"SpriteSheet cannot be cloned."},t._parseData=function(e){var t,i,n,s;if(null!=e){if(this.framerate=e.framerate||0,e.images&&(i=e.images.length)>0)for(s=this._images=[],t=0;i>t;t++){var r=e.images[t];if("string"==typeof r){var a=r;r=document.createElement("img"),r.src=a}s.push(r),r.getContext||r.naturalWidth||(this._loadCount++,this.complete=!1,function(e){r.onload=function(){e._handleImageLoad()}}(this))}if(null==e.frames);else if(e.frames instanceof Array)for(this._frames=[],s=e.frames,t=0,i=s.length;i>t;t++){var o=s[t];this._frames.push({image:this._images[o[4]?o[4]:0],rect:new createjs.Rectangle(o[0],o[1],o[2],o[3]),regX:o[5]||0,regY:o[6]||0})}else n=e.frames,this._frameWidth=n.width,this._frameHeight=n.height,this._regX=n.regX||0,this._regY=n.regY||0,this._spacing=n.spacing||0,this._margin=n.margin||0,this._numFrames=n.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(n=e.animations)){this._data={};var l;for(l in n){var c={name:l},u=n[l];if("number"==typeof u)s=c.frames=[u];else if(u instanceof Array)if(1==u.length)c.frames=[u[0]];else for(c.speed=u[3],c.next=u[2],s=c.frames=[],t=u[0];t<=u[1];t++)s.push(t);else{c.speed=u.speed,c.next=u.next;var h=u.frames;s=c.frames="number"==typeof h?[h]:h.slice(0)}(c.next===!0||void 0===c.next)&&(c.next=l),(c.next===!1||s.length<2&&c.next==l)&&(c.next=null),c.speed||(c.speed=1),this._animations.push(l),this._data[l]=c}}}},t._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},t._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var e=this._numFrames||1e5,t=0,i=this._frameWidth,n=this._frameHeight,s=this._spacing,r=this._margin;e:for(var a=0,o=this._images;a<o.length;a++)for(var l=o[a],c=l.width,u=l.height,h=r;u-r-n>=h;){for(var d=r;c-r-i>=d;){if(t>=e)break e;t++,this._frames.push({image:l,rect:new createjs.Rectangle(d,h,i,n),regX:this._regX,regY:this._regY}),d+=i+s}h+=n+s}this._numFrames=t}},createjs.SpriteSheet=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var t=e.prototype,i=e;e.getRGB=function(e,t,i,n){return null!=e&&null==i&&(n=t,i=255&e,t=e>>8&255,e=e>>16&255),null==n?"rgb("+e+","+t+","+i+")":"rgba("+e+","+t+","+i+","+n+")"},e.getHSL=function(e,t,i,n){return null==n?"hsl("+e%360+","+t+"%,"+i+"%)":"hsla("+e%360+","+t+"%,"+i+"%,"+n+")"},e.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},e.STROKE_CAPS_MAP=["butt","round","square"],e.STROKE_JOINTS_MAP=["miter","round","bevel"];var n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n.getContext&&(e._ctx=n.getContext("2d"),n.width=n.height=1),t.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(t,{instructions:{get:t.getInstructions}})}catch(s){}t.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},t.draw=function(e,t){this._updateInstructions();for(var i=this._instructions,n=this._storeIndex,s=i.length;s>n;n++)i[n].exec(e,t)},t.drawAsPath=function(e){this._updateInstructions();for(var t,i=this._instructions,n=this._storeIndex,s=i.length;s>n;n++)(t=i[n]).path!==!1&&t.exec(e)},t.moveTo=function(e,t){return this.append(new i.MoveTo(e,t),!0)},t.lineTo=function(e,t){return this.append(new i.LineTo(e,t))},t.arcTo=function(e,t,n,s,r){return this.append(new i.ArcTo(e,t,n,s,r))},t.arc=function(e,t,n,s,r,a){return this.append(new i.Arc(e,t,n,s,r,a))},t.quadraticCurveTo=function(e,t,n,s){return this.append(new i.QuadraticCurveTo(e,t,n,s))},t.bezierCurveTo=function(e,t,n,s,r,a){return this.append(new i.BezierCurveTo(e,t,n,s,r,a))},t.rect=function(e,t,n,s){return this.append(new i.Rect(e,t,n,s))},t.closePath=function(){return this._activeInstructions.length?this.append(new i.ClosePath):this},t.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},t.beginFill=function(e){return this._setFill(e?new i.Fill(e):null)},t.beginLinearGradientFill=function(e,t,n,s,r,a){return this._setFill((new i.Fill).linearGradient(e,t,n,s,r,a))},t.beginRadialGradientFill=function(e,t,n,s,r,a,o,l){return this._setFill((new i.Fill).radialGradient(e,t,n,s,r,a,o,l))},t.beginBitmapFill=function(e,t,n){return this._setFill(new i.Fill(null,n).bitmap(e,t))},t.endFill=function(){return this.beginFill()},t.setStrokeStyle=function(e,t,n,s,r){return this._updateInstructions(!0),this._strokeStyle=this.command=new i.StrokeStyle(e,t,n,s,r),this._stroke&&(this._stroke.ignoreScale=r),this._strokeIgnoreScale=r,this},t.setStrokeDash=function(e,t){return this._updateInstructions(!0),this._strokeDash=this.command=new i.StrokeDash(e,t),this},t.beginStroke=function(e){return this._setStroke(e?new i.Stroke(e):null)},t.beginLinearGradientStroke=function(e,t,n,s,r,a){return this._setStroke((new i.Stroke).linearGradient(e,t,n,s,r,a))},t.beginRadialGradientStroke=function(e,t,n,s,r,a,o,l){return this._setStroke((new i.Stroke).radialGradient(e,t,n,s,r,a,o,l))},t.beginBitmapStroke=function(e,t){return this._setStroke((new i.Stroke).bitmap(e,t))},t.endStroke=function(){return this.beginStroke()},t.curveTo=t.quadraticCurveTo,t.drawRect=t.rect,t.drawRoundRect=function(e,t,i,n,s){return this.drawRoundRectComplex(e,t,i,n,s,s,s,s)},t.drawRoundRectComplex=function(e,t,n,s,r,a,o,l){return this.append(new i.RoundRect(e,t,n,s,r,a,o,l))},t.drawCircle=function(e,t,n){return this.append(new i.Circle(e,t,n))},t.drawEllipse=function(e,t,n,s){return this.append(new i.Ellipse(e,t,n,s))},t.drawPolyStar=function(e,t,n,s,r,a){return this.append(new i.PolyStar(e,t,n,s,r,a))},t.append=function(e,t){return this._activeInstructions.push(e),this.command=e,t||(this._dirty=!0),this},t.decodePath=function(t){for(var i=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],n=[2,2,4,6,0],s=0,r=t.length,a=[],o=0,l=0,c=e.BASE_64;r>s;){var u=t.charAt(s),h=c[u],d=h>>3,p=i[d];if(!p||3&h)throw"bad path data (@"+s+"): "+u;var f=n[d];d||(o=l=0),a.length=0,s++;for(var g=(h>>2&1)+2,_=0;f>_;_++){var m=c[t.charAt(s)],v=m>>5?-1:1;m=(31&m)<<6|c[t.charAt(s+1)],3==g&&(m=m<<6|c[t.charAt(s+2)]),m=v*m/10,_%2?o=m+=o:l=m+=l,a[_]=m,s+=g}p.apply(this,a)}return this},t.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},t.unstore=function(){return this._storeIndex=0,this},t.clone=function(){var t=new e;return t.command=this.command,t._stroke=this._stroke,t._strokeStyle=this._strokeStyle,t._strokeDash=this._strokeDash,t._strokeIgnoreScale=this._strokeIgnoreScale,t._fill=this._fill,t._instructions=this._instructions.slice(),t._commitIndex=this._commitIndex,t._activeInstructions=this._activeInstructions.slice(),t._dirty=this._dirty,t._storeIndex=this._storeIndex,t},t.toString=function(){return"[Graphics]"},t.mt=t.moveTo,t.lt=t.lineTo,t.at=t.arcTo,t.bt=t.bezierCurveTo,t.qt=t.quadraticCurveTo,t.a=t.arc,t.r=t.rect,t.cp=t.closePath,t.c=t.clear,t.f=t.beginFill,t.lf=t.beginLinearGradientFill,t.rf=t.beginRadialGradientFill,t.bf=t.beginBitmapFill,t.ef=t.endFill,t.ss=t.setStrokeStyle,t.sd=t.setStrokeDash,t.s=t.beginStroke,t.ls=t.beginLinearGradientStroke,t.rs=t.beginRadialGradientStroke,t.bs=t.beginBitmapStroke,t.es=t.endStroke,t.dr=t.drawRect,t.rr=t.drawRoundRect,t.rc=t.drawRoundRectComplex,t.dc=t.drawCircle,t.de=t.drawEllipse,t.dp=t.drawPolyStar,t.p=t.decodePath,t._updateInstructions=function(t){var i=this._instructions,n=this._activeInstructions,s=this._commitIndex;if(this._dirty&&n.length){i.length=s,i.push(e.beginCmd);var r=n.length,a=i.length;i.length=a+r;for(var o=0;r>o;o++)i[o+a]=n[o];this._fill&&i.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,i.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,i.push(this._strokeStyle)),i.push(this._stroke)),this._dirty=!1}t&&(n.length=0,this._commitIndex=i.length)},t._setFill=function(e){return this._updateInstructions(!0),this.command=this._fill=e,this},t._setStroke=function(e){return this._updateInstructions(!0),(this.command=this._stroke=e)&&(e.ignoreScale=this._strokeIgnoreScale),this},(i.LineTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.lineTo(this.x,this.y)},(i.MoveTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.moveTo(this.x,this.y)},(i.ArcTo=function(e,t,i,n,s){this.x1=e,this.y1=t,this.x2=i,this.y2=n,this.radius=s}).prototype.exec=function(e){e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(i.Arc=function(e,t,i,n,s,r){this.x=e,this.y=t,this.radius=i,this.startAngle=n,this.endAngle=s,this.anticlockwise=!!r}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(i.QuadraticCurveTo=function(e,t,i,n){this.cpx=e,this.cpy=t,this.x=i,this.y=n}).prototype.exec=function(e){e.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(i.BezierCurveTo=function(e,t,i,n,s,r){this.cp1x=e,this.cp1y=t,this.cp2x=i,this.cp2y=n,this.x=s,this.y=r}).prototype.exec=function(e){e.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(i.Rect=function(e,t,i,n){this.x=e,this.y=t,this.w=i,this.h=n}).prototype.exec=function(e){e.rect(this.x,this.y,this.w,this.h)},(i.ClosePath=function(){}).prototype.exec=function(e){e.closePath()},(i.BeginPath=function(){}).prototype.exec=function(e){e.beginPath()},t=(i.Fill=function(e,t){this.style=e,this.matrix=t}).prototype,t.exec=function(e){if(this.style){e.fillStyle=this.style;var t=this.matrix;t&&(e.save(),e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty)),e.fill(),t&&e.restore()}},t.linearGradient=function(t,i,n,s,r,a){for(var o=this.style=e._ctx.createLinearGradient(n,s,r,a),l=0,c=t.length;c>l;l++)o.addColorStop(i[l],t[l]);return o.props={colors:t,ratios:i,x0:n,y0:s,x1:r,y1:a,type:"linear"},this},t.radialGradient=function(t,i,n,s,r,a,o,l){for(var c=this.style=e._ctx.createRadialGradient(n,s,r,a,o,l),u=0,h=t.length;h>u;u++)c.addColorStop(i[u],t[u]);return c.props={colors:t,ratios:i,x0:n,y0:s,r0:r,x1:a,y1:o,r1:l,type:"radial"},this},t.bitmap=function(t,i){if(t.naturalWidth||t.getContext||t.readyState>=2){var n=this.style=e._ctx.createPattern(t,i||"");n.props={image:t,repetition:i,type:"bitmap"}}return this},t.path=!1,t=(i.Stroke=function(e,t){this.style=e,this.ignoreScale=t}).prototype,t.exec=function(e){this.style&&(e.strokeStyle=this.style,this.ignoreScale&&(e.save(),e.setTransform(1,0,0,1,0,0)),e.stroke(),this.ignoreScale&&e.restore())},t.linearGradient=i.Fill.prototype.linearGradient,t.radialGradient=i.Fill.prototype.radialGradient,t.bitmap=i.Fill.prototype.bitmap,t.path=!1,t=(i.StrokeStyle=function(e,t,i,n){this.width=e,this.caps=t,this.joints=i,this.miterLimit=n}).prototype,t.exec=function(t){t.lineWidth=null==this.width?"1":this.width,t.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:e.STROKE_CAPS_MAP[this.caps],t.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:e.STROKE_JOINTS_MAP[this.joints],t.miterLimit=null==this.miterLimit?"10":this.miterLimit},t.path=!1,(i.StrokeDash=function(e,t){this.segments=e,this.offset=t||0}).prototype.exec=function(e){e.setLineDash&&(e.setLineDash(this.segments||i.StrokeDash.EMPTY_SEGMENTS),e.lineDashOffset=this.offset||0)},i.StrokeDash.EMPTY_SEGMENTS=[],(i.RoundRect=function(e,t,i,n,s,r,a,o){this.x=e,this.y=t,this.w=i,this.h=n,this.radiusTL=s,this.radiusTR=r,this.radiusBR=a,this.radiusBL=o}).prototype.exec=function(e){var t=(c>l?l:c)/2,i=0,n=0,s=0,r=0,a=this.x,o=this.y,l=this.w,c=this.h,u=this.radiusTL,h=this.radiusTR,d=this.radiusBR,p=this.radiusBL;0>u&&(u*=i=-1),u>t&&(u=t),0>h&&(h*=n=-1),h>t&&(h=t),0>d&&(d*=s=-1),d>t&&(d=t),0>p&&(p*=r=-1),p>t&&(p=t),e.moveTo(a+l-h,o),e.arcTo(a+l+h*n,o-h*n,a+l,o+h,h),e.lineTo(a+l,o+c-d),e.arcTo(a+l+d*s,o+c+d*s,a+l-d,o+c,d),e.lineTo(a+p,o+c),e.arcTo(a-p*r,o+c+p*r,a,o+c-p,p),e.lineTo(a,o+u),e.arcTo(a-u*i,o-u*i,a+u,o,u),e.closePath()},(i.Circle=function(e,t,i){this.x=e,this.y=t,this.radius=i}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,0,2*Math.PI)},(i.Ellipse=function(e,t,i,n){this.x=e,this.y=t,this.w=i,this.h=n}).prototype.exec=function(e){var t=this.x,i=this.y,n=this.w,s=this.h,r=.5522848,a=n/2*r,o=s/2*r,l=t+n,c=i+s,u=t+n/2,h=i+s/2;e.moveTo(t,h),e.bezierCurveTo(t,h-o,u-a,i,u,i),e.bezierCurveTo(u+a,i,l,h-o,l,h),e.bezierCurveTo(l,h+o,u+a,c,u,c),e.bezierCurveTo(u-a,c,t,h+o,t,h)},(i.PolyStar=function(e,t,i,n,s,r){this.x=e,this.y=t,this.radius=i,this.sides=n,this.pointSize=s,this.angle=r}).prototype.exec=function(e){var t=this.x,i=this.y,n=this.radius,s=(this.angle||0)/180*Math.PI,r=this.sides,a=1-(this.pointSize||0),o=Math.PI/r;e.moveTo(t+Math.cos(s)*n,i+Math.sin(s)*n);for(var l=0;r>l;l++)s+=o,1!=a&&e.lineTo(t+Math.cos(s)*n*a,i+Math.sin(s)*n*a),s+=o,e.lineTo(t+Math.cos(s)*n,i+Math.sin(s)*n);e.closePath()},e.beginCmd=new i.BeginPath,createjs.Graphics=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null}var t=createjs.extend(e,createjs.EventDispatcher);e._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],e.suppressCrossDomainErrors=!1,e._snapToPixelEnabled=!1;var i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.getContext&&(e._hitTestCanvas=i,e._hitTestContext=i.getContext("2d"),i.width=i.height=1),e._nextCacheID=1,t.getStage=function(){for(var e=this,t=createjs.Stage;e.parent;)e=e.parent;return e instanceof t?e:null};try{Object.defineProperties(t,{stage:{get:t.getStage}})}catch(n){}t.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},t.draw=function(e,t){var i=this.cacheCanvas;if(t||!i)return!1;var n=this._cacheScale;return e.drawImage(i,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,i.width/n,i.height/n),!0},t.updateContext=function(t){var i=this,n=i.mask,s=i._props.matrix;n&&n.graphics&&!n.graphics.isEmpty()&&(n.getMatrix(s),t.transform(s.a,s.b,s.c,s.d,s.tx,s.ty),n.graphics.drawAsPath(t),t.clip(),s.invert(),t.transform(s.a,s.b,s.c,s.d,s.tx,s.ty)),this.getMatrix(s);var r=s.tx,a=s.ty;e._snapToPixelEnabled&&i.snapToPixel&&(r=r+(0>r?-.5:.5)|0,a=a+(0>a?-.5:.5)|0),t.transform(s.a,s.b,s.c,s.d,r,a),t.globalAlpha*=i.alpha,i.compositeOperation&&(t.globalCompositeOperation=i.compositeOperation),i.shadow&&this._applyShadow(t,i.shadow)},t.cache=function(e,t,i,n,s){s=s||1,this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),this._cacheWidth=i,this._cacheHeight=n,this._cacheOffsetX=e,this._cacheOffsetY=t,this._cacheScale=s,this.updateCache()},t.updateCache=function(t){var i=this.cacheCanvas;if(!i)throw"cache() must be called before updateCache()";var n=this._cacheScale,s=this._cacheOffsetX*n,r=this._cacheOffsetY*n,a=this._cacheWidth,o=this._cacheHeight,l=i.getContext("2d"),c=this._getFilterBounds();s+=this._filterOffsetX=c.x,r+=this._filterOffsetY=c.y,a=Math.ceil(a*n)+c.width,o=Math.ceil(o*n)+c.height,a!=i.width||o!=i.height?(i.width=a,i.height=o):t||l.clearRect(0,0,a+1,o+1),l.save(),l.globalCompositeOperation=t,l.setTransform(n,0,0,n,-s,-r),this.draw(l,!0),this._applyFilters(),l.restore(),this.cacheID=e._nextCacheID++},t.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},t.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},t.localToGlobal=function(e,t,i){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(e,t,i||new createjs.Point)},t.globalToLocal=function(e,t,i){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(e,t,i||new createjs.Point)},t.localToLocal=function(e,t,i,n){return n=this.localToGlobal(e,t,n),i.globalToLocal(n.x,n.y,n)},t.setTransform=function(e,t,i,n,s,r,a,o,l){return this.x=e||0,this.y=t||0,this.scaleX=null==i?1:i,this.scaleY=null==n?1:n,this.rotation=s||0,this.skewX=r||0,this.skewY=a||0,this.regX=o||0,this.regY=l||0,this},t.getMatrix=function(e){var t=this,i=e&&e.identity()||new createjs.Matrix2D;return t.transformMatrix?i.copy(t.transformMatrix):i.appendTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY)},t.getConcatenatedMatrix=function(e){for(var t=this,i=this.getMatrix(e);t=t.parent;)i.prependMatrix(t.getMatrix(t._props.matrix));return i},t.getConcatenatedDisplayProps=function(e){e=e?e.identity():new createjs.DisplayProps;var t=this,i=t.getMatrix(e.matrix);do e.prepend(t.visible,t.alpha,t.shadow,t.compositeOperation),t!=this&&i.prependMatrix(t.getMatrix(t._props.matrix));while(t=t.parent);return e},t.hitTest=function(t,i){var n=e._hitTestContext;n.setTransform(1,0,0,1,-t,-i),this.draw(n);var s=this._testHit(n);return n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,2,2),s},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var e=this.cacheCanvas;if(e){var t=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,e.width/t,e.height/t)}return null},t.getTransformedBounds=function(){return this._getBounds()},t.setBounds=function(e,t,i,n){null==e&&(this._bounds=e),this._bounds=(this._bounds||new createjs.Rectangle).setValues(e,t,i,n)},t.clone=function(){return this._cloneProps(new e)},t.toString=function(){return"[DisplayObject (name="+this.name+")]"},t._cloneProps=function(e){return e.alpha=this.alpha,e.mouseEnabled=this.mouseEnabled,e.tickEnabled=this.tickEnabled,e.name=this.name,e.regX=this.regX,e.regY=this.regY,e.rotation=this.rotation,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.shadow=this.shadow,e.skewX=this.skewX,e.skewY=this.skewY,e.visible=this.visible,e.x=this.x,e.y=this.y,e.compositeOperation=this.compositeOperation,e.snapToPixel=this.snapToPixel,e.filters=null==this.filters?null:this.filters.slice(0),e.mask=this.mask,e.hitArea=this.hitArea,e.cursor=this.cursor,e._bounds=this._bounds,e},t._applyShadow=function(e,t){t=t||Shadow.identity,e.shadowColor=t.color,e.shadowOffsetX=t.offsetX,e.shadowOffsetY=t.offsetY,e.shadowBlur=t.blur},t._tick=function(e){var t=this._listeners;t&&t.tick&&(e.target=null,e.propagationStopped=e.immediatePropagationStopped=!1,this.dispatchEvent(e))},t._testHit=function(t){try{var i=t.getImageData(0,0,1,1).data[3]>1}catch(n){if(!e.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return i},t._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var e=this.filters.length,t=this.cacheCanvas.getContext("2d"),i=this.cacheCanvas.width,n=this.cacheCanvas.height,s=0;e>s;s++)this.filters[s].applyFilter(t,0,0,i,n)},t._getFilterBounds=function(e){var t,i=this.filters,n=this._rectangle.setValues(0,0,0,0);if(!i||!(t=i.length))return n;for(var s=0;t>s;s++){var r=this.filters[s];r.getBounds&&r.getBounds(n)}return n},t._getBounds=function(e,t){return this._transformBounds(this.getBounds(),e,t)},t._transformBounds=function(e,t,i){if(!e)return e;var n=e.x,s=e.y,r=e.width,a=e.height,o=this._props.matrix;o=i?o.identity():this.getMatrix(o),(n||s)&&o.appendTransform(0,0,1,1,0,0,0,-n,-s),t&&o.prependMatrix(t);var l=r*o.a,c=r*o.b,u=a*o.c,h=a*o.d,d=o.tx,p=o.ty,f=d,g=d,_=p,m=p;return(n=l+d)<f?f=n:n>g&&(g=n),(n=l+u+d)<f?f=n:n>g&&(g=n),(n=u+d)<f?f=n:n>g&&(g=n),(s=c+p)<_?_=s:s>m&&(m=s),(s=c+h+p)<_?_=s:s>m&&(m=s),(s=h+p)<_?_=s:s>m&&(m=s),e.setValues(f,_,g-f,m-_)},t._hasMouseEventListener=function(){for(var t=e._MOUSE_EVENTS,i=0,n=t.length;n>i;i++)if(this.hasEventListener(t[i]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var t=createjs.extend(e,createjs.DisplayObject);t.getNumChildren=function(){return this.children.length};try{Object.defineProperties(t,{numChildren:{get:t.getNumChildren}})}catch(i){}t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;for(var i=this.children.slice(),n=0,s=i.length;s>n;n++){var r=i[n];r.isVisible()&&(e.save(),r.updateContext(e),r.draw(e),e.restore())}return!0},t.addChild=function(e){if(null==e)return e;var t=arguments.length;if(t>1){for(var i=0;t>i;i++)this.addChild(arguments[i]);return arguments[t-1]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.push(e),e.dispatchEvent("added"),e},t.addChildAt=function(e,t){var i=arguments.length,n=arguments[i-1];if(0>n||n>this.children.length)return arguments[i-2];if(i>2){for(var s=0;i-1>s;s++)this.addChildAt(arguments[s],n+s);return arguments[i-2]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),e.dispatchEvent("added"),e},t.removeChild=function(e){var t=arguments.length;if(t>1){for(var i=!0,n=0;t>n;n++)i=i&&this.removeChild(arguments[n]);return i}return this.removeChildAt(createjs.indexOf(this.children,e))},t.removeChildAt=function(e){var t=arguments.length;if(t>1){for(var i=[],n=0;t>n;n++)i[n]=arguments[n];i.sort(function(e,t){return t-e});for(var s=!0,n=0;t>n;n++)s=s&&this.removeChildAt(i[n]);return s}if(0>e||e>this.children.length-1)return!1;var r=this.children[e];return r&&(r.parent=null),this.children.splice(e,1),r.dispatchEvent("removed"),!0},t.removeAllChildren=function(){for(var e=this.children;e.length;)this.removeChildAt(0)},t.getChildAt=function(e){return this.children[e]},t.getChildByName=function(e){for(var t=this.children,i=0,n=t.length;n>i;i++)if(t[i].name==e)return t[i];return null},t.sortChildren=function(e){this.children.sort(e)},t.getChildIndex=function(e){return createjs.indexOf(this.children,e)},t.swapChildrenAt=function(e,t){var i=this.children,n=i[e],s=i[t];n&&s&&(i[e]=s,i[t]=n)},t.swapChildren=function(e,t){for(var i,n,s=this.children,r=0,a=s.length;a>r&&(s[r]==e&&(i=r),s[r]==t&&(n=r),null==i||null==n);r++);r!=a&&(s[i]=t,s[n]=e)},t.setChildIndex=function(e,t){var i=this.children,n=i.length;if(!(e.parent!=this||0>t||t>=n)){for(var s=0;n>s&&i[s]!=e;s++);s!=n&&s!=t&&(i.splice(s,1),i.splice(t,0,e))}},t.contains=function(e){for(;e;){if(e==this)return!0;e=e.parent}return!1},t.hitTest=function(e,t){return null!=this.getObjectUnderPoint(e,t)},t.getObjectsUnderPoint=function(e,t,i){var n=[],s=this.localToGlobal(e,t);return this._getObjectsUnderPoint(s.x,s.y,n,i>0,1==i),n},t.getObjectUnderPoint=function(e,t,i){var n=this.localToGlobal(e,t);return this._getObjectsUnderPoint(n.x,n.y,null,i>0,1==i);
},t.getBounds=function(){return this._getBounds(null,!0)},t.getTransformedBounds=function(){return this._getBounds()},t.clone=function(t){var i=this._cloneProps(new e);return t&&this._cloneChildren(i),i},t.toString=function(){return"[Container (name="+this.name+")]"},t._tick=function(e){if(this.tickChildren)for(var t=this.children.length-1;t>=0;t--){var i=this.children[t];i.tickEnabled&&i._tick&&i._tick(e)}this.DisplayObject__tick(e)},t._cloneChildren=function(e){e.children.length&&e.removeAllChildren();for(var t=e.children,i=0,n=this.children.length;n>i;i++){var s=this.children[i].clone(!0);s.parent=e,t.push(s)}},t._getObjectsUnderPoint=function(t,i,n,s,r,a){if(a=a||0,!a&&!this._testMask(this,t,i))return null;var o,l=createjs.DisplayObject._hitTestContext;r=r||s&&this._hasMouseEventListener();for(var c=this.children,u=c.length,h=u-1;h>=0;h--){var d=c[h],p=d.hitArea;if(d.visible&&(p||d.isVisible())&&(!s||d.mouseEnabled)&&(p||this._testMask(d,t,i)))if(!p&&d instanceof e){var f=d._getObjectsUnderPoint(t,i,n,s,r,a+1);if(!n&&f)return s&&!this.mouseChildren?this:f}else{if(s&&!r&&!d._hasMouseEventListener())continue;var g=d.getConcatenatedDisplayProps(d._props);if(o=g.matrix,p&&(o.appendMatrix(p.getMatrix(p._props.matrix)),g.alpha=p.alpha),l.globalAlpha=g.alpha,l.setTransform(o.a,o.b,o.c,o.d,o.tx-t,o.ty-i),(p||d).draw(l),!this._testHit(l))continue;if(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,2,2),!n)return s&&!this.mouseChildren?this:d;n.push(d)}}return null},t._testMask=function(e,t,i){var n=e.mask;if(!n||!n.graphics||n.graphics.isEmpty())return!0;var s=this._props.matrix,r=e.parent;s=r?r.getConcatenatedMatrix(s):s.identity(),s=n.getMatrix(n._props.matrix).prependMatrix(s);var a=createjs.DisplayObject._hitTestContext;return a.setTransform(s.a,s.b,s.c,s.d,s.tx-t,s.ty-i),n.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),this._testHit(a)?(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0):!1},t._getBounds=function(e,t){var i=this.DisplayObject_getBounds();if(i)return this._transformBounds(i,e,t);var n=this._props.matrix;n=t?n.identity():this.getMatrix(n),e&&n.prependMatrix(e);for(var s=this.children.length,r=null,a=0;s>a;a++){var o=this.children[a];o.visible&&(i=o._getBounds(n))&&(r?r.extend(i.x,i.y,i.width,i.height):r=i.clone())}return r},createjs.Container=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof e?document.getElementById(e):e,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var t=createjs.extend(e,createjs.Container);t._get_nextStage=function(){return this._nextStage},t._set_nextStage=function(e){this._nextStage&&(this._nextStage._prevStage=null),e&&(e._prevStage=this),this._nextStage=e};try{Object.defineProperties(t,{nextStage:{get:t._get_nextStage,set:t._set_nextStage}})}catch(i){}t.update=function(e){if(this.canvas&&(this.tickOnUpdate&&this.tick(e),this.dispatchEvent("drawstart",!1,!0)!==!1)){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var t=this.drawRect,i=this.canvas.getContext("2d");i.setTransform(1,0,0,1,0,0),this.autoClear&&(t?i.clearRect(t.x,t.y,t.width,t.height):i.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),i.save(),this.drawRect&&(i.beginPath(),i.rect(t.x,t.y,t.width,t.height),i.clip()),this.updateContext(i),this.draw(i,!1),i.restore(),this.dispatchEvent("drawend")}},t.tick=function(e){if(this.tickEnabled&&this.dispatchEvent("tickstart",!1,!0)!==!1){var t=new createjs.Event("tick");if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);this._tick(t),this.dispatchEvent("tickend")}},t.handleEvent=function(e){"tick"==e.type&&this.update(e)},t.clear=function(){if(this.canvas){var e=this.canvas.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},t.toDataURL=function(e,t){var i,n=this.canvas.getContext("2d"),s=this.canvas.width,r=this.canvas.height;if(e){i=n.getImageData(0,0,s,r);var a=n.globalCompositeOperation;n.globalCompositeOperation="destination-over",n.fillStyle=e,n.fillRect(0,0,s,r)}var o=this.canvas.toDataURL(t||"image/png");return e&&(n.putImageData(i,0,0),n.globalCompositeOperation=a),o},t.enableMouseOver=function(e){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==e&&this._testMouseOver(!0)),null==e)e=20;else if(0>=e)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,e))},t.enableDOMEvents=function(e){null==e&&(e=!0);var t,i,n=this._eventListeners;if(!e&&n){for(t in n)i=n[t],i.t.removeEventListener(t,i.f,!1);this._eventListeners=null}else if(e&&!n&&this.canvas){var s=window.addEventListener?window:document,r=this;n=this._eventListeners={},n.mouseup={t:s,f:function(e){r._handleMouseUp(e)}},n.mousemove={t:s,f:function(e){r._handleMouseMove(e)}},n.dblclick={t:this.canvas,f:function(e){r._handleDoubleClick(e)}},n.mousedown={t:this.canvas,f:function(e){r._handleMouseDown(e)}};for(t in n)i=n[t],i.t.addEventListener(t,i.f,!1)}},t.clone=function(){throw"Stage cannot be cloned."},t.toString=function(){return"[Stage (name="+this.name+")]"},t._getElementRect=function(e){var t;try{t=e.getBoundingClientRect()}catch(i){t={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}var n=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),s=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),r=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle,a=parseInt(r.paddingLeft)+parseInt(r.borderLeftWidth),o=parseInt(r.paddingTop)+parseInt(r.borderTopWidth),l=parseInt(r.paddingRight)+parseInt(r.borderRightWidth),c=parseInt(r.paddingBottom)+parseInt(r.borderBottomWidth);return{left:t.left+n+a,right:t.right+n-l,top:t.top+s+o,bottom:t.bottom+s-c}},t._getPointerData=function(e){var t=this._pointerData[e];return t||(t=this._pointerData[e]={x:0,y:0}),t},t._handleMouseMove=function(e){e||(e=window.event),this._handlePointerMove(-1,e,e.pageX,e.pageY)},t._handlePointerMove=function(e,t,i,n,s){if((!this._prevStage||void 0!==s)&&this.canvas){var r=this._nextStage,a=this._getPointerData(e),o=a.inBounds;this._updatePointerPosition(e,t,i,n),(o||a.inBounds||this.mouseMoveOutside)&&(-1===e&&a.inBounds==!o&&this._dispatchMouseEvent(this,o?"mouseleave":"mouseenter",!1,e,a,t),this._dispatchMouseEvent(this,"stagemousemove",!1,e,a,t),this._dispatchMouseEvent(a.target,"pressmove",!0,e,a,t)),r&&r._handlePointerMove(e,t,i,n,null)}},t._updatePointerPosition=function(e,t,i,n){var s=this._getElementRect(this.canvas);i-=s.left,n-=s.top;var r=this.canvas.width,a=this.canvas.height;i/=(s.right-s.left)/r,n/=(s.bottom-s.top)/a;var o=this._getPointerData(e);(o.inBounds=i>=0&&n>=0&&r-1>=i&&a-1>=n)?(o.x=i,o.y=n):this.mouseMoveOutside&&(o.x=0>i?0:i>r-1?r-1:i,o.y=0>n?0:n>a-1?a-1:n),o.posEvtObj=t,o.rawX=i,o.rawY=n,(e===this._primaryPointerID||-1===e)&&(this.mouseX=o.x,this.mouseY=o.y,this.mouseInBounds=o.inBounds)},t._handleMouseUp=function(e){this._handlePointerUp(-1,e,!1)},t._handlePointerUp=function(e,t,i,n){var s=this._nextStage,r=this._getPointerData(e);if(!this._prevStage||void 0!==n){var a=null,o=r.target;n||!o&&!s||(a=this._getObjectsUnderPoint(r.x,r.y,null,!0)),r.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,e,r,t,a),r.down=!1),a==o&&this._dispatchMouseEvent(o,"click",!0,e,r,t),this._dispatchMouseEvent(o,"pressup",!0,e,r,t),i?(e==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[e]):r.target=null,s&&s._handlePointerUp(e,t,i,n||a&&this)}},t._handleMouseDown=function(e){this._handlePointerDown(-1,e,e.pageX,e.pageY)},t._handlePointerDown=function(e,t,i,n,s){this.preventSelection&&t.preventDefault(),(null==this._primaryPointerID||-1===e)&&(this._primaryPointerID=e),null!=n&&this._updatePointerPosition(e,t,i,n);var r=null,a=this._nextStage,o=this._getPointerData(e);s||(r=o.target=this._getObjectsUnderPoint(o.x,o.y,null,!0)),o.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,e,o,t,r),o.down=!0),this._dispatchMouseEvent(r,"mousedown",!0,e,o,t),a&&a._handlePointerDown(e,t,i,n,s||r&&this)},t._testMouseOver=function(e,t,i){if(!this._prevStage||void 0!==t){var n=this._nextStage;if(!this._mouseOverIntervalID)return void(n&&n._testMouseOver(e,t,i));var s=this._getPointerData(-1);if(s&&(e||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var r,a,o,l=s.posEvtObj,c=i||l&&l.target==this.canvas,u=null,h=-1,d="";!t&&(e||this.mouseInBounds&&c)&&(u=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var p=this._mouseOverTarget||[],f=p[p.length-1],g=this._mouseOverTarget=[];for(r=u;r;)g.unshift(r),d||(d=r.cursor),r=r.parent;for(this.canvas.style.cursor=d,!t&&i&&(i.canvas.style.cursor=d),a=0,o=g.length;o>a&&g[a]==p[a];a++)h=a;for(f!=u&&this._dispatchMouseEvent(f,"mouseout",!0,-1,s,l,u),a=p.length-1;a>h;a--)this._dispatchMouseEvent(p[a],"rollout",!1,-1,s,l,u);for(a=g.length-1;a>h;a--)this._dispatchMouseEvent(g[a],"rollover",!1,-1,s,l,f);f!=u&&this._dispatchMouseEvent(u,"mouseover",!0,-1,s,l,f),n&&n._testMouseOver(e,t||u&&this,i||c&&this)}}},t._handleDoubleClick=function(e,t){var i=null,n=this._nextStage,s=this._getPointerData(-1);t||(i=this._getObjectsUnderPoint(s.x,s.y,null,!0),this._dispatchMouseEvent(i,"dblclick",!0,-1,s,e)),n&&n._handleDoubleClick(e,t||i&&this)},t._dispatchMouseEvent=function(e,t,i,n,s,r,a){if(e&&(i||e.hasEventListener(t))){var o=new createjs.MouseEvent(t,i,!1,s.x,s.y,r,n,n===this._primaryPointerID||-1===n,s.rawX,s.rawY,a);e.dispatchEvent(o)}},createjs.Stage=createjs.promote(e,"Container")}(),this.createjs=this.createjs||{},function(){function e(e){this.DisplayObject_constructor(),"string"==typeof e?(this.image=document.createElement("img"),this.image.src=e):this.image=e,this.sourceRect=null}var t=createjs.extend(e,createjs.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.image,t=this.cacheCanvas||e&&(e.naturalWidth||e.getContext||e.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t)||!this.image)return!0;var i=this.image,n=this.sourceRect;if(n){var s=n.x,r=n.y,a=s+n.width,o=r+n.height,l=0,c=0,u=i.width,h=i.height;0>s&&(l-=s,s=0),a>u&&(a=u),0>r&&(c-=r,r=0),o>h&&(o=h),e.drawImage(i,s,r,a-s,o-r,l,c,a-s,o-r)}else e.drawImage(i,0,0);return!0},t.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;var t=this.image,i=this.sourceRect||t,n=t&&(t.naturalWidth||t.getContext||t.readyState>=2);return n?this._rectangle.setValues(0,0,i.width,i.height):null},t.clone=function(){var t=new e(this.image);return this.sourceRect&&(t.sourceRect=this.sourceRect.clone()),this._cloneProps(t),t},t.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=e,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=t&&this.gotoAndPlay(t)}var t=createjs.extend(e,createjs.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this._normalizeFrame();var i=this.spriteSheet.getFrame(0|this._currentFrame);if(!i)return!1;var n=i.rect;return n.width&&n.height&&e.drawImage(i.image,n.x,n.y,n.width,n.height,-i.regX,-i.regY,n.width,n.height),!0},t.play=function(){this.paused=!1},t.stop=function(){this.paused=!0},t.gotoAndPlay=function(e){this.paused=!1,this._skipAdvance=!0,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.advance=function(e){var t=this.framerate||this.spriteSheet.framerate,i=t&&null!=e?e/(1e3/t):1;this._normalizeFrame(i)},t.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},t.clone=function(){return this._cloneProps(new e(this.spriteSheet))},t.toString=function(){return"[Sprite (name="+this.name+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.currentFrame=this.currentFrame,e.currentAnimation=this.currentAnimation,e.paused=this.paused,e.currentAnimationFrame=this.currentAnimationFrame,e.framerate=this.framerate,e._animation=this._animation,e._currentFrame=this._currentFrame,e._skipAdvance=this._skipAdvance,e},t._tick=function(e){this.paused||(this._skipAdvance||this.advance(e&&e.delta),this._skipAdvance=!1),this.DisplayObject__tick(e)},t._normalizeFrame=function(e){e=e||0;var t,i=this._animation,n=this.paused,s=this._currentFrame;if(i){var r=i.speed||1,a=this.currentAnimationFrame;if(t=i.frames.length,a+e*r>=t){var o=i.next;if(this._dispatchAnimationEnd(i,s,n,o,t-1))return;if(o)return this._goto(o,e-(t-a)/r);this.paused=!0,a=i.frames.length-1}else a+=e*r;this.currentAnimationFrame=a,this._currentFrame=i.frames[0|a]}else if(s=this._currentFrame+=e,t=this.spriteSheet.getNumFrames(),s>=t&&t>0&&!this._dispatchAnimationEnd(i,s,n,t-1)&&(this._currentFrame-=t)>=t)return this._normalizeFrame();s=0|this._currentFrame,this.currentFrame!=s&&(this.currentFrame=s,this.dispatchEvent("change"))},t._dispatchAnimationEnd=function(e,t,i,n,s){var r=e?e.name:null;if(this.hasEventListener("animationend")){var a=new createjs.Event("animationend");a.name=r,a.next=n,this.dispatchEvent(a)}var o=this._animation!=e||this._currentFrame!=t;return o||i||!this.paused||(this.currentAnimationFrame=s,o=!0),o},t._goto=function(e,t){if(this.currentAnimationFrame=0,isNaN(e)){var i=this.spriteSheet.getAnimation(e);i&&(this._animation=i,this.currentAnimation=e,this._normalizeFrame(t))}else this.currentAnimation=this._animation=null,this._currentFrame=e,this._normalizeFrame()},createjs.Sprite=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.DisplayObject_constructor(),this.graphics=e?e:new createjs.Graphics}var t=createjs.extend(e,createjs.DisplayObject);t.isVisible=function(){var e=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){return this.DisplayObject_draw(e,t)?!0:(this.graphics.draw(e,this),!0)},t.clone=function(t){var i=t&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new e(i))},t.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.DisplayObject_constructor(),this.text=e,this.font=t,this.color=i,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var t=createjs.extend(e,createjs.DisplayObject),i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.getContext&&(e._workingContext=i.getContext("2d"),i.width=i.height=1),e.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},e.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},t.isVisible=function(){var e=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var i=this.color||"#000";return this.outline?(e.strokeStyle=i,e.lineWidth=1*this.outline):e.fillStyle=i,this._drawText(this._prepContext(e)),!0},t.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},t.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},t.getMeasuredHeight=function(){return this._drawText(null,{}).height},t.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;if(null==this.text||""===this.text)return null;var i=this._drawText(null,{}),n=this.maxWidth&&this.maxWidth<i.width?this.maxWidth:i.width,s=n*e.H_OFFSETS[this.textAlign||"left"],r=this.lineHeight||this.getMeasuredLineHeight(),a=r*e.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(s,a,n,i.height)},t.getMetrics=function(){var t={lines:[]};return t.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),t.vOffset=t.lineHeight*e.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,t,t.lines)},t.clone=function(){return this._cloneProps(new e(this.text,this.font,this.color))},t.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,e.maxWidth=this.maxWidth,e.outline=this.outline,e.lineHeight=this.lineHeight,e.lineWidth=this.lineWidth,e},t._prepContext=function(e){return e.font=this.font||"10px sans-serif",e.textAlign=this.textAlign||"left",e.textBaseline=this.textBaseline||"top",e},t._drawText=function(t,i,n){var s=!!t;s||(t=e._workingContext,t.save(),this._prepContext(t));for(var r=this.lineHeight||this.getMeasuredLineHeight(),a=0,o=0,l=String(this.text).split(/(?:\r\n|\r|\n)/),c=0,u=l.length;u>c;c++){var h=l[c],d=null;if(null!=this.lineWidth&&(d=t.measureText(h).width)>this.lineWidth){var p=h.split(/(\s)/);h=p[0],d=t.measureText(h).width;for(var f=1,g=p.length;g>f;f+=2){var _=t.measureText(p[f]+p[f+1]).width;d+_>this.lineWidth?(s&&this._drawTextLine(t,h,o*r),n&&n.push(h),d>a&&(a=d),h=p[f+1],d=t.measureText(h).width,o++):(h+=p[f]+p[f+1],d+=_)}}s&&this._drawTextLine(t,h,o*r),n&&n.push(h),i&&null==d&&(d=t.measureText(h).width),d>a&&(a=d),o++}return i&&(i.width=a,i.height=o*r),s||t.restore(),i},t._drawTextLine=function(e,t,i){this.outline?e.strokeText(t,0,i,this.maxWidth||65535):e.fillText(t,0,i,this.maxWidth||65535)},t._getMeasuredWidth=function(t){var i=e._workingContext;i.save();var n=this._prepContext(i).measureText(t).width;return i.restore(),n},createjs.Text=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.Container_constructor(),this.text=e||"",this.spriteSheet=t,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var t=createjs.extend(e,createjs.Container);e.maxPoolSize=100,e._spritePool=[],t.draw=function(e,t){this.DisplayObject_draw(e,t)||(this._updateText(),this.Container_draw(e,t))},t.getBounds=function(){return this._updateText(),this.Container_getBounds()},t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&e)},t.clone=function(){return this._cloneProps(new e(this.text,this.spriteSheet))},t.addChild=t.addChildAt=t.removeChild=t.removeChildAt=t.removeAllChildren=function(){},t._cloneProps=function(e){return this.Container__cloneProps(e),e.lineHeight=this.lineHeight,e.letterSpacing=this.letterSpacing,e.spaceWidth=this.spaceWidth,e},t._getFrameIndex=function(e,t){var i,n=t.getAnimation(e);return n||(e!=(i=e.toUpperCase())||e!=(i=e.toLowerCase())||(i=null),i&&(n=t.getAnimation(i))),n&&n.frames[0]},t._getFrame=function(e,t){var i=this._getFrameIndex(e,t);return null==i?i:t.getFrame(i)},t._getLineHeight=function(e){var t=this._getFrame("1",e)||this._getFrame("T",e)||this._getFrame("L",e)||e.getFrame(0);return t?t.rect.height:1},t._getSpaceWidth=function(e){var t=this._getFrame("1",e)||this._getFrame("l",e)||this._getFrame("e",e)||this._getFrame("a",e)||e.getFrame(0);return t?t.rect.width:1},t._updateText=function(){var t,i=0,n=0,s=this._oldProps,r=!1,a=this.spaceWidth,o=this.lineHeight,l=this.spriteSheet,c=e._spritePool,u=this.children,h=0,d=u.length;for(var p in s)s[p]!=this[p]&&(s[p]=this[p],r=!0);if(r){var f=!!this._getFrame(" ",l);f||a||(a=this._getSpaceWidth(l)),o||(o=this._getLineHeight(l));for(var g=0,_=this.text.length;_>g;g++){var m=this.text.charAt(g);if(" "!=m||f)if("\n"!=m&&"\r"!=m){var v=this._getFrameIndex(m,l);null!=v&&(d>h?t=u[h]:(u.push(t=c.length?c.pop():new createjs.Sprite),t.parent=this,d++),t.spriteSheet=l,t.gotoAndStop(v),t.x=i,t.y=n,h++,i+=t.getBounds().width+this.letterSpacing)}else"\r"==m&&"\n"==this.text.charAt(g+1)&&g++,i=0,n+=o;else i+=a}for(;d>h;)c.push(t=u.pop()),t.parent=null,d--;c.length>e.maxPoolSize&&(c.length=e.maxPoolSize)}},createjs.BitmapText=createjs.promote(e,"Container")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"SpriteSheetUtils cannot be instantiated"}var t=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");t.getContext&&(e._workingCanvas=t,e._workingContext=t.getContext("2d"),t.width=t.height=1),e.addFlippedFrames=function(t,i,n,s){if(i||n||s){var r=0;i&&e._flip(t,++r,!0,!1),n&&e._flip(t,++r,!1,!0),s&&e._flip(t,++r,!0,!0)}},e.extractFrame=function(t,i){isNaN(i)&&(i=t.getAnimation(i).frames[0]);var n=t.getFrame(i);if(!n)return null;var s=n.rect,r=e._workingCanvas;r.width=s.width,r.height=s.height,e._workingContext.drawImage(n.image,s.x,s.y,s.width,s.height,0,0,s.width,s.height);var a=document.createElement("img");return a.src=r.toDataURL("image/png"),a},e.mergeAlpha=function(e,t,i){i||(i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),i.width=Math.max(t.width,e.width),i.height=Math.max(t.height,e.height);var n=i.getContext("2d");return n.save(),n.drawImage(e,0,0),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),n.restore(),i},e._flip=function(t,i,n,s){for(var r=t._images,a=e._workingCanvas,o=e._workingContext,l=r.length/i,c=0;l>c;c++){var u=r[c];u.__tmp=c,o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,a.width+1,a.height+1),a.width=u.width,a.height=u.height,o.setTransform(n?-1:1,0,0,s?-1:1,n?u.width:0,s?u.height:0),o.drawImage(u,0,0);var h=document.createElement("img");h.src=a.toDataURL("image/png"),h.width=u.width,h.height=u.height,r.push(h)}var d=t._frames,p=d.length/i;for(c=0;p>c;c++){u=d[c];var f=u.rect.clone();h=r[u.image.__tmp+l*i];var g={image:h,rect:f,regX:u.regX,regY:u.regY};n&&(f.x=h.width-f.x-f.width,g.regX=f.width-u.regX),s&&(f.y=h.height-f.y-f.height,g.regY=f.height-u.regY),d.push(g)}var _="_"+(n?"h":"")+(s?"v":""),m=t._animations,v=t._data,b=m.length/i;for(c=0;b>c;c++){var y=m[c];u=v[y];var w={name:y+_,speed:u.speed,next:u.next,frames:[]};u.next&&(w.next+=_),d=u.frames;for(var S=0,T=d.length;T>S;S++)w.frames.push(d[S]+p*i);v[w.name]=w,m.push(w.name)}},createjs.SpriteSheetUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var t=createjs.extend(e,createjs.EventDispatcher);e.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",e.ERR_RUNNING="a build is already running",t.addFrame=function(t,i,n,s,r){if(this._data)throw e.ERR_RUNNING;var a=i||t.bounds||t.nominalBounds;return!a&&t.getBounds&&(a=t.getBounds()),a?(n=n||1,this._frames.push({source:t,sourceRect:a,scale:n,funct:s,data:r,index:this._frames.length,height:a.height*n})-1):null},t.addAnimation=function(t,i,n,s){if(this._data)throw e.ERR_RUNNING;this._animations[t]={frames:i,next:n,frequency:s}},t.addMovieClip=function(t,i,n,s,r,a){if(this._data)throw e.ERR_RUNNING;var o=t.frameBounds,l=i||t.bounds||t.nominalBounds;if(!l&&t.getBounds&&(l=t.getBounds()),l||o){var c,u,h=this._frames.length,d=t.timeline.duration;for(c=0;d>c;c++){var p=o&&o[c]?o[c]:l;this.addFrame(t,p,n,this._setupMovieClipFrame,{i:c,f:s,d:r})}var f=t.timeline._labels,g=[];for(var _ in f)g.push({index:f[_],label:_});if(g.length)for(g.sort(function(e,t){return e.index-t.index}),c=0,u=g.length;u>c;c++){for(var m=g[c].label,v=h+g[c].index,b=h+(c==u-1?d:g[c+1].index),y=[],w=v;b>w;w++)y.push(w);(!a||(m=a(m,t,v,b)))&&this.addAnimation(m,y,!0)}}},t.build=function(){if(this._data)throw e.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},t.buildAsync=function(t){if(this._data)throw e.ERR_RUNNING;this.timeSlice=t,this._startBuild();var i=this;this._timerID=setTimeout(function(){i._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},t.stopAsync=function(){clearTimeout(this._timerID),this._data=null},t.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},t.toString=function(){return"[SpriteSheetBuilder]"},t._startBuild=function(){var t=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var i=[];this._data={images:[],frames:i,animations:this._animations};var n=this._frames.slice();if(n.sort(function(e,t){return e.height<=t.height?-1:1}),n[n.length-1].height+2*t>this.maxHeight)throw e.ERR_DIMENSIONS;for(var s=0,r=0,a=0;n.length;){var o=this._fillRow(n,s,a,i,t);if(o.w>r&&(r=o.w),s+=o.h,!o.h||!n.length){var l=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");l.width=this._getSize(r,this.maxWidth),l.height=this._getSize(s,this.maxHeight),this._data.images[a]=l,o.h||(r=s=0,a++)}}},t._setupMovieClipFrame=function(e,t){var i=e.actionsEnabled;e.actionsEnabled=!1,e.gotoAndStop(t.i),e.actionsEnabled=i,t.f&&t.f(e,t.d,t.i)},t._getSize=function(e,t){for(var i=4;Math.pow(2,++i)<e;);return Math.min(t,Math.pow(2,i))},t._fillRow=function(t,i,n,s,r){var a=this.maxWidth,o=this.maxHeight;i+=r;for(var l=o-i,c=r,u=0,h=t.length-1;h>=0;h--){var d=t[h],p=this._scale*d.scale,f=d.sourceRect,g=d.source,_=Math.floor(p*f.x-r),m=Math.floor(p*f.y-r),v=Math.ceil(p*f.height+2*r),b=Math.ceil(p*f.width+2*r);if(b>a)throw e.ERR_DIMENSIONS;v>l||c+b>a||(d.img=n,d.rect=new createjs.Rectangle(c,i,b,v),u=u||v,t.splice(h,1),s[d.index]=[c,i,b,v,n,Math.round(-_+p*g.regX-r),Math.round(-m+p*g.regY-r)],c+=b)}return{w:c,h:u}},t._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},t._run=function(){for(var e=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),t=(new Date).getTime()+e,i=!1;t>(new Date).getTime();)if(!this._drawNext()){i=!0;break}if(i)this._endBuild();else{var n=this;this._timerID=setTimeout(function(){n._run()},50-e)}var s=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var r=new createjs.Event("progress");r.progress=s,this.dispatchEvent(r)}},t._drawNext=function(){var e=this._frames[this._index],t=e.scale*this._scale,i=e.rect,n=e.sourceRect,s=this._data.images[e.img],r=s.getContext("2d");return e.funct&&e.funct(e.source,e.data),r.save(),r.beginPath(),r.rect(i.x,i.y,i.width,i.height),r.clip(),r.translate(Math.ceil(i.x-n.x*t),Math.ceil(i.y-n.y*t)),r.scale(t,t),e.source.draw(r),r.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.DisplayObject_constructor(),"string"==typeof e&&(e=document.getElementById(e)),this.mouseEnabled=!1;var t=e.style;t.position="absolute",t.transformOrigin=t.WebkitTransformOrigin=t.msTransformOrigin=t.MozTransformOrigin=t.OTransformOrigin="0% 0%",this.htmlElement=e,this._oldProps=null}var t=createjs.extend(e,createjs.DisplayObject);t.isVisible=function(){return null!=this.htmlElement},t.draw=function(e,t){return!0},t.cache=function(){},t.uncache=function(){},t.updateCache=function(){},t.hitTest=function(){},t.localToGlobal=function(){},t.globalToLocal=function(){},t.localToLocal=function(){},t.clone=function(){throw"DOMElement cannot be cloned."},t.toString=function(){return"[DOMElement (name="+this.name+")]"},t._tick=function(e){var t=this.getStage();t&&t.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(e)},t._handleDrawEnd=function(e){var t=this.htmlElement;if(t){var i=t.style,n=this.getConcatenatedDisplayProps(this._props),s=n.matrix,r=n.visible?"visible":"hidden";if(r!=i.visibility&&(i.visibility=r),n.visible){var a=this._oldProps,o=a&&a.matrix,l=1e4;if(!o||!o.equals(s)){var c="matrix("+(s.a*l|0)/l+","+(s.b*l|0)/l+","+(s.c*l|0)/l+","+(s.d*l|0)/l+","+(s.tx+.5|0);i.transform=i.WebkitTransform=i.OTransform=i.msTransform=c+","+(s.ty+.5|0)+")",i.MozTransform=c+"px,"+(s.ty+.5|0)+"px)",a||(a=this._oldProps=new createjs.DisplayProps(!0,NaN)),a.matrix.copy(s)}a.alpha!=n.alpha&&(i.opacity=""+(n.alpha*l|0)/l,a.alpha=n.alpha)}}},createjs.DOMElement=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){}var t=e.prototype;t.getBounds=function(e){return e},t.applyFilter=function(e,t,i,n,s,r,a,o){r=r||e,null==a&&(a=t),null==o&&(o=i);try{var l=e.getImageData(t,i,n,s)}catch(c){return!1}return this._applyFilter(l)?(r.putImageData(l,a,o),!0):!1},t.toString=function(){return"[Filter]"},t.clone=function(){return new e},t._applyFilter=function(e){return!0},createjs.Filter=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){(isNaN(e)||0>e)&&(e=0),(isNaN(t)||0>t)&&(t=0),(isNaN(i)||1>i)&&(i=1),this.blurX=0|e,this.blurY=0|t,this.quality=0|i}var t=createjs.extend(e,createjs.Filter);e.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],e.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],t.getBounds=function(e){var t=0|this.blurX,i=0|this.blurY;if(0>=t&&0>=i)return e;var n=Math.pow(this.quality,.2);return(e||new createjs.Rectangle).pad(t*n+1,i*n+1,t*n+1,i*n+1)},t.clone=function(){return new e(this.blurX,this.blurY,this.quality)},t.toString=function(){return"[BlurFilter]"},t._applyFilter=function(t){var i=this.blurX>>1;if(isNaN(i)||0>i)return!1;var n=this.blurY>>1;if(isNaN(n)||0>n)return!1;if(0==i&&0==n)return!1;var s=this.quality;(isNaN(s)||1>s)&&(s=1),s|=0,s>3&&(s=3),1>s&&(s=1);var r=t.data,a=0,o=0,l=0,c=0,u=0,h=0,d=0,p=0,f=0,g=0,_=0,m=0,v=0,b=0,y=0,w=i+i+1|0,S=n+n+1|0,T=0|t.width,E=0|t.height,P=T-1|0,j=E-1|0,x=i+1|0,L=n+1|0,A={
r:0,b:0,g:0,a:0},k=A;for(l=1;w>l;l++)k=k.n={r:0,b:0,g:0,a:0};k.n=A;var R={r:0,b:0,g:0,a:0},M=R;for(l=1;S>l;l++)M=M.n={r:0,b:0,g:0,a:0};M.n=R;for(var D=null,I=0|e.MUL_TABLE[i],O=0|e.SHG_TABLE[i],C=0|e.MUL_TABLE[n],B=0|e.SHG_TABLE[n];s-- >0;){d=h=0;var N=I,H=O;for(o=E;--o>-1;){for(p=x*(m=r[0|h]),f=x*(v=r[h+1|0]),g=x*(b=r[h+2|0]),_=x*(y=r[h+3|0]),k=A,l=x;--l>-1;)k.r=m,k.g=v,k.b=b,k.a=y,k=k.n;for(l=1;x>l;l++)c=h+((l>P?P:l)<<2)|0,p+=k.r=r[c],f+=k.g=r[c+1],g+=k.b=r[c+2],_+=k.a=r[c+3],k=k.n;for(D=A,a=0;T>a;a++)r[h++]=p*N>>>H,r[h++]=f*N>>>H,r[h++]=g*N>>>H,r[h++]=_*N>>>H,c=d+((c=a+i+1)<P?c:P)<<2,p-=D.r-(D.r=r[c]),f-=D.g-(D.g=r[c+1]),g-=D.b-(D.b=r[c+2]),_-=D.a-(D.a=r[c+3]),D=D.n;d+=T}for(N=C,H=B,a=0;T>a;a++){for(h=a<<2|0,p=L*(m=r[h])|0,f=L*(v=r[h+1|0])|0,g=L*(b=r[h+2|0])|0,_=L*(y=r[h+3|0])|0,M=R,l=0;L>l;l++)M.r=m,M.g=v,M.b=b,M.a=y,M=M.n;for(u=T,l=1;n>=l;l++)h=u+a<<2,p+=M.r=r[h],f+=M.g=r[h+1],g+=M.b=r[h+2],_+=M.a=r[h+3],M=M.n,j>l&&(u+=T);if(h=a,D=R,s>0)for(o=0;E>o;o++)c=h<<2,r[c+3]=y=_*N>>>H,y>0?(r[c]=p*N>>>H,r[c+1]=f*N>>>H,r[c+2]=g*N>>>H):r[c]=r[c+1]=r[c+2]=0,c=a+((c=o+L)<j?c:j)*T<<2,p-=D.r-(D.r=r[c]),f-=D.g-(D.g=r[c+1]),g-=D.b-(D.b=r[c+2]),_-=D.a-(D.a=r[c+3]),D=D.n,h+=T;else for(o=0;E>o;o++)c=h<<2,r[c+3]=y=_*N>>>H,y>0?(y=255/y,r[c]=(p*N>>>H)*y,r[c+1]=(f*N>>>H)*y,r[c+2]=(g*N>>>H)*y):r[c]=r[c+1]=r[c+2]=0,c=a+((c=o+L)<j?c:j)*T<<2,p-=D.r-(D.r=r[c]),f-=D.g-(D.g=r[c+1]),g-=D.b-(D.b=r[c+2]),_-=D.a-(D.a=r[c+3]),D=D.n,h+=T}}return!0},createjs.BlurFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.alphaMap=e,this._alphaMap=null,this._mapData=null}var t=createjs.extend(e,createjs.Filter);t.clone=function(){var t=new e(this.alphaMap);return t._alphaMap=this._alphaMap,t._mapData=this._mapData,t},t.toString=function(){return"[AlphaMapFilter]"},t._applyFilter=function(e){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var t=e.data,i=this._mapData,n=0,s=t.length;s>n;n+=4)t[n+3]=i[n]||0;return!0},t._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var e,t=this._alphaMap=this.alphaMap,i=t;t instanceof HTMLCanvasElement?e=i.getContext("2d"):(i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),i.width=t.width,i.height=t.height,e=i.getContext("2d"),e.drawImage(t,0,0));try{var n=e.getImageData(0,0,t.width,t.height)}catch(s){return!1}return this._mapData=n.data,!0},createjs.AlphaMapFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.mask=e}var t=createjs.extend(e,createjs.Filter);t.applyFilter=function(e,t,i,n,s,r,a,o){return this.mask?(r=r||e,null==a&&(a=t),null==o&&(o=i),r.save(),e!=r?!1:(r.globalCompositeOperation="destination-in",r.drawImage(this.mask,a,o),r.restore(),!0)):!0},t.clone=function(){return new e(this.mask)},t.toString=function(){return"[AlphaMaskFilter]"},createjs.AlphaMaskFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n,s,r,a,o){this.redMultiplier=null!=e?e:1,this.greenMultiplier=null!=t?t:1,this.blueMultiplier=null!=i?i:1,this.alphaMultiplier=null!=n?n:1,this.redOffset=s||0,this.greenOffset=r||0,this.blueOffset=a||0,this.alphaOffset=o||0}var t=createjs.extend(e,createjs.Filter);t.toString=function(){return"[ColorFilter]"},t.clone=function(){return new e(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},t._applyFilter=function(e){for(var t=e.data,i=t.length,n=0;i>n;n+=4)t[n]=t[n]*this.redMultiplier+this.redOffset,t[n+1]=t[n+1]*this.greenMultiplier+this.greenOffset,t[n+2]=t[n+2]*this.blueMultiplier+this.blueOffset,t[n+3]=t[n+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n){this.setColor(e,t,i,n)}var t=e.prototype;e.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],e.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],e.LENGTH=e.IDENTITY_MATRIX.length,t.setColor=function(e,t,i,n){return this.reset().adjustColor(e,t,i,n)},t.reset=function(){return this.copy(e.IDENTITY_MATRIX)},t.adjustColor=function(e,t,i,n){return this.adjustHue(n),this.adjustContrast(t),this.adjustBrightness(e),this.adjustSaturation(i)},t.adjustBrightness=function(e){return 0==e||isNaN(e)?this:(e=this._cleanValue(e,255),this._multiplyMatrix([1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1]),this)},t.adjustContrast=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,100);var i;return 0>t?i=127+t/100*127:(i=t%1,i=0==i?e.DELTA_INDEX[t]:e.DELTA_INDEX[t<<0]*(1-i)+e.DELTA_INDEX[(t<<0)+1]*i,i=127*i+127),this._multiplyMatrix([i/127,0,0,0,.5*(127-i),0,i/127,0,0,.5*(127-i),0,0,i/127,0,.5*(127-i),0,0,0,1,0,0,0,0,0,1]),this},t.adjustSaturation=function(e){if(0==e||isNaN(e))return this;e=this._cleanValue(e,100);var t=1+(e>0?3*e/100:e/100),i=.3086,n=.6094,s=.082;return this._multiplyMatrix([i*(1-t)+t,n*(1-t),s*(1-t),0,0,i*(1-t),n*(1-t)+t,s*(1-t),0,0,i*(1-t),n*(1-t),s*(1-t)+t,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.adjustHue=function(e){if(0==e||isNaN(e))return this;e=this._cleanValue(e,180)/180*Math.PI;var t=Math.cos(e),i=Math.sin(e),n=.213,s=.715,r=.072;return this._multiplyMatrix([n+t*(1-n)+i*-n,s+t*-s+i*-s,r+t*-r+i*(1-r),0,0,n+t*-n+.143*i,s+t*(1-s)+.14*i,r+t*-r+i*-.283,0,0,n+t*-n+i*-(1-n),s+t*-s+i*s,r+t*(1-r)+i*r,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.concat=function(t){return t=this._fixMatrix(t),t.length!=e.LENGTH?this:(this._multiplyMatrix(t),this)},t.clone=function(){return(new e).copy(this)},t.toArray=function(){for(var t=[],i=0,n=e.LENGTH;n>i;i++)t[i]=this[i];return t},t.copy=function(t){for(var i=e.LENGTH,n=0;i>n;n++)this[n]=t[n];return this},t.toString=function(){return"[ColorMatrix]"},t._multiplyMatrix=function(e){var t,i,n,s=[];for(t=0;5>t;t++){for(i=0;5>i;i++)s[i]=this[i+5*t];for(i=0;5>i;i++){var r=0;for(n=0;5>n;n++)r+=e[i+5*n]*s[n];this[i+5*t]=r}}},t._cleanValue=function(e,t){return Math.min(t,Math.max(-t,e))},t._fixMatrix=function(t){return t instanceof e&&(t=t.toArray()),t.length<e.LENGTH?t=t.slice(0,t.length).concat(e.IDENTITY_MATRIX.slice(t.length,e.LENGTH)):t.length>e.LENGTH&&(t=t.slice(0,e.LENGTH)),t},createjs.ColorMatrix=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.matrix=e}var t=createjs.extend(e,createjs.Filter);t.toString=function(){return"[ColorMatrixFilter]"},t.clone=function(){return new e(this.matrix)},t._applyFilter=function(e){for(var t,i,n,s,r=e.data,a=r.length,o=this.matrix,l=o[0],c=o[1],u=o[2],h=o[3],d=o[4],p=o[5],f=o[6],g=o[7],_=o[8],m=o[9],v=o[10],b=o[11],y=o[12],w=o[13],S=o[14],T=o[15],E=o[16],P=o[17],j=o[18],x=o[19],L=0;a>L;L+=4)t=r[L],i=r[L+1],n=r[L+2],s=r[L+3],r[L]=t*l+i*c+n*u+s*h+d,r[L+1]=t*p+i*f+n*g+s*_+m,r[L+2]=t*v+i*b+n*y+s*w+S,r[L+3]=t*T+i*E+n*P+s*j+x;return!0},createjs.ColorMatrixFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Touch cannot be instantiated"}e.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},e.enable=function(t,i,n){return t&&t.canvas&&e.isSupported()?t.__touch?!0:(t.__touch={pointers:{},multitouch:!i,preventDefault:!n,count:0},"ontouchstart"in window?e._IOS_enable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_enable(t),!0):!1},e.disable=function(t){t&&("ontouchstart"in window?e._IOS_disable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_disable(t),delete t.__touch)},e._IOS_enable=function(t){var i=t.canvas,n=t.__touch.f=function(i){e._IOS_handleEvent(t,i)};i.addEventListener("touchstart",n,!1),i.addEventListener("touchmove",n,!1),i.addEventListener("touchend",n,!1),i.addEventListener("touchcancel",n,!1)},e._IOS_disable=function(e){var t=e.canvas;if(t){var i=e.__touch.f;t.removeEventListener("touchstart",i,!1),t.removeEventListener("touchmove",i,!1),t.removeEventListener("touchend",i,!1),t.removeEventListener("touchcancel",i,!1)}},e._IOS_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();for(var i=t.changedTouches,n=t.type,s=0,r=i.length;r>s;s++){var a=i[s],o=a.identifier;a.target==e.canvas&&("touchstart"==n?this._handleStart(e,o,t,a.pageX,a.pageY):"touchmove"==n?this._handleMove(e,o,t,a.pageX,a.pageY):("touchend"==n||"touchcancel"==n)&&this._handleEnd(e,o,t))}}},e._IE_enable=function(t){var i=t.canvas,n=t.__touch.f=function(i){e._IE_handleEvent(t,i)};void 0===window.navigator.pointerEnabled?(i.addEventListener("MSPointerDown",n,!1),window.addEventListener("MSPointerMove",n,!1),window.addEventListener("MSPointerUp",n,!1),window.addEventListener("MSPointerCancel",n,!1),t.__touch.preventDefault&&(i.style.msTouchAction="none")):(i.addEventListener("pointerdown",n,!1),window.addEventListener("pointermove",n,!1),window.addEventListener("pointerup",n,!1),window.addEventListener("pointercancel",n,!1),t.__touch.preventDefault&&(i.style.touchAction="none")),t.__touch.activeIDs={}},e._IE_disable=function(e){var t=e.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",t,!1),window.removeEventListener("MSPointerUp",t,!1),window.removeEventListener("MSPointerCancel",t,!1),e.canvas&&e.canvas.removeEventListener("MSPointerDown",t,!1)):(window.removeEventListener("pointermove",t,!1),window.removeEventListener("pointerup",t,!1),window.removeEventListener("pointercancel",t,!1),e.canvas&&e.canvas.removeEventListener("pointerdown",t,!1))},e._IE_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();var i=t.type,n=t.pointerId,s=e.__touch.activeIDs;if("MSPointerDown"==i||"pointerdown"==i){if(t.srcElement!=e.canvas)return;s[n]=!0,this._handleStart(e,n,t,t.pageX,t.pageY)}else s[n]&&("MSPointerMove"==i||"pointermove"==i?this._handleMove(e,n,t,t.pageX,t.pageY):("MSPointerUp"==i||"MSPointerCancel"==i||"pointerup"==i||"pointercancel"==i)&&(delete s[n],this._handleEnd(e,n,t)))}},e._handleStart=function(e,t,i,n,s){var r=e.__touch;if(r.multitouch||!r.count){var a=r.pointers;a[t]||(a[t]=!0,r.count++,e._handlePointerDown(t,i,n,s))}},e._handleMove=function(e,t,i,n,s){e.__touch.pointers[t]&&e._handlePointerMove(t,i,n,s)},e._handleEnd=function(e,t,i){var n=e.__touch,s=n.pointers;s[t]&&(n.count--,e._handlePointerUp(t,i,!0),delete s[t])},createjs.Touch=e}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.EaselJS=createjs.EaselJS||{};e.version="0.8.1",e.buildDate="Thu, 17 Sep 2015 13:13:22 GMT"}(),define("easeljs",function(e){return function(){var t;return t||e.createjs}}(this)),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.PreloadJS=createjs.PreloadJS||{};e.version="0.6.1",e.buildDate="Thu, 17 Sep 2015 13:17:19 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i},this.createjs=this.createjs||{},createjs.promote=function(e,t){"use strict";var i=e.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n){i[(t+="_")+"constructor"]=n.constructor;for(var s in n)i.hasOwnProperty(s)&&"function"==typeof n[s]&&(i[t+s]=n[s])}return e},this.createjs=this.createjs||{},createjs.indexOf=function(e,t){"use strict";for(var i=0,n=e.length;n>i;i++)if(t===e[i])return i;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(e,t){var i=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(i))}}}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"BrowserDetect cannot be instantiated"}var t=e.agent=window.navigator.userAgent;e.isWindowPhone=t.indexOf("IEMobile")>-1||t.indexOf("Windows Phone")>-1,e.isFirefox=t.indexOf("Firefox")>-1,e.isOpera=null!=window.opera,e.isChrome=t.indexOf("Chrome")>-1,e.isIOS=(t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1)&&!e.isWindowPhone,e.isAndroid=t.indexOf("Android")>-1&&!e.isWindowPhone,e.isBlackberry=t.indexOf("Blackberry")>-1,createjs.BrowserDetect=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.Event_constructor("error"),this.title=e,this.message=t,this.data=i}var t=createjs.extend(e,createjs.Event);t.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(e,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,i){var n;n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=n[e];return s&&this.removeEventListener(e,t,i),s=n[e],s?s.push(t):n[e]=[t],t},t.on=function(e,t,i,n,s,r){return t.handleEvent&&(i=i||t,t=t.handleEvent),i=i||this,this.addEventListener(e,function(e){t.call(i,e,s),n&&e.remove()},r)},t.removeEventListener=function(e,t,i){var n=i?this._captureListeners:this._listeners;if(n){var s=n[e];if(s)for(var r=0,a=s.length;a>r;r++)if(s[r]==t){1==a?delete n[e]:s.splice(r,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e){if("string"==typeof e){var t=this._listeners;if(!t||!t[e])return!1;e=new createjs.Event(e)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(i){}if(e.bubbles&&this.parent){for(var n=this,s=[n];n.parent;)s.push(n=n.parent);var r,a=s.length;for(r=a-1;r>=0&&!e.propagationStopped;r--)s[r]._dispatchEvent(e,1+(0==r));for(r=1;a>r&&!e.propagationStopped;r++)s[r]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,i=this._captureListeners;return!!(t&&t[e]||i&&i[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var i,n=1==t?this._captureListeners:this._listeners;if(e&&n){var s=n[e.type];if(!s||!(i=s.length))return;try{e.currentTarget=this}catch(r){}try{e.eventPhase=t}catch(r){}e.removed=!1,s=s.slice();for(var a=0;i>a&&!e.immediatePropagationStopped;a++){var o=s[a];o.handleEvent?o.handleEvent(e):o(e),e.removed&&(this.off(e.type,o,1==t),e.removed=!1)}}},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(e){"use strict";function t(e,t){this.Event_constructor("progress"),this.loaded=e,this.total=null==t?1:t,this.progress=0==t?0:this.loaded/this.total}var i=createjs.extend(t,createjs.Event);i.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(t,"Event")}(window),function(){function e(t,n){function r(e){if(r[e]!==_)return r[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=r("json-stringify")&&r("json-parse");else{var i,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=n.stringify,u="function"==typeof l&&b;if(u){(i=function(){return 1}).toJSON=i;try{u="0"===l(0)&&"0"===l(new a)&&'""'==l(new o)&&l(v)===_&&l(_)===_&&l()===_&&"1"===l(i)&&"[1]"==l([i])&&"[null]"==l([_])&&"null"==l(null)&&"[null,null,null]"==l([_,v,null])&&l({a:[i,!0,!1,null,"\x00\b\n\f\r	"]})==s&&"1"===l(null,i)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new c(-1))}catch(h){u=!1}}t=u}if("json-parse"==e){var d=n.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){i=d(s);var p=5==i.a.length&&1===i.a[0];if(p){try{p=!d('"	"')}catch(h){}if(p)try{p=1!==d("01")}catch(h){}if(p)try{p=1!==d("1.")}catch(h){}}}}catch(h){p=!1}t=p}}return r[e]=!!t}t||(t=s.Object()),n||(n=s.Object());var a=t.Number||s.Number,o=t.String||s.String,l=t.Object||s.Object,c=t.Date||s.Date,u=t.SyntaxError||s.SyntaxError,h=t.TypeError||s.TypeError,d=t.Math||s.Math,p=t.JSON||s.JSON;"object"==typeof p&&p&&(n.stringify=p.stringify,n.parse=p.parse);var f,g,_,m=l.prototype,v=m.toString,b=new c(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(y){}if(!r("json")){var w="[object Function]",S="[object Date]",T="[object Number]",E="[object String]",P="[object Array]",j="[object Boolean]",x=r("bug-string-char-index");if(!b)var L=d.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],k=function(e,t){return A[t]+365*(e-1970)+L((e-1969+(t=+(t>1)))/4)-L((e-1901+t)/100)+L((e-1601+t)/400)};if((f=m.hasOwnProperty)||(f=function(e){var t,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=v?f=function(e){var t=this.__proto__,i=e in(this.__proto__=null,this);return this.__proto__=t,i}:(t=i.constructor,f=function(e){var i=(this.constructor||t).prototype;return e in this&&!(e in i&&this[e]===i[e])}),i=null,f.call(this,e)}),g=function(e,t){var n,s,r,a=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,s=new n;for(r in s)f.call(s,r)&&a++;return n=s=null,a?g=2==a?function(e,t){var i,n={},s=v.call(e)==w;for(i in e)s&&"prototype"==i||f.call(n,i)||!(n[i]=1)||!f.call(e,i)||t(i)}:function(e,t){var i,n,s=v.call(e)==w;for(i in e)s&&"prototype"==i||!f.call(e,i)||(n="constructor"===i)||t(i);(n||f.call(e,i="constructor"))&&t(i)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(e,t){var n,r,a=v.call(e)==w,o=!a&&"function"!=typeof e.constructor&&i[typeof e.hasOwnProperty]&&e.hasOwnProperty||f;for(n in e)a&&"prototype"==n||!o.call(e,n)||t(n);for(r=s.length;n=s[--r];o.call(e,n)&&t(n));}),g(e,t)},!r("json-stringify")){var R={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},M="000000",D=function(e,t){return(M+(t||0)).slice(-e)},I="\\u00",O=function(e){for(var t='"',i=0,n=e.length,s=!x||n>10,r=s&&(x?e.split(""):e);n>i;i++){var a=e.charCodeAt(i);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=R[a];break;default:if(32>a){t+=I+D(2,a.toString(16));break}t+=s?r[i]:e.charAt(i)}}return t+'"'},C=function(e,t,i,n,s,r,a){var o,l,c,u,d,p,m,b,y,w,x,A,R,M,I,B;try{o=t[e]}catch(N){}if("object"==typeof o&&o)if(l=v.call(o),l!=S||f.call(o,"toJSON"))"function"==typeof o.toJSON&&(l!=T&&l!=E&&l!=P||f.call(o,"toJSON"))&&(o=o.toJSON(e));else if(o>-1/0&&1/0>o){if(k){for(d=L(o/864e5),c=L(d/365.2425)+1970-1;k(c+1,0)<=d;c++);for(u=L((d-k(c,0))/30.42);k(c,u+1)<=d;u++);d=1+d-k(c,u),p=(o%864e5+864e5)%864e5,m=L(p/36e5)%24,b=L(p/6e4)%60,y=L(p/1e3)%60,w=p%1e3}else c=o.getUTCFullYear(),u=o.getUTCMonth(),d=o.getUTCDate(),m=o.getUTCHours(),b=o.getUTCMinutes(),y=o.getUTCSeconds(),w=o.getUTCMilliseconds();o=(0>=c||c>=1e4?(0>c?"-":"+")+D(6,0>c?-c:c):D(4,c))+"-"+D(2,u+1)+"-"+D(2,d)+"T"+D(2,m)+":"+D(2,b)+":"+D(2,y)+"."+D(3,w)+"Z"}else o=null;if(i&&(o=i.call(t,e,o)),null===o)return"null";if(l=v.call(o),l==j)return""+o;if(l==T)return o>-1/0&&1/0>o?""+o:"null";if(l==E)return O(""+o);if("object"==typeof o){for(M=a.length;M--;)if(a[M]===o)throw h();if(a.push(o),x=[],I=r,r+=s,l==P){for(R=0,M=o.length;M>R;R++)A=C(R,o,i,n,s,r,a),x.push(A===_?"null":A);B=x.length?s?"[\n"+r+x.join(",\n"+r)+"\n"+I+"]":"["+x.join(",")+"]":"[]"}else g(n||o,function(e){var t=C(e,o,i,n,s,r,a);t!==_&&x.push(O(e)+":"+(s?" ":"")+t)}),B=x.length?s?"{\n"+r+x.join(",\n"+r)+"\n"+I+"}":"{"+x.join(",")+"}":"{}";return a.pop(),B}};n.stringify=function(e,t,n){var s,r,a,o;if(i[typeof t]&&t)if((o=v.call(t))==w)r=t;else if(o==P){a={};for(var l,c=0,u=t.length;u>c;l=t[c++],o=v.call(l),(o==E||o==T)&&(a[l]=1));}if(n)if((o=v.call(n))==T){if((n-=n%1)>0)for(s="",n>10&&(n=10);s.length<n;s+=" ");}else o==E&&(s=n.length<=10?n:n.slice(0,10));return C("",(l={},l[""]=e,l),r,a,s,"",[])}}if(!r("json-parse")){var B,N,H=o.fromCharCode,q={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},F=function(){throw B=N=null,u()},z=function(){for(var e,t,i,n,s,r=N,a=r.length;a>B;)switch(s=r.charCodeAt(B)){case 9:case 10:case 13:case 32:B++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=x?r.charAt(B):r[B],B++,e;case 34:for(e="@",B++;a>B;)if(s=r.charCodeAt(B),32>s)F();else if(92==s)switch(s=r.charCodeAt(++B)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=q[s],B++;break;case 117:for(t=++B,i=B+4;i>B;B++)s=r.charCodeAt(B),s>=48&&57>=s||s>=97&&102>=s||s>=65&&70>=s||F();e+=H("0x"+r.slice(t,B));break;default:F()}else{if(34==s)break;for(s=r.charCodeAt(B),t=B;s>=32&&92!=s&&34!=s;)s=r.charCodeAt(++B);e+=r.slice(t,B)}if(34==r.charCodeAt(B))return B++,e;F();default:if(t=B,45==s&&(n=!0,s=r.charCodeAt(++B)),s>=48&&57>=s){for(48==s&&(s=r.charCodeAt(B+1),s>=48&&57>=s)&&F(),n=!1;a>B&&(s=r.charCodeAt(B),s>=48&&57>=s);B++);if(46==r.charCodeAt(B)){for(i=++B;a>i&&(s=r.charCodeAt(i),s>=48&&57>=s);i++);i==B&&F(),B=i}if(s=r.charCodeAt(B),101==s||69==s){for(s=r.charCodeAt(++B),(43==s||45==s)&&B++,i=B;a>i&&(s=r.charCodeAt(i),s>=48&&57>=s);i++);i==B&&F(),B=i}return+r.slice(t,B)}if(n&&F(),"true"==r.slice(B,B+4))return B+=4,!0;if("false"==r.slice(B,B+5))return B+=5,!1;if("null"==r.slice(B,B+4))return B+=4,null;F()}return"$"},W=function(e){var t,i;if("$"==e&&F(),"string"==typeof e){if("@"==(x?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=z(),"]"!=e;i||(i=!0))i&&(","==e?(e=z(),"]"==e&&F()):F()),","==e&&F(),t.push(W(e));return t}if("{"==e){for(t={};e=z(),"}"!=e;i||(i=!0))i&&(","==e?(e=z(),"}"==e&&F()):F()),(","==e||"string"!=typeof e||"@"!=(x?e.charAt(0):e[0])||":"!=z())&&F(),t[e.slice(1)]=W(z());return t}F()}return e},U=function(e,t,i){var n=X(e,t,i);n===_?delete e[t]:e[t]=n},X=function(e,t,i){var n,s=e[t];if("object"==typeof s&&s)if(v.call(s)==P)for(n=s.length;n--;)U(s,n,i);else g(s,function(e){U(s,e,i)});return i.call(e,t,s)};n.parse=function(e,t){var i,n;return B=0,N=""+e,i=W(z()),"$"!=z()&&F(),B=N=null,t&&v.call(t)==w?X((n={},n[""]=i,n),"",t):i}}}return n.runInContext=e,n}var t="function"==typeof define&&define.amd,i={"function":!0,object:!0},n=i[typeof exports]&&exports&&!exports.nodeType&&exports,s=i[typeof window]&&window||this,r=n&&i[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!r||r.global!==r&&r.window!==r&&r.self!==r||(s=r),n&&!t)e(s,n);else{var a=s.JSON,o=s.JSON3,l=!1,c=e(s,s.JSON3={noConflict:function(){return l||(l=!0,s.JSON=a,s.JSON3=o,a=o=null),c}});s.JSON={parse:c.parse,stringify:c.stringify}}t&&define("preloadjs",[],function(){return c})}.call(this),function(){var e={};e.appendToHead=function(t){e.getHead().appendChild(t)},e.getHead=function(){return document.head||document.getElementsByTagName("head")[0]},e.getBody=function(){return document.body||document.getElementsByTagName("body")[0]},createjs.DomUtils=e}(),function(){var e={};e.parseXML=function(e,t){var i=null;try{if(window.DOMParser){var n=new DOMParser;i=n.parseFromString(e,t)}}catch(s){}if(!i)try{i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(e)}catch(s){i=null}return i},e.parseJSON=function(e){if(null==e)return null;try{return JSON.parse(e)}catch(t){throw t}},createjs.DataUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=i.LOAD_TIMEOUT_DEFAULT}var t=e.prototype={},i=e;i.LOAD_TIMEOUT_DEFAULT=8e3,i.create=function(t){if("string"==typeof t){var n=new e;return n.src=t,n}if(t instanceof i)return t;if(t instanceof Object&&t.src)return null==t.loadTimeout&&(t.loadTimeout=i.LOAD_TIMEOUT_DEFAULT),t;throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},createjs.LoadItem=i}(),function(){var e={};e.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,e.RELATIVE_PATT=/^[.\/]*?\//i,e.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,e.parseURI=function(t){var i={absolute:!1,relative:!1};if(null==t)return i;var n=t.indexOf("?");n>-1&&(t=t.substr(0,n));var s;return e.ABSOLUTE_PATT.test(t)?i.absolute=!0:e.RELATIVE_PATT.test(t)&&(i.relative=!0),(s=t.match(e.EXTENSION_PATT))&&(i.extension=s[1].toLowerCase()),i},e.formatQueryString=function(e,t){if(null==e)throw new Error("You must specify data.");var i=[];for(var n in e)i.push(n+"="+escape(e[n]));return t&&(i=i.concat(t)),i.join("&")},e.buildPath=function(e,t){if(null==t)return e;var i=[],n=e.indexOf("?");if(-1!=n){var s=e.slice(n+1);i=i.concat(s.split("&"))}return-1!=n?e.slice(0,n)+"?"+this._formatQueryString(t,i):e+"?"+this._formatQueryString(t,i)},e.isCrossDomain=function(e){var t=document.createElement("a");t.href=e.src;var i=document.createElement("a");i.href=location.href;var n=""!=t.hostname&&(t.port!=i.port||t.protocol!=i.protocol||t.hostname!=i.hostname);return n},e.isLocal=function(e){var t=document.createElement("a");return t.href=e.src,""==t.hostname&&"file:"==t.protocol},e.isBinary=function(e){switch(e){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},e.isImageTag=function(e){return e instanceof HTMLImageElement},e.isAudioTag=function(e){return window.HTMLAudioElement?e instanceof HTMLAudioElement:!1},e.isVideoTag=function(e){return window.HTMLVideoElement?e instanceof HTMLVideoElement:!1},e.isText=function(e){switch(e){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},e.getTypeByExtension=function(e){if(null==e)return createjs.AbstractLoader.TEXT;switch(e.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}},createjs.RequestUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=i,this.resultFormatter=null,e?this._item=createjs.LoadItem.create(e):this._item=null,this._preferXHR=t,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var t=createjs.extend(e,createjs.EventDispatcher),i=e;i.POST="POST",i.GET="GET",i.BINARY="binary",i.CSS="css",i.IMAGE="image",i.JAVASCRIPT="javascript",i.JSON="json",i.JSONP="jsonp",i.MANIFEST="manifest",i.SOUND="sound",i.VIDEO="video",i.SPRITESHEET="spritesheet",i.SVG="svg",i.TEXT="text",i.XML="xml",t.getItem=function(){return this._item},t.getResult=function(e){return e?this._rawResult:this._result},t.getTag=function(){return this._tag},t.setTag=function(e){this._tag=e},t.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var e=new createjs.Event("initialize");e.loader=this._request,this.dispatchEvent(e),this._request.load()},t.cancel=function(){this.canceled=!0,this.destroy()},t.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},t.getLoadedItems=function(){return this._loadedItems},t._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._createTag=function(e){return null},t._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},t._sendProgress=function(e){if(!this._isCanceled()){var t=null;"number"==typeof e?(this.progress=e,t=new createjs.ProgressEvent(this.progress)):(t=e,this.progress=e.loaded/e.total,t.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(t)}},t._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var e=new createjs.Event("complete");e.rawResult=this._rawResult,null!=this._result&&(e.result=this._result),this.dispatchEvent(e)}},t._sendError=function(e){!this._isCanceled()&&this.hasEventListener("error")&&(null==e&&(e=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(e))},t._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},t.resultFormatter=null,t.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response;var t=this.resultFormatter&&this.resultFormatter(this),i=this;t instanceof Function?t(function(e){i._result=e,i._sendComplete()}):(this._result=t||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(e);break;case"error":this._sendError(e);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+e.type.toUpperCase()+"_ERROR"))}},t.buildPath=function(e,t){return createjs.RequestUtils.buildPath(e,t)},t.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.AbstractLoader_constructor(e,t,i),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src"}var t=createjs.extend(e,createjs.AbstractLoader);t.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load();
},t._createTag=function(){},t._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._formatResult=function(e){return this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR&&(e.getTag().src=e.getResult(!0)),e.getTag()},createjs.AbstractMediaLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(e){this._item=e},t=createjs.extend(e,createjs.EventDispatcher);t.load=function(){},t.destroy=function(){},t.cancel=function(){},createjs.AbstractRequest=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var t=createjs.extend(e,createjs.AbstractRequest);t.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var e=new createjs.Event("initialize");e.loader=this._tag,this.dispatchEvent(e),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},t.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleTagComplete()},t._handleError=function(){this._clean(),this.dispatchEvent("error")},t._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},t._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},t._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},t._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},t._showTag=function(){this._tag.style.visibility=this._startTagVisibility},t._handleStalled=function(){},createjs.TagRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var t=createjs.extend(e,createjs.TagRequest);t.load=function(){var e=createjs.proxy(this._handleStalled,this);this._stalledCallback=e;var t=createjs.proxy(this._handleProgress,this);this._handleProgress=t,this._tag.addEventListener("stalled",e),this._tag.addEventListener("progress",t),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleTagComplete()},t._handleStalled=function(){},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(e,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractRequest_constructor(e),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(e)}var t=createjs.extend(e,createjs.AbstractRequest);e.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t.getResult=function(e){return e&&this._rawResponse?this._rawResponse:this._response},t.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},t.load=function(){if(null==this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(e){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,e))}},t.setResponseType=function(e){"blob"===e&&(e=window.URL?"blob":"arraybuffer",this._responseType=e),this._request.responseType=e},t.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},t.getResponseHeader=function(e){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(e):null},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._handleLoadStart=function(e){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},t._handleAbort=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,e))},t._handleError=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(e.message))},t._handleReadyStateChange=function(e){4==this._request.readyState&&this._handleLoad()},t._handleLoad=function(e){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t)return void this._handleError(t);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(i){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===i.name&&window.BlobBuilder){var n=new BlobBuilder;n.append(this._response),this._response=n.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},t._handleTimeout=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,e))},t._checkError=function(){var e=parseInt(this._request.status);switch(e){case 404:case 0:return new Error(e)}return null},t._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(e){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(e){}return null},t._createXHR=function(e){var t=createjs.RequestUtils.isCrossDomain(e),i={},n=null;if(window.XMLHttpRequest)n=new XMLHttpRequest,t&&void 0===n.withCredentials&&window.XDomainRequest&&(n=new XDomainRequest);else{for(var r=0,a=s.ACTIVEX_VERSIONS.length;a>r;r++){var o=s.ACTIVEX_VERSIONS[r];try{n=new ActiveXObject(o);break}catch(l){}}if(null==n)return!1}null==e.mimeType&&createjs.RequestUtils.isText(e.type)&&(e.mimeType="text/plain; charset=utf-8"),e.mimeType&&n.overrideMimeType&&n.overrideMimeType(e.mimeType),this._xhrLevel="string"==typeof n.responseType?2:1;var c=null;if(c=e.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(e.src,e.values):e.src,n.open(e.method||createjs.AbstractLoader.GET,c,!0),t&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),e.values&&e.method==createjs.AbstractLoader.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),t||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),e.headers)for(var u in e.headers)i[u]=e.headers[u];for(u in i)n.setRequestHeader(u,i[u]);return n instanceof XMLHttpRequest&&void 0!==e.withCredentials&&(n.withCredentials=e.withCredentials),this._request=n,!0},t._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},t.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(e,t,i)}var t=createjs.extend(e,createjs.AbstractLoader),i=e;t.init=function(e,t,i){this.useXHR=!0,this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(e),this._paused=!1,this._basePath=t,this._crossOrigin=i,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},i.loadTimeout=8e3,i.LOAD_TIMEOUT=0,i.BINARY=createjs.AbstractLoader.BINARY,i.CSS=createjs.AbstractLoader.CSS,i.IMAGE=createjs.AbstractLoader.IMAGE,i.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT,i.JSON=createjs.AbstractLoader.JSON,i.JSONP=createjs.AbstractLoader.JSONP,i.MANIFEST=createjs.AbstractLoader.MANIFEST,i.SOUND=createjs.AbstractLoader.SOUND,i.VIDEO=createjs.AbstractLoader.VIDEO,i.SVG=createjs.AbstractLoader.SVG,i.TEXT=createjs.AbstractLoader.TEXT,i.XML=createjs.AbstractLoader.XML,i.POST=createjs.AbstractLoader.POST,i.GET=createjs.AbstractLoader.GET,t.registerLoader=function(e){if(!e||!e.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(e))throw new Error("loader already exists.");this._availableLoaders.unshift(e)},t.unregisterLoader=function(e){var t=this._availableLoaders.indexOf(e);-1!=t&&t<this._defaultLoaderLength-1&&this._availableLoaders.splice(t,1)},t.setUseXHR=function(e){return this.setPreferXHR(e)},t.setPreferXHR=function(e){return this.preferXHR=0!=e&&null!=window.XMLHttpRequest,this.preferXHR},t.removeAll=function(){this.remove()},t.remove=function(e){var t=null;if(!e||e instanceof Array){if(e)t=e;else if(arguments.length>0)return}else t=[e];var i=!1;if(t){for(;t.length;){var n=t.pop(),s=this.getResult(n);for(r=this._loadQueue.length-1;r>=0;r--)if(a=this._loadQueue[r].getItem(),a.id==n||a.src==n){this._loadQueue.splice(r,1)[0].cancel();break}for(r=this._loadQueueBackup.length-1;r>=0;r--)if(a=this._loadQueueBackup[r].getItem(),a.id==n||a.src==n){this._loadQueueBackup.splice(r,1)[0].cancel();break}if(s)this._disposeItem(this.getItem(n));else for(var r=this._currentLoads.length-1;r>=0;r--){var a=this._currentLoads[r].getItem();if(a.id==n||a.src==n){this._currentLoads.splice(r,1)[0].cancel(),i=!0;break}}}i&&this._loadNext()}else{this.close();for(var o in this._loadItemsById)this._disposeItem(this._loadItemsById[o]);this.init(this.preferXHR,this._basePath)}},t.reset=function(){this.close();for(var e in this._loadItemsById)this._disposeItem(this._loadItemsById[e]);for(var t=[],i=0,n=this._loadQueueBackup.length;n>i;i++)t.push(this._loadQueueBackup[i].getItem());this.loadManifest(t,!1)},t.installPlugin=function(e){if(null!=e&&null!=e.getPreloadHandlers){this._plugins.push(e);var t=e.getPreloadHandlers();if(t.scope=e,null!=t.types)for(var i=0,n=t.types.length;n>i;i++)this._typeCallbacks[t.types[i]]=t;if(null!=t.extensions)for(i=0,n=t.extensions.length;n>i;i++)this._extensionCallbacks[t.extensions[i]]=t}},t.setMaxConnections=function(e){this._maxConnections=e,!this._paused&&this._loadQueue.length>0&&this._loadNext()},t.loadFile=function(e,t,i){if(null==e){var n=new createjs.ErrorEvent("PRELOAD_NO_FILE");return void this._sendError(n)}this._addItem(e,null,i),t!==!1?this.setPaused(!1):this.setPaused(!0)},t.loadManifest=function(e,t,n){var s=null,r=null;if(e instanceof Array){if(0==e.length){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(a)}s=e}else if("string"==typeof e)s=[{src:e,type:i.MANIFEST}];else{if("object"!=typeof e){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");return void this._sendError(a)}if(void 0!==e.src){if(null==e.type)e.type=i.MANIFEST;else if(e.type!=i.MANIFEST){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(a)}s=[e]}else void 0!==e.manifest&&(s=e.manifest,r=e.path)}for(var o=0,l=s.length;l>o;o++)this._addItem(s[o],r,n);t!==!1?this.setPaused(!1):this.setPaused(!0)},t.load=function(){this.setPaused(!1)},t.getItem=function(e){return this._loadItemsById[e]||this._loadItemsBySrc[e]},t.getResult=function(e,t){var i=this._loadItemsById[e]||this._loadItemsBySrc[e];if(null==i)return null;var n=i.id;return t&&this._loadedRawResults[n]?this._loadedRawResults[n]:this._loadedResults[n]},t.getItems=function(e){var t=[];for(var i in this._loadItemsById){var n=this._loadItemsById[i],s=this.getResult(i);(e!==!0||null!=s)&&t.push({item:n,result:s,rawResult:this.getResult(i,!0)})}return t},t.setPaused=function(e){this._paused=e,this._paused||this._loadNext()},t.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},t._addItem=function(e,t,i){var n=this._createLoadItem(e,t,i);if(null!=n){var s=this._createLoader(n);null!=s&&("plugins"in s&&(s.plugins=this._plugins),n._loader=s,this._loadQueue.push(s),this._loadQueueBackup.push(s),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&n.type==createjs.LoadQueue.JAVASCRIPT||n.maintainOrder===!0)&&(this._scriptOrder.push(n),this._loadedScripts.push(null)))}},t._createLoadItem=function(e,t,i){var n=createjs.LoadItem.create(e);if(null==n)return null;var s="",r=i||this._basePath;if(n.src instanceof Object){if(!n.type)return null;if(t){s=t;var a=createjs.RequestUtils.parseURI(t);null==r||a.absolute||a.relative||(s=r+s)}else null!=r&&(s=r)}else{var o=createjs.RequestUtils.parseURI(n.src);o.extension&&(n.ext=o.extension),null==n.type&&(n.type=createjs.RequestUtils.getTypeByExtension(n.ext));var l=n.src;if(!o.absolute&&!o.relative)if(t){s=t;var a=createjs.RequestUtils.parseURI(t);l=t+l,null==r||a.absolute||a.relative||(s=r+s)}else null!=r&&(s=r);n.src=s+n.src}n.path=s,(void 0===n.id||null===n.id||""===n.id)&&(n.id=l);var c=this._typeCallbacks[n.type]||this._extensionCallbacks[n.ext];if(c){var u=c.callback.call(c.scope,n,this);if(u===!1)return null;u===!0||null!=u&&(n._loader=u),o=createjs.RequestUtils.parseURI(n.src),null!=o.extension&&(n.ext=o.extension)}return this._loadItemsById[n.id]=n,this._loadItemsBySrc[n.src]=n,null==n.crossOrigin&&(n.crossOrigin=this._crossOrigin),n},t._createLoader=function(e){if(null!=e._loader)return e._loader;for(var t=this.preferXHR,i=0;i<this._availableLoaders.length;i++){var n=this._availableLoaders[i];if(n&&n.canLoadItem(e))return new n(e,t)}return null},t._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var e=0;e<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);e++){var t=this._loadQueue[e];this._canStartLoad(t)&&(this._loadQueue.splice(e,1),e--,this._loadItem(t))}}},t._loadItem=function(e){e.on("fileload",this._handleFileLoad,this),e.on("progress",this._handleProgress,this),e.on("complete",this._handleFileComplete,this),e.on("error",this._handleError,this),e.on("fileerror",this._handleFileError,this),this._currentLoads.push(e),this._sendFileStart(e.getItem()),e.load()},t._handleFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleFileError=function(e){var t=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,e.item);this._sendError(t)},t._handleError=function(e){var t=e.target;this._numItemsLoaded++,this._finishOrderedItem(t,!0),this._updateProgress();var i=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,t.getItem());this._sendError(i),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(t),this._cleanLoadItem(t),this._loadNext())},t._handleFileComplete=function(e){var t=e.target,i=t.getItem(),n=t.getResult();this._loadedResults[i.id]=n;var s=t.getResult(!0);null!=s&&s!==n&&(this._loadedRawResults[i.id]=s),this._saveLoadedItems(t),this._removeLoadItem(t),this._finishOrderedItem(t)||this._processFinishedLoad(i,t),this._cleanLoadItem(t)},t._saveLoadedItems=function(e){var t=e.getLoadedItems();if(null!==t)for(var i=0;i<t.length;i++){var n=t[i].item;this._loadItemsBySrc[n.src]=n,this._loadItemsById[n.id]=n,this._loadedResults[n.id]=t[i].result,this._loadedRawResults[n.id]=t[i].rawResult}},t._finishOrderedItem=function(e,t){var i=e.getItem();if(this.maintainScriptOrder&&i.type==createjs.LoadQueue.JAVASCRIPT||i.maintainOrder){e instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var n=createjs.indexOf(this._scriptOrder,i);return-1==n?!1:(this._loadedScripts[n]=t===!0?!0:i,this._checkScriptLoadOrder(),!0)}return!1},t._checkScriptLoadOrder=function(){for(var e=this._loadedScripts.length,t=0;e>t;t++){var i=this._loadedScripts[t];if(null===i)break;if(i!==!0){var n=this._loadedResults[i.id];i.type==createjs.LoadQueue.JAVASCRIPT&&createjs.DomUtils.appendToHead(n);var s=i._loader;this._processFinishedLoad(i,s),this._loadedScripts[t]=!0}}},t._processFinishedLoad=function(e,t){if(this._numItemsLoaded++,!this.maintainScriptOrder&&e.type==createjs.LoadQueue.JAVASCRIPT){var i=t.getTag();createjs.DomUtils.appendToHead(i)}this._updateProgress(),this._sendFileComplete(e,t),this._loadNext()},t._canStartLoad=function(e){if(!this.maintainScriptOrder||e.preferXHR)return!0;var t=e.getItem();if(t.type!=createjs.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var i=this._scriptOrder.indexOf(t),n=0;i>n;){var s=this._loadedScripts[n];if(null==s)return!1;n++}return this._currentlyLoadingScript=!0,!0},t._removeLoadItem=function(e){for(var t=this._currentLoads.length,i=0;t>i;i++)if(this._currentLoads[i]==e){this._currentLoads.splice(i,1);break}},t._cleanLoadItem=function(e){var t=e.getItem();t&&delete t._loader},t._handleProgress=function(e){var t=e.target;this._sendFileProgress(t.getItem(),t.progress),this._updateProgress()},t._updateProgress=function(){var e=this._numItemsLoaded/this._numItems,t=this._numItems-this._numItemsLoaded;if(t>0){for(var i=0,n=0,s=this._currentLoads.length;s>n;n++)i+=this._currentLoads[n].progress;e+=i/t*(t/this._numItems)}this._lastProgress!=e&&(this._sendProgress(e),this._lastProgress=e)},t._disposeItem=function(e){delete this._loadedResults[e.id],delete this._loadedRawResults[e.id],delete this._loadItemsById[e.id],delete this._loadItemsBySrc[e.src]},t._sendFileProgress=function(e,t){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var i=new createjs.Event("fileprogress");i.progress=t,i.loaded=t,i.total=1,i.item=e,this.dispatchEvent(i)}},t._sendFileComplete=function(e,t){if(!this._isCanceled()&&!this._paused){var i=new createjs.Event("fileload");i.loader=t,i.item=e,i.result=this._loadedResults[e.id],i.rawResult=this._loadedRawResults[e.id],e.completeHandler&&e.completeHandler(i),this.hasEventListener("fileload")&&this.dispatchEvent(i)}},t._sendFileStart=function(e){var t=new createjs.Event("filestart");t.item=e,this.hasEventListener("filestart")&&this.dispatchEvent(t)},t.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.TEXT)}var t=(createjs.extend(e,createjs.AbstractLoader),e);t.canLoadItem=function(e){return e.type==createjs.AbstractLoader.TEXT},createjs.TextLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.BINARY),this.on("initialize",this._updateXHR,this)}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.BINARY},t._updateXHR=function(e){e.loader.setResponseType("arraybuffer")},createjs.BinaryLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",t?this._tag=document.createElement("style"):this._tag=document.createElement("link"),this._tag.rel="stylesheet",this._tag.type="text/css"}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.CSS},t._formatResult=function(e){if(this._preferXHR){var t=e.getTag();if(t.styleSheet)t.styleSheet.cssText=e.getResult(!0);else{var i=document.createTextNode(e.getResult(!0));t.appendChild(i)}}else t=this._tag;return createjs.DomUtils.appendToHead(t),t},createjs.CSSLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",createjs.RequestUtils.isImageTag(e)?this._tag=e:createjs.RequestUtils.isImageTag(e.src)?this._tag=e.src:createjs.RequestUtils.isImageTag(e.tag)&&(this._tag=e.tag),null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img"),this.on("initialize",this._updateXHR,this)}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.IMAGE},t.load=function(){if(""!=this._tag.src&&this._tag.complete)return void this._sendComplete();var e=this._item.crossOrigin;1==e&&(e="Anonymous"),null==e||createjs.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=e),this.AbstractLoader_load()},t._updateXHR=function(e){e.loader.mimeType="text/plain; charset=x-user-defined-binary",e.loader.setResponseType&&e.loader.setResponseType("blob")},t._formatResult=function(e){var t=this;return function(i){var n=t._tag,s=window.URL||window.webkitURL;if(t._preferXHR)if(s){var r=s.createObjectURL(e.getResult(!0));n.src=r,n.onload=function(){s.revokeObjectURL(t.src)}}else n.src=e.getItem().src;else;n.complete?i(n):n.onload=function(){i(this)}}},createjs.ImageLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(document.createElement("script"))}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.JAVASCRIPT},t._formatResult=function(e){var t=e.getTag();return this._preferXHR&&(t.text=e.getResult(!0)),t},createjs.JavaScriptLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.JSON),this.resultFormatter=this._formatResult}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.JSON},t._formatResult=function(e){var t=null;try{t=createjs.DataUtils.parseJSON(e.getResult(!0))}catch(i){var n=new createjs.ErrorEvent("JSON_FORMAT",null,i);return this._sendError(n),i}return t},createjs.JSONLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!1,createjs.AbstractLoader.JSONP),this.setTag(document.createElement("script")),this.getTag().type="text/javascript"}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.JSONP},t.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},t.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this),window.document.body.appendChild(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},t._handleLoad=function(e){this._result=this._rawResult=e,this._sendComplete(),this._dispose()},t._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent("timeout"))},t._dispose=function(){window.document.body.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,null,createjs.AbstractLoader.MANIFEST),this.plugins=null,this._manifestQueue=null}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.MANIFEST_PROGRESS=.25,i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.MANIFEST},t.load=function(){this.AbstractLoader_load()},t._createRequest=function(){var e=this._item.callback;null!=e?this._request=new createjs.JSONPLoader(this._item):this._request=new createjs.JSONLoader(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(i.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=i.MANIFEST_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(e)}this.AbstractLoader_handleEvent(e)},t.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},t._loadManifest=function(e){if(e&&e.manifest){var t=this._manifestQueue=new createjs.LoadQueue;t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("complete",this._handleManifestComplete,this,!0),t.on("error",this._handleManifestError,this,!0);for(var i=0,n=this.plugins.length;n>i;i++)t.installPlugin(this.plugins[i]);t.loadManifest(e)}else this._sendComplete()},t._handleManifestFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleManifestComplete=function(e){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-i.MANIFEST_PROGRESS)+i.MANIFEST_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new createjs.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},createjs.ManifestLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractMediaLoader_constructor(e,t,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(e)?this._tag=e:createjs.RequestUtils.isAudioTag(e.src)?this._tag=e:createjs.RequestUtils.isAudioTag(e.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(e)?e:e.src),null!=this._tag&&(this._preferXHR=!1)}var t=createjs.extend(e,createjs.AbstractMediaLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SOUND},t._createTag=function(e){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=e,t},createjs.SoundLoader=createjs.promote(e,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractMediaLoader_constructor(e,t,createjs.AbstractLoader.VIDEO),createjs.RequestUtils.isVideoTag(e)||createjs.RequestUtils.isVideoTag(e.src)?(this.setTag(createjs.RequestUtils.isVideoTag(e)?e:e.src),this._preferXHR=!1):this.setTag(this._createTag())}var t=createjs.extend(e,createjs.AbstractMediaLoader),i=e;t._createTag=function(){return document.createElement("video")},i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.VIDEO},createjs.VideoLoader=createjs.promote(e,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,null,createjs.AbstractLoader.SPRITESHEET),this._manifestQueue=null}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.SPRITESHEET_PROGRESS=.25,i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SPRITESHEET},t.destroy=function(){this.AbstractLoader_destroy,this._manifestQueue.close()},t._createRequest=function(){var e=this._item.callback;null!=e?this._request=new createjs.JSONPLoader(this._item):this._request=new createjs.JSONLoader(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(i.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=i.SPRITESHEET_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(e)}this.AbstractLoader_handleEvent(e)},t._loadManifest=function(e){if(e&&e.images){var t=this._manifestQueue=new createjs.LoadQueue;
t.on("complete",this._handleManifestComplete,this,!0),t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("error",this._handleManifestError,this,!0),t.loadManifest(e.images)}},t._handleManifestFileLoad=function(e){var t=e.result;if(null!=t){var i=this.getResult().images,n=i.indexOf(e.item.src);i[n]=t}},t._handleManifestComplete=function(e){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-i.SPRITESHEET_PROGRESS)+i.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new createjs.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},createjs.SpriteSheetLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",t?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SVG},t._formatResult=function(e){var t=createjs.DataUtils.parseXML(e.getResult(!0),"text/xml"),i=e.getTag();return!this._preferXHR&&document.body.contains(i)&&document.body.removeChild(i),null!=t.documentElement?(i.appendChild(t.documentElement),i.style.visibility="visible",i):t},createjs.SVGLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.XML),this.resultFormatter=this._formatResult}var t=createjs.extend(e,createjs.AbstractLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.XML},t._formatResult=function(e){return createjs.DataUtils.parseXML(e.getResult(!0),"text/xml")},createjs.XMLLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){var e=createjs.SoundJS=createjs.SoundJS||{};e.version="0.6.1",e.buildDate="Thu, 17 Sep 2015 13:19:38 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i},this.createjs=this.createjs||{},createjs.promote=function(e,t){"use strict";var i=e.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n){i[(t+="_")+"constructor"]=n.constructor;for(var s in n)i.hasOwnProperty(s)&&"function"==typeof n[s]&&(i[t+s]=n[s])}return e},this.createjs=this.createjs||{},createjs.indexOf=function(e,t){"use strict";for(var i=0,n=e.length;n>i;i++)if(t===e[i])return i;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(e,t){var i=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(i))}}}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"BrowserDetect cannot be instantiated"}var t=e.agent=window.navigator.userAgent;e.isWindowPhone=t.indexOf("IEMobile")>-1||t.indexOf("Windows Phone")>-1,e.isFirefox=t.indexOf("Firefox")>-1,e.isOpera=null!=window.opera,e.isChrome=t.indexOf("Chrome")>-1,e.isIOS=(t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1)&&!e.isWindowPhone,e.isAndroid=t.indexOf("Android")>-1&&!e.isWindowPhone,e.isBlackberry=t.indexOf("Blackberry")>-1,createjs.BrowserDetect=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,i){var n;n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=n[e];return s&&this.removeEventListener(e,t,i),s=n[e],s?s.push(t):n[e]=[t],t},t.on=function(e,t,i,n,s,r){return t.handleEvent&&(i=i||t,t=t.handleEvent),i=i||this,this.addEventListener(e,function(e){t.call(i,e,s),n&&e.remove()},r)},t.removeEventListener=function(e,t,i){var n=i?this._captureListeners:this._listeners;if(n){var s=n[e];if(s)for(var r=0,a=s.length;a>r;r++)if(s[r]==t){1==a?delete n[e]:s.splice(r,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e){if("string"==typeof e){var t=this._listeners;if(!t||!t[e])return!1;e=new createjs.Event(e)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(i){}if(e.bubbles&&this.parent){for(var n=this,s=[n];n.parent;)s.push(n=n.parent);var r,a=s.length;for(r=a-1;r>=0&&!e.propagationStopped;r--)s[r]._dispatchEvent(e,1+(0==r));for(r=1;a>r&&!e.propagationStopped;r++)s[r]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,i=this._captureListeners;return!!(t&&t[e]||i&&i[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var i,n=1==t?this._captureListeners:this._listeners;if(e&&n){var s=n[e.type];if(!s||!(i=s.length))return;try{e.currentTarget=this}catch(r){}try{e.eventPhase=t}catch(r){}e.removed=!1,s=s.slice();for(var a=0;i>a&&!e.immediatePropagationStopped;a++){var o=s[a];o.handleEvent?o.handleEvent(e):o(e),e.removed&&(this.off(e.type,o,1==t),e.removed=!1)}}},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.Event_constructor("error"),this.title=e,this.message=t,this.data=i}var t=createjs.extend(e,createjs.Event);t.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(e,"Event")}(),this.createjs=this.createjs||{},function(e){"use strict";function t(e,t){this.Event_constructor("progress"),this.loaded=e,this.total=null==t?1:t,this.progress=0==t?0:this.loaded/this.total}var i=createjs.extend(t,createjs.Event);i.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(t,"Event")}(window),this.createjs=this.createjs||{},function(){"use strict";function e(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=i.LOAD_TIMEOUT_DEFAULT}var t=e.prototype={},i=e;i.LOAD_TIMEOUT_DEFAULT=8e3,i.create=function(t){if("string"==typeof t){var n=new e;return n.src=t,n}if(t instanceof i)return t;if(t instanceof Object&&t.src)return null==t.loadTimeout&&(t.loadTimeout=i.LOAD_TIMEOUT_DEFAULT),t;throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},createjs.LoadItem=i}(),function(){var e={};e.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,e.RELATIVE_PATT=/^[.\/]*?\//i,e.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,e.parseURI=function(t){var i={absolute:!1,relative:!1};if(null==t)return i;var n=t.indexOf("?");n>-1&&(t=t.substr(0,n));var s;return e.ABSOLUTE_PATT.test(t)?i.absolute=!0:e.RELATIVE_PATT.test(t)&&(i.relative=!0),(s=t.match(e.EXTENSION_PATT))&&(i.extension=s[1].toLowerCase()),i},e.formatQueryString=function(e,t){if(null==e)throw new Error("You must specify data.");var i=[];for(var n in e)i.push(n+"="+escape(e[n]));return t&&(i=i.concat(t)),i.join("&")},e.buildPath=function(e,t){if(null==t)return e;var i=[],n=e.indexOf("?");if(-1!=n){var s=e.slice(n+1);i=i.concat(s.split("&"))}return-1!=n?e.slice(0,n)+"?"+this._formatQueryString(t,i):e+"?"+this._formatQueryString(t,i)},e.isCrossDomain=function(e){var t=document.createElement("a");t.href=e.src;var i=document.createElement("a");i.href=location.href;var n=""!=t.hostname&&(t.port!=i.port||t.protocol!=i.protocol||t.hostname!=i.hostname);return n},e.isLocal=function(e){var t=document.createElement("a");return t.href=e.src,""==t.hostname&&"file:"==t.protocol},e.isBinary=function(e){switch(e){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},e.isImageTag=function(e){return e instanceof HTMLImageElement},e.isAudioTag=function(e){return window.HTMLAudioElement?e instanceof HTMLAudioElement:!1},e.isVideoTag=function(e){return window.HTMLVideoElement?e instanceof HTMLVideoElement:!1},e.isText=function(e){switch(e){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},e.getTypeByExtension=function(e){if(null==e)return createjs.AbstractLoader.TEXT;switch(e.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}},createjs.RequestUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=i,this.resultFormatter=null,e?this._item=createjs.LoadItem.create(e):this._item=null,this._preferXHR=t,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var t=createjs.extend(e,createjs.EventDispatcher),i=e;i.POST="POST",i.GET="GET",i.BINARY="binary",i.CSS="css",i.IMAGE="image",i.JAVASCRIPT="javascript",i.JSON="json",i.JSONP="jsonp",i.MANIFEST="manifest",i.SOUND="sound",i.VIDEO="video",i.SPRITESHEET="spritesheet",i.SVG="svg",i.TEXT="text",i.XML="xml",t.getItem=function(){return this._item},t.getResult=function(e){return e?this._rawResult:this._result},t.getTag=function(){return this._tag},t.setTag=function(e){this._tag=e},t.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var e=new createjs.Event("initialize");e.loader=this._request,this.dispatchEvent(e),this._request.load()},t.cancel=function(){this.canceled=!0,this.destroy()},t.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},t.getLoadedItems=function(){return this._loadedItems},t._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._createTag=function(e){return null},t._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},t._sendProgress=function(e){if(!this._isCanceled()){var t=null;"number"==typeof e?(this.progress=e,t=new createjs.ProgressEvent(this.progress)):(t=e,this.progress=e.loaded/e.total,t.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(t)}},t._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var e=new createjs.Event("complete");e.rawResult=this._rawResult,null!=this._result&&(e.result=this._result),this.dispatchEvent(e)}},t._sendError=function(e){!this._isCanceled()&&this.hasEventListener("error")&&(null==e&&(e=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(e))},t._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},t.resultFormatter=null,t.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response;var t=this.resultFormatter&&this.resultFormatter(this),i=this;t instanceof Function?t(function(e){i._result=e,i._sendComplete()}):(this._result=t||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(e);break;case"error":this._sendError(e);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(e.type)}},t.buildPath=function(e,t){return createjs.RequestUtils.buildPath(e,t)},t.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.AbstractLoader_constructor(e,t,i),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src"}var t=createjs.extend(e,createjs.AbstractLoader);t.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},t._createTag=function(){},t._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._formatResult=function(e){return this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR&&(e.getTag().src=e.getResult(!0)),e.getTag()},createjs.AbstractMediaLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(e){this._item=e},t=createjs.extend(e,createjs.EventDispatcher);t.load=function(){},t.destroy=function(){},t.cancel=function(){},createjs.AbstractRequest=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var t=createjs.extend(e,createjs.AbstractRequest);t.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var e=new createjs.Event("initialize");e.loader=this._tag,this.dispatchEvent(e),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},t.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleTagComplete()},t._handleError=function(){this._clean(),this.dispatchEvent("error")},t._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},t._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},t._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},t._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},t._showTag=function(){this._tag.style.visibility=this._startTagVisibility},t._handleStalled=function(){},createjs.TagRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var t=createjs.extend(e,createjs.TagRequest);t.load=function(){var e=createjs.proxy(this._handleStalled,this);this._stalledCallback=e;var t=createjs.proxy(this._handleProgress,this);this._handleProgress=t,this._tag.addEventListener("stalled",e),this._tag.addEventListener("progress",t),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleTagComplete()},t._handleStalled=function(){},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(e,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractRequest_constructor(e),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(e)}var t=createjs.extend(e,createjs.AbstractRequest);e.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t.getResult=function(e){return e&&this._rawResponse?this._rawResponse:this._response},t.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},t.load=function(){if(null==this._request)return void this._handleError();this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(e){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,e))}},t.setResponseType=function(e){this._request.responseType=e},t.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},t.getResponseHeader=function(e){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(e):null},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._handleLoadStart=function(e){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},t._handleAbort=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,e))},t._handleError=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(e.message))},t._handleReadyStateChange=function(e){4==this._request.readyState&&this._handleLoad()},t._handleLoad=function(e){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t)return void this._handleError(t);this._response=this._getResponse(),this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},t._handleTimeout=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,e))},t._checkError=function(){var e=parseInt(this._request.status);switch(e){case 404:case 0:return new Error(e)}return null},t._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(e){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(e){}return null},t._createXHR=function(e){var t=createjs.RequestUtils.isCrossDomain(e),i={},n=null;if(window.XMLHttpRequest)n=new XMLHttpRequest,t&&void 0===n.withCredentials&&window.XDomainRequest&&(n=new XDomainRequest);else{for(var r=0,a=s.ACTIVEX_VERSIONS.length;a>r;r++){s.ACTIVEX_VERSIONS[r];try{n=new ActiveXObject(axVersions);break}catch(o){}}if(null==n)return!1}null==e.mimeType&&createjs.RequestUtils.isText(e.type)&&(e.mimeType="text/plain; charset=utf-8"),e.mimeType&&n.overrideMimeType&&n.overrideMimeType(e.mimeType),this._xhrLevel="string"==typeof n.responseType?2:1;var l=null;if(l=e.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(e.src,e.values):e.src,n.open(e.method||createjs.AbstractLoader.GET,l,!0),t&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),e.values&&e.method==createjs.AbstractLoader.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),t||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),e.headers)for(var c in e.headers)i[c]=e.headers[c];for(c in i)n.setRequestHeader(c,i[c]);return n instanceof XMLHttpRequest&&void 0!==e.withCredentials&&(n.withCredentials=e.withCredentials),this._request=n,!0},t._clean=function(){clearTimeout(this._loadTimeout),this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)},t.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractMediaLoader_constructor(e,t,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(e)?this._tag=e:createjs.RequestUtils.isAudioTag(e.src)?this._tag=e:createjs.RequestUtils.isAudioTag(e.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(e)?e:e.src),null!=this._tag&&(this._preferXHR=!1)}var t=createjs.extend(e,createjs.AbstractMediaLoader),i=e;i.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SOUND},t._createTag=function(e){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=e,t},createjs.SoundLoader=createjs.promote(e,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},t=e.prototype={},i=e;i.create=function(e){if(e instanceof i||e instanceof Object){var t=new createjs.PlayPropsConfig;return t.set(e),t}throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=i}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Sound cannot be instantiated"}function t(e,t){this.init(e,t)}var i=e;i.INTERRUPT_ANY="any",i.INTERRUPT_EARLY="early",i.INTERRUPT_LATE="late",i.INTERRUPT_NONE="none",i.PLAY_INITED="playInited",i.PLAY_SUCCEEDED="playSucceeded",i.PLAY_INTERRUPTED="playInterrupted",i.PLAY_FINISHED="playFinished",i.PLAY_FAILED="playFailed",i.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],i.EXTENSION_MAP={m4a:"mp4"},i.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,i.defaultInterruptBehavior=i.INTERRUPT_NONE,i.alternateExtensions=[],i.activePlugin=null,i._masterVolume=1,Object.defineProperty(i,"volume",{get:function(){return this._masterVolume},set:function(e){if(null==Number(e))return!1;if(e=Math.max(0,Math.min(1,e)),i._masterVolume=e,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(e))for(var t=this._instances,n=0,s=t.length;s>n;n++)t[n].setMasterVolume(e)}}),i._masterMute=!1,Object.defineProperty(i,"muted",{get:function(){return this._masterMute},set:function(e){if(null==e)return!1;if(this._masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this._instances,i=0,n=t.length;n>i;i++)t[i].setMasterMute(e);return!0}}),Object.defineProperty(i,"capabilities",{get:function(){return null==i.activePlugin?null:i.activePlugin._capabilities},set:function(e){return!1}}),i._pluginsRegistered=!1,i._lastID=0,i._instances=[],i._idHash={},i._preloadHash={},i._defaultPlayPropsHash={},i.addEventListener=null,i.removeEventListener=null,i.removeAllEventListeners=null,i.dispatchEvent=null,i.hasEventListener=null,i._listeners=null,createjs.EventDispatcher.initialize(i),i.getPreloadHandlers=function(){return{callback:createjs.proxy(i.initLoad,i),types:["sound"],extensions:i.SUPPORTED_EXTENSIONS}},i._handleLoadComplete=function(e){var t=e.target.getItem().src;if(i._preloadHash[t])for(var n=0,s=i._preloadHash[t].length;s>n;n++){var r=i._preloadHash[t][n];if(i._preloadHash[t][n]=!0,i.hasEventListener("fileload")){var e=new createjs.Event("fileload");e.src=r.src,e.id=r.id,e.data=r.data,e.sprite=r.sprite,i.dispatchEvent(e)}}},i._handleLoadError=function(e){var t=e.target.getItem().src;if(i._preloadHash[t])for(var n=0,s=i._preloadHash[t].length;s>n;n++){var r=i._preloadHash[t][n];if(i._preloadHash[t][n]=!1,i.hasEventListener("fileerror")){var e=new createjs.Event("fileerror");e.src=r.src,e.id=r.id,e.data=r.data,e.sprite=r.sprite,i.dispatchEvent(e)}}},i._registerPlugin=function(e){return e.isSupported()?(i.activePlugin=new e,!0):!1},i.registerPlugins=function(e){i._pluginsRegistered=!0;for(var t=0,n=e.length;n>t;t++)if(i._registerPlugin(e[t]))return!0;return!1},i.initializeDefaultPlugins=function(){return null!=i.activePlugin?!0:i._pluginsRegistered?!1:i.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1},i.isReady=function(){return null!=i.activePlugin},i.getCapabilities=function(){return null==i.activePlugin?null:i.activePlugin._capabilities},i.getCapability=function(e){return null==i.activePlugin?null:i.activePlugin._capabilities[e]},i.initLoad=function(e){return i._registerSound(e)},i._registerSound=function(e){if(!i.initializeDefaultPlugins())return!1;var n;if(e.src instanceof Object?(n=i._parseSrc(e.src),n.src=e.path+n.src):n=i._parsePath(e.src),null==n)return!1;e.src=n.src,e.type="sound";var s=e.data,r=null;if(null!=s&&(isNaN(s.channels)?isNaN(s)||(r=parseInt(s)):r=parseInt(s.channels),s.audioSprite))for(var a,o=s.audioSprite.length;o--;)a=s.audioSprite[o],i._idHash[a.id]={src:e.src,startTime:parseInt(a.startTime),duration:parseInt(a.duration)},a.defaultPlayProps&&(i._defaultPlayPropsHash[a.id]=createjs.PlayPropsConfig.create(a.defaultPlayProps));null!=e.id&&(i._idHash[e.id]={src:e.src});var l=i.activePlugin.register(e);return t.create(e.src,r),null!=s&&isNaN(s)?e.data.channels=r||t.maxPerChannel():e.data=r||t.maxPerChannel(),l.type&&(e.type=l.type),e.defaultPlayProps&&(i._defaultPlayPropsHash[e.src]=createjs.PlayPropsConfig.create(e.defaultPlayProps)),l},i.registerSound=function(e,t,n,s,r){var a={src:e,id:t,data:n,defaultPlayProps:r};e instanceof Object&&e.src&&(s=t,a=e),a=createjs.LoadItem.create(a),a.path=s,null==s||a.src instanceof Object||(a.src=s+e);var o=i._registerSound(a);if(!o)return!1;if(i._preloadHash[a.src]||(i._preloadHash[a.src]=[]),i._preloadHash[a.src].push(a),1==i._preloadHash[a.src].length)o.on("complete",createjs.proxy(this._handleLoadComplete,this)),o.on("error",createjs.proxy(this._handleLoadError,this)),i.activePlugin.preload(o);else if(1==i._preloadHash[a.src][0])return!0;return a},i.registerSounds=function(e,t){var i=[];e.path&&(t?t+=e.path:t=e.path,e=e.manifest);for(var n=0,s=e.length;s>n;n++)i[n]=createjs.Sound.registerSound(e[n].src,e[n].id,e[n].data,t,e[n].defaultPlayProps);return i},i.removeSound=function(e,n){if(null==i.activePlugin)return!1;e instanceof Object&&e.src&&(e=e.src);var s;if(e instanceof Object?s=i._parseSrc(e):(e=i._getSrcById(e).src,s=i._parsePath(e)),null==s)return!1;e=s.src,null!=n&&(e=n+e);for(var r in i._idHash)i._idHash[r].src==e&&delete i._idHash[r];return t.removeSrc(e),delete i._preloadHash[e],i.activePlugin.removeSound(e),!0},i.removeSounds=function(e,t){var i=[];e.path&&(t?t+=e.path:t=e.path,e=e.manifest);for(var n=0,s=e.length;s>n;n++)i[n]=createjs.Sound.removeSound(e[n].src,t);return i},i.removeAllSounds=function(){i._idHash={},i._preloadHash={},t.removeAll(),i.activePlugin&&i.activePlugin.removeAllSounds()},i.loadComplete=function(e){if(!i.isReady())return!1;var t=i._parsePath(e);return e=t?i._getSrcById(t.src).src:i._getSrcById(e).src,void 0==i._preloadHash[e]?!1:1==i._preloadHash[e][0]},i._parsePath=function(e){"string"!=typeof e&&(e=e.toString());var t=e.match(i.FILE_PATTERN);if(null==t)return!1;for(var n=t[4],s=t[5],r=i.capabilities,a=0;!r[s];)if(s=i.alternateExtensions[a++],a>i.alternateExtensions.length)return null;e=e.replace("."+t[5],"."+s);var o={name:n,src:e,extension:s};return o},i._parseSrc=function(e){var t={name:void 0,src:void 0,extension:void 0},n=i.capabilities;for(var s in e)if(e.hasOwnProperty(s)&&n[s]){t.src=e[s],t.extension=s;break}if(!t.src)return!1;var r=t.src.lastIndexOf("/");return-1!=r?t.name=t.src.slice(r+1):t.name=t.src,t},i.play=function(e,t,n,s,r,a,o,l,c){var u;u=t instanceof Object||t instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(t):createjs.PlayPropsConfig.create({interrupt:t,delay:n,offset:s,loop:r,volume:a,pan:o,startTime:l,duration:c});var h=i.createInstance(e,u.startTime,u.duration),d=i._playInstance(h,u);return d||h._playFailed(),h},i.createInstance=function(e,n,s){if(!i.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(e,n,s);var r=i._defaultPlayPropsHash[e];
e=i._getSrcById(e);var a=i._parsePath(e.src),o=null;return null!=a&&null!=a.src?(t.create(a.src),null==n&&(n=e.startTime),o=i.activePlugin.create(a.src,n,s||e.duration),r=r||i._defaultPlayPropsHash[a.src],r&&o.applyPlayProps(r)):o=new createjs.DefaultSoundInstance(e,n,s),o.uniqueId=i._lastID++,o},i.stop=function(){for(var e=this._instances,t=e.length;t--;)e[t].stop()},i.setVolume=function(e){if(null==Number(e))return!1;if(e=Math.max(0,Math.min(1,e)),i._masterVolume=e,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(e))for(var t=this._instances,n=0,s=t.length;s>n;n++)t[n].setMasterVolume(e)},i.getVolume=function(){return this._masterVolume},i.setMute=function(e){if(null==e)return!1;if(this._masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this._instances,i=0,n=t.length;n>i;i++)t[i].setMasterMute(e);return!0},i.getMute=function(){return this._masterMute},i.setDefaultPlayProps=function(e,t){e=i._getSrcById(e),i._defaultPlayPropsHash[i._parsePath(e.src).src]=createjs.PlayPropsConfig.create(t)},i.getDefaultPlayProps=function(e){return e=i._getSrcById(e),i._defaultPlayPropsHash[i._parsePath(e.src).src]},i._playInstance=function(e,t){var n=i._defaultPlayPropsHash[e.src]||{};if(null==t.interrupt&&(t.interrupt=n.interrupt||i.defaultInterruptBehavior),null==t.delay&&(t.delay=n.delay||0),null==t.offset&&(t.offset=e.getPosition()),null==t.loop&&(t.loop=e.loop),null==t.volume&&(t.volume=e.volume),null==t.pan&&(t.pan=e.pan),0==t.delay){var s=i._beginPlaying(e,t);if(!s)return!1}else{var r=setTimeout(function(){i._beginPlaying(e,t)},t.delay);e.delayTimeoutId=r}return this._instances.push(e),!0},i._beginPlaying=function(e,i){if(!t.add(e,i.interrupt))return!1;var n=e._beginPlaying(i);if(!n){var s=createjs.indexOf(this._instances,e);return s>-1&&this._instances.splice(s,1),!1}return!0},i._getSrcById=function(e){return i._idHash[e]||{src:e}},i._playFinished=function(e){t.remove(e);var i=createjs.indexOf(this._instances,e);i>-1&&this._instances.splice(i,1)},createjs.Sound=e,t.channels={},t.create=function(e,i){var n=t.get(e);return null==n?(t.channels[e]=new t(e,i),!0):!1},t.removeSrc=function(e){var i=t.get(e);return null==i?!1:(i._removeAll(),delete t.channels[e],!0)},t.removeAll=function(){for(var e in t.channels)t.channels[e]._removeAll();t.channels={}},t.add=function(e,i){var n=t.get(e.src);return null==n?!1:n._add(e,i)},t.remove=function(e){var i=t.get(e.src);return null==i?!1:(i._remove(e),!0)},t.maxPerChannel=function(){return n.maxDefault},t.get=function(e){return t.channels[e]};var n=t.prototype;n.constructor=t,n.src=null,n.max=null,n.maxDefault=100,n.length=0,n.init=function(e,t){this.src=e,this.max=t||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},n._get=function(e){return this._instances[e]},n._add=function(e,t){return this._getSlot(t,e)?(this._instances.push(e),this.length++,!0):!1},n._remove=function(e){var t=createjs.indexOf(this._instances,e);return-1==t?!1:(this._instances.splice(t,1),this.length--,!0)},n._removeAll=function(){for(var e=this.length-1;e>=0;e--)this._instances[e].stop()},n._getSlot=function(t,i){var n,s;if(t!=e.INTERRUPT_NONE&&(s=this._get(0),null==s))return!0;for(var r=0,a=this.max;a>r;r++){if(n=this._get(r),null==n)return!0;if(n.playState==e.PLAY_FINISHED||n.playState==e.PLAY_INTERRUPTED||n.playState==e.PLAY_FAILED){s=n;break}t!=e.INTERRUPT_NONE&&(t==e.INTERRUPT_EARLY&&n.getPosition()<s.getPosition()||t==e.INTERRUPT_LATE&&n.getPosition()>s.getPosition())&&(s=n)}return null!=s?(s._interrupt(),this._remove(s),!0):!1},n.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(e,t,i,n){this.EventDispatcher_constructor(),this.src=e,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,t||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,i||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),n!==!1&&n!==!0&&this.setPlaybackResource(n),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},t=createjs.extend(e,createjs.EventDispatcher);t.play=function(e,t,i,n,s,r){var a;return a=e instanceof Object||e instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(e):createjs.PlayPropsConfig.create({interrupt:e,delay:t,offset:i,loop:n,volume:s,pan:r}),this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(a),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,a),this)},t.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},t.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},t.applyPlayProps=function(e){return null!=e.offset&&this.setPosition(e.offset),null!=e.loop&&this.setLoop(e.loop),null!=e.volume&&this.setVolume(e.volume),null!=e.pan&&this.setPan(e.pan),null!=e.startTime&&(this.setStartTime(e.startTime),this.setDuration(e.duration)),this},t.toString=function(){return"[AbstractSoundInstance]"},t.getPaused=function(){return this._paused},t.setPaused=function(e){return e!==!0&&e!==!1||this._paused==e||1==e&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:(this._paused=e,e?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},t.setVolume=function(e){return e==this._volume?this:(this._volume=Math.max(0,Math.min(1,e)),this._muted||this._updateVolume(),this)},t.getVolume=function(){return this._volume},t.setMuted=function(e){return e===!0||e===!1?(this._muted=e,this._updateVolume(),this):void 0},t.getMuted=function(){return this._muted},t.setPan=function(e){return e==this._pan?this:(this._pan=Math.max(-1,Math.min(1,e)),this._updatePan(),this)},t.getPan=function(){return this._pan},t.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},t.setPosition=function(e){return this._position=Math.max(0,e),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},t.getStartTime=function(){return this._startTime},t.setStartTime=function(e){return e==this._startTime?this:(this._startTime=Math.max(0,e||0),this._updateStartTime(),this)},t.getDuration=function(){return this._duration},t.setDuration=function(e){return e==this._duration?this:(this._duration=Math.max(0,e||0),this._updateDuration(),this)},t.setPlaybackResource=function(e){return this._playbackResource=e,0==this._duration&&this._setDurationFromSource(),this},t.getPlaybackResource=function(){return this._playbackResource},t.getLoop=function(){return this._loop},t.setLoop=function(e){null!=this._playbackResource&&(0!=this._loop&&0==e?this._removeLooping(e):0==this._loop&&0!=e&&this._addLooping(e)),this._loop=e},t._sendEvent=function(e){var t=new createjs.Event(e);this.dispatchEvent(t)},t._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},t._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},t._beginPlaying=function(e){return this.setPosition(e.offset),this.setLoop(e.loop),this.setVolume(e.volume),this.setPan(e.pan),null!=e.startTime&&(this.setStartTime(e.startTime),this.setDuration(e.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},t._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},t._handleSoundComplete=function(e){return this._position=0,0!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete"))},t._handleSoundReady=function(){},t._updateVolume=function(){},t._updatePan=function(){},t._updateStartTime=function(){},t._updateDuration=function(){},t._setDurationFromSource=function(){},t._calculateCurrentPosition=function(){},t._updatePosition=function(){},t._removeLooping=function(e){},t._addLooping=function(e){},t._pause=function(){},t._resume=function(){},t._handleStop=function(){},t._handleCleanUp=function(){},t._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(e,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},t=e.prototype;e._capabilities=null,e.isSupported=function(){return!0},t.register=function(e){var t=this._loaders[e.src];return t&&!t.canceled?this._loaders[e.src]:(this._audioSources[e.src]=!0,this._soundInstances[e.src]=[],t=new this._loaderClass(e),t.on("complete",createjs.proxy(this._handlePreloadComplete,this)),this._loaders[e.src]=t,t)},t.preload=function(e){e.on("error",createjs.proxy(this._handlePreloadError,this)),e.load()},t.isPreloadStarted=function(e){return null!=this._audioSources[e]},t.isPreloadComplete=function(e){return!(null==this._audioSources[e]||1==this._audioSources[e])},t.removeSound=function(e){if(this._soundInstances[e]){for(var t=this._soundInstances[e].length;t--;){var i=this._soundInstances[e][t];i.destroy()}delete this._soundInstances[e],delete this._audioSources[e],this._loaders[e]&&this._loaders[e].destroy(),delete this._loaders[e]}},t.removeAllSounds=function(){for(var e in this._audioSources)this.removeSound(e)},t.create=function(e,t,i){this.isPreloadStarted(e)||this.preload(this.register(e));var n=new this._soundInstanceClass(e,t,i,this._audioSources[e]);return this._soundInstances[e].push(n),n},t.setVolume=function(e){return this._volume=e,this._updateVolume(),!0},t.getVolume=function(){return this._volume},t.setMute=function(e){return this._updateVolume(),!0},t.toString=function(){return"[AbstractPlugin]"},t._handlePreloadComplete=function(e){var t=e.target.getItem().src;this._audioSources[t]=e.result;for(var i=0,n=this._soundInstances[t].length;n>i;i++){var s=this._soundInstances[t][i];s.setPlaybackResource(this._audioSources[t])}},t._handlePreloadError=function(e){},t._updateVolume=function(){},createjs.AbstractPlugin=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.SOUND)}var t=createjs.extend(e,createjs.AbstractLoader);e.context=null,t.toString=function(){return"[WebAudioLoader]"},t._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},t._sendComplete=function(t){e.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},t._handleAudioDecoded=function(e){this._result=e,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,s){this.AbstractSoundInstance_constructor(e,t,n,s),this.gainNode=i.context.createGain(),this.panNode=i.context.createPanner(),this.panNode.panningModel=i._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var t=createjs.extend(e,createjs.AbstractSoundInstance),i=e;i.context=null,i._scratchBuffer=null,i.destinationNode=null,i._panningModel="equalpower",t.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},t.toString=function(){return"[WebAudioSoundInstance]"},t._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},t._removeLooping=function(e){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},t._addLooping=function(e){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},t._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},t._cleanUpAudioNode=function(e){if(e){e.stop(0),e.disconnect(0);try{e.buffer=i._scratchBuffer}catch(t){}e=null}return e},t._handleSoundReady=function(e){this.gainNode.connect(i.destinationNode);var t=.001*this._duration,n=.001*this._position;n>t&&(n=t),this.sourceNode=this._createAndPlayAudioNode(i.context.currentTime-t,n),this._playbackStartTime=this.sourceNode.startTime-n,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(t-n)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._createAndPlayAudioNode=function(e,t){var n=i.context.createBufferSource();n.buffer=this.playbackResource,n.connect(this.panNode);var s=.001*this._duration;return n.startTime=e+s,n.start(n.startTime,t+.001*this._startTime,s-t),n},t._pause=function(){this._position=1e3*(i.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},t._resume=function(){this._handleSoundReady()},t._updateVolume=function(){var e=this._muted?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},t._calculateCurrentPosition=function(){return 1e3*(i.context.currentTime-this._playbackStartTime)},t._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},t._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},t._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(e,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.AbstractPlugin_constructor(),this._panningModel=i._panningModel,this.context=i.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=i._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var t=createjs.extend(e,createjs.AbstractPlugin),i=e;i._capabilities=null,i._panningModel="equalpower",i.context=null,i._scratchBuffer=null,i.isSupported=function(){var e=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return"file:"!=location.protocol||e||this._isFileXHRSupported()?(i._generateCapabilities(),null==i.context?!1:!0):!1},i.playEmptySound=function(){if(null!=i.context){var e=i.context.createBufferSource();e.buffer=i._scratchBuffer,e.connect(i.context.destination),e.start(0,0,0)}},i._isFileXHRSupported=function(){var e=!0,t=new XMLHttpRequest;try{t.open("GET","WebAudioPluginTest.fail",!1)}catch(i){return e=!1}t.onerror=function(){e=!1},t.onload=function(){e=404==this.status||200==this.status||0==this.status&&""!=this.response};try{t.send()}catch(i){e=!1}return e},i._generateCapabilities=function(){if(null==i._capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;if(null==i.context)if(window.AudioContext)i.context=new AudioContext;else{if(!window.webkitAudioContext)return null;i.context=new webkitAudioContext}null==i._scratchBuffer&&(i._scratchBuffer=i.context.createBuffer(1,1,22050)),i._compatibilitySetUp(),i.playEmptySound(),i._capabilities={panning:!0,volume:!0,tracks:-1};for(var t=createjs.Sound.SUPPORTED_EXTENSIONS,n=createjs.Sound.EXTENSION_MAP,s=0,r=t.length;r>s;s++){var a=t[s],o=n[a]||a;i._capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+o)&&""!=e.canPlayType("audio/"+o)}i.context.destination.numberOfChannels<2&&(i._capabilities.panning=!1)}},i._compatibilitySetUp=function(){if(i._panningModel="equalpower",!i.context.createGain){i.context.createGain=i.context.createGainNode;var e=i.context.createBufferSource();e.__proto__.start=e.__proto__.noteGrainOn,e.__proto__.stop=e.__proto__.noteOff,i._panningModel=0}},t.toString=function(){return"[WebAudioPlugin]"},t._addPropsToClasses=function(){var e=this._soundInstanceClass;e.context=this.context,e._scratchBuffer=this._scratchBuffer,e.destinationNode=this.gainNode,e._panningModel=this._panningModel,this._loaderClass.context=this.context},t._updateVolume=function(){var e=createjs.Sound._masterMute?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},createjs.WebAudioPlugin=createjs.promote(e,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"HTMLAudioTagPool cannot be instantiated"}function t(e){this._tags=[]}var i=e;i._tags={},i._tagPool=new t,i._tagUsed={},i.get=function(e){var t=i._tags[e];return null==t?(t=i._tags[e]=i._tagPool.get(),t.src=e):i._tagUsed[e]?(t=i._tagPool.get(),t.src=e):i._tagUsed[e]=!0,t},i.set=function(e,t){t==i._tags[e]?i._tagUsed[e]=!1:i._tagPool.set(t)},i.remove=function(e){var t=i._tags[e];return null==t?!1:(i._tagPool.set(t),delete i._tags[e],delete i._tagUsed[e],!0)},i.getDuration=function(e){var t=i._tags[e];return null!=t&&t.duration?1e3*t.duration:0},createjs.HTMLAudioTagPool=e;var n=t.prototype;n.constructor=t,n.get=function(){var e;return e=0==this._tags.length?this._createTag():this._tags.pop(),null==e.parentNode&&document.body.appendChild(e),e},n.set=function(e){var t=createjs.indexOf(this._tags,e);-1==t&&(this._tags.src=null,this._tags.push(e))},n.toString=function(){return"[TagPool]"},n._createTag=function(){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e}}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n){this.AbstractSoundInstance_constructor(e,t,i,n),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),i?this._audioSpriteStopTime=.001*(t+i):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var t=createjs.extend(e,createjs.AbstractSoundInstance);t.setMasterVolume=function(e){this._updateVolume()},t.setMasterMute=function(e){this._updateVolume()},t.toString=function(){return"[HTMLAudioSoundInstance]"},t._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},t._handleCleanUp=function(){var e=this._playbackResource;if(null!=e){e.pause(),e.loop=!1,e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{e.currentTime=this._startTime}catch(t){}createjs.HTMLAudioTagPool.set(this.src,e),this._playbackResource=null}},t._beginPlaying=function(e){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(e)},t._handleSoundReady=function(e){if(4!==this._playbackResource.readyState){var t=this._playbackResource;return t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.preload="auto",void t.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},t._handleTagReady=function(e){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},t._pause=function(){this._playbackResource.pause()},t._resume=function(){this._playbackResource.play()},t._updateVolume=function(){if(null!=this._playbackResource){var e=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;e!=this._playbackResource.volume&&(this._playbackResource.volume=e)}},t._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},t._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(e){this._handleSetPositionSeek(null)}},t._handleSetPositionSeek=function(e){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._handleAudioSpriteLoop=function(e){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},t._handleLoop=function(e){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},t._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},t._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(e,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=i._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var t=createjs.extend(e,createjs.AbstractPlugin),i=e;i.MAX_INSTANCES=30,i._AUDIO_READY="canplaythrough",i._AUDIO_ENDED="ended",i._AUDIO_SEEKED="seeked",i._AUDIO_STALLED="stalled",i._TIME_UPDATE="timeupdate",i._capabilities=null,i.isSupported=function(){return i._generateCapabilities(),null!=i._capabilities},i._generateCapabilities=function(){if(null==i._capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;i._capabilities={panning:!1,volume:!0,tracks:-1};for(var t=createjs.Sound.SUPPORTED_EXTENSIONS,n=createjs.Sound.EXTENSION_MAP,s=0,r=t.length;r>s;s++){var a=t[s],o=n[a]||a;i._capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+o)&&""!=e.canPlayType("audio/"+o)}}},t.register=function(e){var t=createjs.HTMLAudioTagPool.get(e.src),i=this.AbstractPlugin_register(e);return i.setTag(t),i},t.removeSound=function(e){this.AbstractPlugin_removeSound(e),createjs.HTMLAudioTagPool.remove(e)},t.create=function(e,t,i){var n=this.AbstractPlugin_create(e,t,i);return n.setPlaybackResource(null),n},t.toString=function(){return"[HTMLAudioPlugin]"},t.setVolume=t.getVolume=t.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(e,"AbstractPlugin")}(),define("soundjs",["easeljs"],function(e){return function(){var t;return t||e.createjs.SoundJS}}(this)),this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i},this.createjs=this.createjs||{},createjs.promote=function(e,t){"use strict";var i=e.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n){i[(t+="_")+"constructor"]=n.constructor;for(var s in n)i.hasOwnProperty(s)&&"function"==typeof n[s]&&(i[t+s]=n[s])}return e},this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,i){var n;n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=n[e];return s&&this.removeEventListener(e,t,i),s=n[e],s?s.push(t):n[e]=[t],t},t.on=function(e,t,i,n,s,r){return t.handleEvent&&(i=i||t,t=t.handleEvent),i=i||this,this.addEventListener(e,function(e){t.call(i,e,s),n&&e.remove()},r)},t.removeEventListener=function(e,t,i){var n=i?this._captureListeners:this._listeners;if(n){var s=n[e];if(s)for(var r=0,a=s.length;a>r;r++)if(s[r]==t){1==a?delete n[e]:s.splice(r,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e){if("string"==typeof e){var t=this._listeners;if(!t||!t[e])return!1;e=new createjs.Event(e)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(i){}if(e.bubbles&&this.parent){for(var n=this,s=[n];n.parent;)s.push(n=n.parent);var r,a=s.length;for(r=a-1;r>=0&&!e.propagationStopped;r--)s[r]._dispatchEvent(e,1+(0==r));for(r=1;a>r&&!e.propagationStopped;r++)s[r]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,i=this._captureListeners;return!!(t&&t[e]||i&&i[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var i,n=1==t?this._captureListeners:this._listeners;if(e&&n){var s=n[e.type];if(!s||!(i=s.length))return;try{e.currentTarget=this}catch(r){}try{e.eventPhase=t}catch(r){}e.removed=!1,s=s.slice();for(var a=0;i>a&&!e.immediatePropagationStopped;a++){var o=s[a];o.handleEvent?o.handleEvent(e):o(e),e.removed&&(this.off(e.type,o,1==t),e.removed=!1)}}},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Ticker cannot be instantiated."}e.RAF_SYNCHED="synched",e.RAF="raf",e.TIMEOUT="timeout",e.useRAF=!1,e.timingMode=null,e.maxDelta=0,e.paused=!1,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e._addEventListener=e.addEventListener,e.addEventListener=function(){return!e._inited&&e.init(),e._addEventListener.apply(e,arguments)},e._inited=!1,e._startTime=0,e._pausedTime=0,e._ticks=0,e._pausedTicks=0,e._interval=50,e._lastTime=0,e._times=null,e._tickTimes=null,e._timerId=null,e._raf=!0,e.setInterval=function(t){e._interval=t,e._inited&&e._setupTick()},e.getInterval=function(){return e._interval},e.setFPS=function(t){e.setInterval(1e3/t)},e.getFPS=function(){return 1e3/e._interval};try{Object.defineProperties(e,{interval:{get:e.getInterval,set:e.setInterval},framerate:{get:e.getFPS,set:e.setFPS}})}catch(t){}e.init=function(){e._inited||(e._inited=!0,e._times=[],e._tickTimes=[],e._startTime=e._getTime(),e._times.push(e._lastTime=0),e.interval=e._interval)},e.reset=function(){if(e._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(e._timerId)}else clearTimeout(e._timerId);e.removeAllEventListeners("tick"),e._timerId=e._times=e._tickTimes=null,e._startTime=e._lastTime=e._ticks=0,e._inited=!1},e.getMeasuredTickTime=function(t){var i=0,n=e._tickTimes;if(!n||n.length<1)return-1;t=Math.min(n.length,t||0|e.getFPS());for(var s=0;t>s;s++)i+=n[s];return i/t;
},e.getMeasuredFPS=function(t){var i=e._times;return!i||i.length<2?-1:(t=Math.min(i.length-1,t||0|e.getFPS()),1e3/((i[0]-i[t])/t))},e.setPaused=function(t){e.paused=t},e.getPaused=function(){return e.paused},e.getTime=function(t){return e._startTime?e._getTime()-(t?e._pausedTime:0):-1},e.getEventTime=function(t){return e._startTime?(e._lastTime||e._startTime)-(t?e._pausedTime:0):-1},e.getTicks=function(t){return e._ticks-(t?e._pausedTicks:0)},e._handleSynch=function(){e._timerId=null,e._setupTick(),e._getTime()-e._lastTime>=.97*(e._interval-1)&&e._tick()},e._handleRAF=function(){e._timerId=null,e._setupTick(),e._tick()},e._handleTimeout=function(){e._timerId=null,e._setupTick(),e._tick()},e._setupTick=function(){if(null==e._timerId){var t=e.timingMode||e.useRAF&&e.RAF_SYNCHED;if(t==e.RAF_SYNCHED||t==e.RAF){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(i)return e._timerId=i(t==e.RAF?e._handleRAF:e._handleSynch),void(e._raf=!0)}e._raf=!1,e._timerId=setTimeout(e._handleTimeout,e._interval)}},e._tick=function(){var t=e.paused,i=e._getTime(),n=i-e._lastTime;if(e._lastTime=i,e._ticks++,t&&(e._pausedTicks++,e._pausedTime+=n),e.hasEventListener("tick")){var s=new createjs.Event("tick"),r=e.maxDelta;s.delta=r&&n>r?r:n,s.paused=t,s.time=i,s.runTime=i-e._pausedTime,e.dispatchEvent(s)}for(e._tickTimes.unshift(e._getTime()-i);e._tickTimes.length>100;)e._tickTimes.pop();for(e._times.unshift(i);e._times.length>100;)e._times.pop()};var i=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);e._getTime=function(){return(i&&i.call(performance)||(new Date).getTime())-e._startTime},createjs.Ticker=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(t,i,n){this.ignoreGlobalPause=!1,this.loop=!1,this.duration=0,this.pluginData=n||{},this.target=t,this.position=null,this.passive=!1,this._paused=!1,this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],this._prevPosition=0,this._stepPosition=0,this._prevPos=-1,this._target=t,this._useTicks=!1,this._inited=!1,this._registered=!1,i&&(this._useTicks=i.useTicks,this.ignoreGlobalPause=i.ignoreGlobalPause,this.loop=i.loop,i.onChange&&this.addEventListener("change",i.onChange),i.override&&e.removeTweens(t)),i&&i.paused?this._paused=!0:createjs.Tween._register(this,!0),i&&null!=i.position&&this.setPosition(i.position,e.NONE)}var t=createjs.extend(e,createjs.EventDispatcher);e.NONE=0,e.LOOP=1,e.REVERSE=2,e.IGNORE={},e._tweens=[],e._plugins={},e.get=function(t,i,n,s){return s&&e.removeTweens(t),new e(t,i,n)},e.tick=function(t,i){for(var n=e._tweens.slice(),s=n.length-1;s>=0;s--){var r=n[s];i&&!r.ignoreGlobalPause||r._paused||r.tick(r._useTicks?1:t)}},e.handleEvent=function(e){"tick"==e.type&&this.tick(e.delta,e.paused)},e.removeTweens=function(t){if(t.tweenjs_count){for(var i=e._tweens,n=i.length-1;n>=0;n--){var s=i[n];s._target==t&&(s._paused=!0,i.splice(n,1))}t.tweenjs_count=0}},e.removeAllTweens=function(){for(var t=e._tweens,i=0,n=t.length;n>i;i++){var s=t[i];s._paused=!0,s.target&&(s.target.tweenjs_count=0)}t.length=0},e.hasActiveTweens=function(t){return t?null!=t.tweenjs_count&&!!t.tweenjs_count:e._tweens&&!!e._tweens.length},e.installPlugin=function(t,i){var n=t.priority;null==n&&(t.priority=n=0);for(var s=0,r=i.length,a=e._plugins;r>s;s++){var o=i[s];if(a[o]){for(var l=a[o],c=0,u=l.length;u>c&&!(n<l[c].priority);c++);a[o].splice(c,0,t)}else a[o]=[t]}},e._register=function(t,i){var n=t._target,s=e._tweens;if(i&&!t._registered)n&&(n.tweenjs_count=n.tweenjs_count?n.tweenjs_count+1:1),s.push(t),!e._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",e),e._inited=!0);else if(!i&&t._registered){n&&n.tweenjs_count--;for(var r=s.length;r--;)if(s[r]==t){s.splice(r,1);break}}t._registered=i},t.wait=function(e,t){if(null==e||0>=e)return this;var i=this._cloneProps(this._curQueueProps);return this._addStep({d:e,p0:i,e:this._linearEase,p1:i,v:t})},t.to=function(e,t,i){return(isNaN(t)||0>t)&&(t=0),this._addStep({d:t||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(e))})},t.call=function(e,t,i){return this._addAction({f:e,p:t?t:[this],o:i?i:this._target})},t.set=function(e,t){return this._addAction({f:this._set,o:this,p:[e,t?t:this._target]})},t.play=function(e){return e||(e=this),this.call(e.setPaused,[!1],e)},t.pause=function(e){return e||(e=this),this.call(e.setPaused,[!0],e)},t.setPosition=function(e,t){0>e&&(e=0),null==t&&(t=1);var i=e,n=!1;if(i>=this.duration&&(this.loop?i%=this.duration:(i=this.duration,n=!0)),i==this._prevPos)return n;var s=this._prevPos;if(this.position=this._prevPos=i,this._prevPosition=e,this._target)if(n)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var r=0,a=this._steps.length;a>r&&!(this._steps[r].t>i);r++);var o=this._steps[r-1];this._updateTargetProps(o,(this._stepPosition=i-o.t)/o.d)}return 0!=t&&this._actions.length>0&&(this._useTicks?this._runActions(i,i):1==t&&s>i?(s!=this.duration&&this._runActions(s,this.duration),this._runActions(0,i,!0)):this._runActions(s,i)),n&&this.setPaused(!0),this.dispatchEvent("change"),n},t.tick=function(e){this._paused||this.setPosition(this._prevPosition+e)},t.setPaused=function(t){return this._paused===!!t?this:(this._paused=!!t,e._register(this,!t),this)},t.w=t.wait,t.t=t.to,t.c=t.call,t.s=t.set,t.toString=function(){return"[Tween]"},t.clone=function(){throw"Tween can not be cloned."},t._updateTargetProps=function(t,i){var n,s,r,a,o,l;if(t||1!=i){if(this.passive=!!t.v,this.passive)return;t.e&&(i=t.e(i,0,1,1)),n=t.p0,s=t.p1}else this.passive=!1,n=s=this._curQueueProps;for(var c in this._initQueueProps){null==(a=n[c])&&(n[c]=a=this._initQueueProps[c]),null==(o=s[c])&&(s[c]=o=a),r=a==o||0==i||1==i||"number"!=typeof a?1==i?o:a:a+(o-a)*i;var u=!1;if(l=e._plugins[c])for(var h=0,d=l.length;d>h;h++){var p=l[h].tween(this,c,r,n,s,i,!!t&&n==s,!t);p==e.IGNORE?u=!0:r=p}u||(this._target[c]=r)}},t._runActions=function(e,t,i){var n=e,s=t,r=-1,a=this._actions.length,o=1;for(e>t&&(n=t,s=e,r=a,a=o=-1);(r+=o)!=a;){var l=this._actions[r],c=l.t;(c==s||c>n&&s>c||i&&c==e)&&l.f.apply(l.o,l.p)}},t._appendQueueProps=function(t){var i,n,s,r,a;for(var o in t)if(void 0===this._initQueueProps[o]){if(n=this._target[o],i=e._plugins[o])for(s=0,r=i.length;r>s;s++)n=i[s].init(this,o,n);this._initQueueProps[o]=this._curQueueProps[o]=void 0===n?null:n}else n=this._curQueueProps[o];for(var o in t){if(n=this._curQueueProps[o],i=e._plugins[o])for(a=a||{},s=0,r=i.length;r>s;s++)i[s].step&&i[s].step(this,o,n,t[o],a);this._curQueueProps[o]=t[o]}return a&&this._appendQueueProps(a),this._curQueueProps},t._cloneProps=function(e){var t={};for(var i in e)t[i]=e[i];return t},t._addStep=function(e){return e.d>0&&(this._steps.push(e),e.t=this.duration,this.duration+=e.d),this},t._addAction=function(e){return e.t=this.duration,this._actions.push(e),this},t._set=function(e,t){for(var i in e)t[i]=e[i]},createjs.Tween=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.duration=0,this.loop=!1,this.position=null,this._paused=!1,this._tweens=[],this._labels=null,this._labelList=null,this._prevPosition=0,this._prevPos=-1,this._useTicks=!1,this._registered=!1,i&&(this._useTicks=i.useTicks,this.loop=i.loop,this.ignoreGlobalPause=i.ignoreGlobalPause,i.onChange&&this.addEventListener("change",i.onChange)),e&&this.addTween.apply(this,e),this.setLabels(t),i&&i.paused?this._paused=!0:createjs.Tween._register(this,!0),i&&null!=i.position&&this.setPosition(i.position,createjs.Tween.NONE)}var t=createjs.extend(e,createjs.EventDispatcher);t.addTween=function(e){var t=arguments.length;if(t>1){for(var i=0;t>i;i++)this.addTween(arguments[i]);return arguments[0]}return 0==t?null:(this.removeTween(e),this._tweens.push(e),e.setPaused(!0),e._paused=!1,e._useTicks=this._useTicks,e.duration>this.duration&&(this.duration=e.duration),this._prevPos>=0&&e.setPosition(this._prevPos,createjs.Tween.NONE),e)},t.removeTween=function(e){var t=arguments.length;if(t>1){for(var i=!0,n=0;t>n;n++)i=i&&this.removeTween(arguments[n]);return i}if(0==t)return!1;for(var s=this._tweens,n=s.length;n--;)if(s[n]==e)return s.splice(n,1),e.duration>=this.duration&&this.updateDuration(),!0;return!1},t.addLabel=function(e,t){this._labels[e]=t;var i=this._labelList;if(i){for(var n=0,s=i.length;s>n&&!(t<i[n].position);n++);i.splice(n,0,{label:e,position:t})}},t.setLabels=function(e){this._labels=e?e:{}},t.getLabels=function(){var e=this._labelList;if(!e){e=this._labelList=[];var t=this._labels;for(var i in t)e.push({label:i,position:t[i]});e.sort(function(e,t){return e.position-t.position})}return e},t.getCurrentLabel=function(){var e=this.getLabels(),t=this.position,i=e.length;if(i){for(var n=0;i>n&&!(t<e[n].position);n++);return 0==n?null:e[n-1].label}return null},t.gotoAndPlay=function(e){this.setPaused(!1),this._goto(e)},t.gotoAndStop=function(e){this.setPaused(!0),this._goto(e)},t.setPosition=function(e,t){var i=this._calcPosition(e),n=!this.loop&&e>=this.duration;if(i==this._prevPos)return n;this._prevPosition=e,this.position=this._prevPos=i;for(var s=0,r=this._tweens.length;r>s;s++)if(this._tweens[s].setPosition(i,t),i!=this._prevPos)return!1;return n&&this.setPaused(!0),this.dispatchEvent("change"),n},t.setPaused=function(e){this._paused=!!e,createjs.Tween._register(this,!e)},t.updateDuration=function(){this.duration=0;for(var e=0,t=this._tweens.length;t>e;e++){var i=this._tweens[e];i.duration>this.duration&&(this.duration=i.duration)}},t.tick=function(e){this.setPosition(this._prevPosition+e)},t.resolve=function(e){var t=Number(e);return isNaN(t)&&(t=this._labels[e]),t},t.toString=function(){return"[Timeline]"},t.clone=function(){throw"Timeline can not be cloned."},t._goto=function(e){var t=this.resolve(e);null!=t&&this.setPosition(t)},t._calcPosition=function(e){return 0>e?0:e<this.duration?e:this.loop?e%this.duration:this.duration},createjs.Timeline=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Ease cannot be instantiated."}e.linear=function(e){return e},e.none=e.linear,e.get=function(e){return-1>e&&(e=-1),e>1&&(e=1),function(t){return 0==e?t:0>e?t*(t*-e+1+e):t*((2-t)*e+(1-e))}},e.getPowIn=function(e){return function(t){return Math.pow(t,e)}},e.getPowOut=function(e){return function(t){return 1-Math.pow(1-t,e)}},e.getPowInOut=function(e){return function(t){return(t*=2)<1?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.sineIn=function(e){return 1-Math.cos(e*Math.PI/2)},e.sineOut=function(e){return Math.sin(e*Math.PI/2)},e.sineInOut=function(e){return-.5*(Math.cos(Math.PI*e)-1)},e.getBackIn=function(e){return function(t){return t*t*((e+1)*t-e)}},e.backIn=e.getBackIn(1.7),e.getBackOut=function(e){return function(t){return--t*t*((e+1)*t+e)+1}},e.backOut=e.getBackOut(1.7),e.getBackInOut=function(e){return e*=1.525,function(t){return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},e.backInOut=e.getBackInOut(1.7),e.circIn=function(e){return-(Math.sqrt(1-e*e)-1)},e.circOut=function(e){return Math.sqrt(1- --e*e)},e.circInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},e.bounceInOut=function(t){return.5>t?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.getElasticIn=function(e,t){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var s=t/i*Math.asin(1/e);return-(e*Math.pow(2,10*(n-=1))*Math.sin((n-s)*i/t))}},e.elasticIn=e.getElasticIn(1,.3),e.getElasticOut=function(e,t){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var s=t/i*Math.asin(1/e);return e*Math.pow(2,-10*n)*Math.sin((n-s)*i/t)+1}},e.elasticOut=e.getElasticOut(1,.3),e.getElasticInOut=function(e,t){var i=2*Math.PI;return function(n){var s=t/i*Math.asin(1/e);return(n*=2)<1?-.5*(e*Math.pow(2,10*(n-=1))*Math.sin((n-s)*i/t)):e*Math.pow(2,-10*(n-=1))*Math.sin((n-s)*i/t)*.5+1}},e.elasticInOut=e.getElasticInOut(1,.3*1.5),createjs.Ease=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"MotionGuidePlugin cannot be instantiated."}e.priority=0,e._rotOffS,e._rotOffE,e._rotNormS,e._rotNormE,e.install=function(){return createjs.Tween.installPlugin(e,["guide","x","y","rotation"]),createjs.Tween.IGNORE},e.init=function(e,t,i){var n=e.target;return n.hasOwnProperty("x")||(n.x=0),n.hasOwnProperty("y")||(n.y=0),n.hasOwnProperty("rotation")||(n.rotation=0),"rotation"==t&&(e.__needsRot=!0),"guide"==t?null:i},e.step=function(t,i,n,s,r){if("rotation"==i&&(t.__rotGlobalS=n,t.__rotGlobalE=s,e.testRotData(t,r)),"guide"!=i)return s;var a,o=s;o.hasOwnProperty("path")||(o.path=[]);var l=o.path;if(o.hasOwnProperty("end")||(o.end=1),o.hasOwnProperty("start")||(o.start=n&&n.hasOwnProperty("end")&&n.path===l?n.end:0),o.hasOwnProperty("_segments")&&o._length)return s;var c=l.length,u=10;if(!(c>=6&&(c-2)%4==0))throw"invalid 'path' data, please see documentation for valid paths";o._segments=[],o._length=0;for(var h=2;c>h;h+=4){for(var d,p,f=l[h-2],g=l[h-1],_=l[h+0],m=l[h+1],v=l[h+2],b=l[h+3],y=f,w=g,S=0,T=[],E=1;u>=E;E++){var P=E/u,j=1-P;d=j*j*f+2*j*P*_+P*P*v,p=j*j*g+2*j*P*m+P*P*b,S+=T[T.push(Math.sqrt((a=d-y)*a+(a=p-w)*a))-1],y=d,w=p}o._segments.push(S),o._segments.push(T),o._length+=S}a=o.orient,o.orient=!0;var x={};return e.calc(o,o.start,x),t.__rotPathS=Number(x.rotation.toFixed(5)),e.calc(o,o.end,x),t.__rotPathE=Number(x.rotation.toFixed(5)),o.orient=!1,e.calc(o,o.end,r),o.orient=a,o.orient?(t.__guideData=o,e.testRotData(t,r),s):s},e.testRotData=function(e,t){if(void 0===e.__rotGlobalS||void 0===e.__rotGlobalE){if(e.__needsRot)return;void 0!==e._curQueueProps.rotation?e.__rotGlobalS=e.__rotGlobalE=e._curQueueProps.rotation:e.__rotGlobalS=e.__rotGlobalE=t.rotation=e.target.rotation||0}if(void 0!==e.__guideData){var i=e.__guideData,n=e.__rotGlobalE-e.__rotGlobalS,s=e.__rotPathE-e.__rotPathS,r=n-s;if("auto"==i.orient)r>180?r-=360:-180>r&&(r+=360);else if("cw"==i.orient){for(;0>r;)r+=360;0==r&&n>0&&180!=n&&(r+=360)}else if("ccw"==i.orient){for(r=n-(s>180?360-s:s);r>0;)r-=360;0==r&&0>n&&-180!=n&&(r-=360)}i.rotDelta=r,i.rotOffS=e.__rotGlobalS-e.__rotPathS,e.__rotGlobalS=e.__rotGlobalE=e.__guideData=e.__needsRot=void 0}},e.tween=function(t,i,n,s,r,a,o,l){var c=r.guide;if(void 0==c||c===s.guide)return n;if(c.lastRatio!=a){var u=(c.end-c.start)*(o?c.end:a)+c.start;switch(e.calc(c,u,t.target),c.orient){case"cw":case"ccw":case"auto":t.target.rotation+=c.rotOffS+c.rotDelta*a;break;case"fixed":default:t.target.rotation+=c.rotOffS}c.lastRatio=a}return"rotation"!=i||c.orient&&"false"!=c.orient?t.target[i]:n},e.calc=function(t,i,n){void 0==t._segments&&e.validate(t),void 0==n&&(n={x:0,y:0,rotation:0});for(var s=t._segments,r=t.path,a=t._length*i,o=s.length-2,l=0;a>s[l]&&o>l;)a-=s[l],l+=2;var c=s[l+1],u=0;for(o=c.length-1;a>c[u]&&o>u;)a-=c[u],u++;var h=u/++o+a/(o*c[u]);l=2*l+2;var d=1-h;return n.x=d*d*r[l-2]+2*d*h*r[l+0]+h*h*r[l+2],n.y=d*d*r[l-1]+2*d*h*r[l+1]+h*h*r[l+3],t.orient&&(n.rotation=57.2957795*Math.atan2((r[l+1]-r[l-1])*d+(r[l+3]-r[l+1])*h,(r[l+0]-r[l-2])*d+(r[l+2]-r[l+0])*h)),n},createjs.MotionGuidePlugin=e}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.TweenJS=createjs.TweenJS||{};e.version="0.6.1",e.buildDate="Thu, 17 Sep 2015 13:21:04 GMT"}(),define("tweenjs",["easeljs"],function(e){return function(){var t;return t||e.createjs.Tween}}(this)),this.createjs=this.createjs||{},function(){"use strict";function e(t,i,n,s){this.Container_constructor(),!e.inited&&e.init(),this.mode=t||e.INDEPENDENT,this.startPosition=i||0,this.loop=n,this.currentFrame=0,this.timeline=new createjs.Timeline(null,s,{paused:!0,position:i,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}function t(){throw"MovieClipPlugin cannot be instantiated."}var i=createjs.extend(e,createjs.Container);e.INDEPENDENT="independent",e.SINGLE_FRAME="single",e.SYNCHED="synched",e.inited=!1,e.init=function(){e.inited||(t.install(),e.inited=!0)},i.getLabels=function(){return this.timeline.getLabels()},i.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},i.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(i,{labels:{get:i.getLabels},currentLabel:{get:i.getCurrentLabel},totalFrames:{get:i.getDuration},duration:{get:i.getDuration}})}catch(n){}i.initialize=e,i.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},i.draw=function(e,t){return this.DisplayObject_draw(e,t)?!0:(this._updateTimeline(),this.Container_draw(e,t),!0)},i.play=function(){this.paused=!1},i.stop=function(){this.paused=!0},i.gotoAndPlay=function(e){this.paused=!1,this._goto(e)},i.gotoAndStop=function(e){this.paused=!0,this._goto(e)},i.advance=function(t){var i=e.INDEPENDENT;if(this.mode==i){for(var n=this,s=n.framerate;(n=n.parent)&&null==s;)n.mode==i&&(s=n._framerate);this._framerate=s;var r=null!=s&&-1!=s&&null!=t?t/(1e3/s)+this._t:1,a=0|r;for(this._t=r-a;!this.paused&&a--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},i.clone=function(){throw"MovieClip cannot be cloned."},i.toString=function(){return"[MovieClip (name="+this.name+")]"},i._tick=function(e){this.advance(e&&e.delta),this.Container__tick(e)},i._goto=function(e){var t=this.timeline.resolve(e);null!=t&&(-1==this._prevPos&&(this._prevPos=NaN),this._prevPosition=t,this._t=0,this._updateTimeline())},i._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},i._updateTimeline=function(){var t=this.timeline,i=this.mode!=e.INDEPENDENT;t.loop=null==this.loop?!0:this.loop;var n=i?this.startPosition+(this.mode==e.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition,s=i||!this.actionsEnabled?createjs.Tween.NONE:null;if(this.currentFrame=t._calcPosition(n),t.setPosition(n,s),this._prevPosition=t._prevPosition,this._prevPos!=t._prevPos){this.currentFrame=this._prevPos=t._prevPos;for(var r in this._managed)this._managed[r]=1;for(var a=t._tweens,o=0,l=a.length;l>o;o++){var c=a[o],u=c._target;if(u!=this&&!c.passive){var h=c._stepPosition;u instanceof createjs.DisplayObject?this._addManagedChild(u,h):this._setState(u.state,h)}}var d=this.children;for(o=d.length-1;o>=0;o--){var p=d[o].id;1==this._managed[p]&&(this.removeChildAt(o),delete this._managed[p])}}},i._setState=function(e,t){if(e)for(var i=e.length-1;i>=0;i--){var n=e[i],s=n.t,r=n.p;for(var a in r)s[a]=r[a];this._addManagedChild(s,t)}},i._addManagedChild=function(t,i){t._off||(this.addChildAt(t,0),t instanceof e&&(t._synchOffset=i,t.mode==e.INDEPENDENT&&t.autoReset&&!this._managed[t.id]&&t._reset()),this._managed[t.id]=2)},i._getBounds=function(e,t){var i=this.DisplayObject_getBounds();return i||(this._updateTimeline(),this.frameBounds&&(i=this._rectangle.copy(this.frameBounds[this.currentFrame]))),i?this._transformBounds(i,e,t):this.Container__getBounds(e,t)},createjs.MovieClip=createjs.promote(e,"Container"),t.priority=100,t.install=function(){createjs.Tween.installPlugin(t,["startPosition"])},t.init=function(e,t,i){return i},t.step=function(){},t.tween=function(t,i,n,s,r,a,o,l){return t.target instanceof e?1==a?r[i]:s[i]:n}}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.MovieClip=createjs.MovieClip||{};e.version="0.8.1",e.buildDate="Thu, 17 Sep 2015 13:13:22 GMT"}(),define("movieclipjs",["easeljs","tweenjs"],function(e){return function(){var t;return t||e.createjs.MovieClip}}(this)),define("createjs",[],function(){return window.createjs}),define("lib/core/manifests",[],function(){return function(e,t,i,n){return e[t].map(function(t){var s,r=e.root,a=t.indexOf("."),o=null;return o=a>-1?t.slice(r.length+1,a):t.slice(r.length+1),s={id:o,src:i+t},n&&(s.type=n),s})}}),define("lib/core/bootstrap",["require","createjs","./manifests"],function(e){function t(e){var t={},i=t;return e.forEach(function(e){var n,s,r=e.item.id.split("/"),a=e.result;for(n=0;n<r.length;n++)s=r[n],n===r.length-1?i[s]=a:(i[s]||(i[s]={}),i=i[s]);i=t}),t}var i=e("createjs"),n=e("./manifests");return function(e,s){var r=new i.LoadQueue,a=new i.LoadQueue,o=e.urlGameFolder;r.addEventListener("complete",function(t){var i=t.target.getResult("loaderManifest"),s=n(i,"loader",e.urlGameFolder);a.loadManifest(s)}),r.loadFile({id:"loaderManifest",src:o+"assets/loader.json"}),a.addEventListener("complete",function(e){s(t(e.target.getItems()))})}}),define("lib/core/interfaces",[],function(){var e={game:["initialize","reInitialize","startUserInteraction","reStartUserInteraction","enterResultScreenState","updateBalance","error","warn"],loader:["draw","update","hide"]};return function(t,i){e[t].forEach(function(e){var n="Couldn't find method "+e+" on the given "+t+" module.",s="You need to implement this.",r=n+" "+s;if(!i.hasOwnProperty(e))throw new Error(r)})}}),define("lib/core/stage",["require","createjs"],function(e){var t=e("createjs");return function(e){var i=window.lib&&window.lib.properties&&window.lib.properties.fps,n=new t.Stage(e);return t.Touch.enable(n),n.update(),t.Ticker.setFPS(i||24),t.Ticker.addEventListener("tick",n),n}}),define("lib/util/string",["require"],function(e){function t(){for(var e=Array.prototype.slice.call(arguments),t=arguments[0],i=e.length-1;i--;)t=t.replace(new RegExp("\\{"+i+"\\}","gm"),e[i+1]);return t}return{format:t}}),define("game/loader",["require","../lib/core/stage","../lib/util/string"],function(e){var t=e("../lib/core/stage"),i=e("../lib/util/string"),n=i.format;return function(e,i){function s(){function s(){u=new createjs.Bitmap(i.loaderLogo),h=new createjs.Bitmap(i.loadingBarHorse),v=u.getBounds().width,b=u.getBounds().height,m=new createjs.Bitmap(i.loadingBG_Portrait),c=i.loadingBG_Portrait.src,e.parentElement.style.background=n("url({0}) 50% 0%",i.loadingBG_Portrait.src),e.parentElement.style.backgroundSize="cover",y=21,w=243,d=48,p=559,a.x=m.getBounds().width/2-a.getBounds().width/2,a.y=619,f=460}function r(){u=new createjs.Bitmap(i.loaderLogo),v=u.getBounds().width,b=u.getBounds().height,h=new createjs.Bitmap(i.loadingBarHorse),m=new createjs.Bitmap(i.loadingBG_Landscape),c=i.loadingBG_Landscape.src,e.parentElement.style.background=n("url({0}) 50% 0%",i.loadingBG_Landscape.src),e.parentElement.style.backgroundSize="cover",y=201,w=64,d=228,p=383,a.x=m.getBounds().width/2-a.getBounds().width/2,a.y=443,f=645}var a=new createjs.Bitmap(i.loaderBarBack),m=null;l=new createjs.Bitmap(i.loaderBarFront);var v,b,y,w,S=(document.getElementById(window.game.ChampionRaceway.main.config.targetDivId).offsetWidth,window.game.ChampionRaceway.main.config.siteId);window.game.ChampionRaceway.main.siteConfig=i.site_game_configuration[S]||i.site_game_configuration["default"],(e.width>e.height?r:s).call(null),l.x=a.x,l.y=a.y,h.x=d,h.y=p,u.x=y,u.y=w,_=new createjs.Shape,_.x=l.getBounds().x,_.y=l.getBounds().y,_.graphics.drawRect(l.x,l.y,l.getBounds().width,l.getBounds().height).closePath(),_.setBounds(l.x,l.y,l.getBounds().width,l.getBounds().height),g=_.x-l.getBounds().width,_.x=g,l.mask=_,o=(new createjs.Container).set(),o.addChild(u,a,l,h),t.addChild(o)}function r(e){l.mask.x=g+417*e;var t=l.mask.x-g,i=t+d;h.x=i}function a(){e.parentElement.style.background=n("url({0}) 50% 0%",c),e.parentElement.style.backgroundSize="cover",t.removeChild(o)}t=t(e);var o,l,c,u,h,d,p,f,g,_;return{draw:s,hide:a,update:r}}}),define("lib/plugin/SpriteSheet",["require","createjs"],function(e){var t=e("createjs"),i=function(){},n=i;return n.getPreloadHandlers=function(){return{callback:n.preloadHandler,types:["spritesheet"]}},n.preloadHandler=function(e,i){var s=new t.SpriteSheetLoader(e);return n.queue=i,s.addEventListener("loadstart",t.proxy(n.definitionLoadHandler,n)),s._loadManifest=function(e){var i;e&&e.images&&(e.images=e.images.map(function(e){return n.basePath+e}),i=this._manifestQueue=new t.LoadQueue,i.on("complete",this._handleManifestComplete,this,!0),i.on("fileload",this._handleManifestFileLoad,this),i.on("progress",this._handleManifestProgress,this),i.on("error",this._handleManifestError,this,!0),i.loadManifest(e.images))},s},i}),define("lib/core/assets",["require","./manifests","../plugin/SpriteSheet","createjs"],function(e){function t(e,t){var i=".mp3",n=e.audio.filter(function(e){return e.indexOf(i)>-1});return e.audio=n,u(e,"audio",t,d.AbstractLoader.SOUND)}function i(e,t){return u(e,"sprites",t,d.AbstractLoader.SPRITESHEET)}function n(e,t){return u(e,"js",t,d.AbstractLoader.JAVASCRIPT)}function s(e,t,i,n){function s(e,t){return e.reduce(function(e,i,n){var s=e;return i.forEach(function(e,r){r===i.length-1&&(s[e]=t[n]),s[e]||(s[e]={}),s=s[e]}),e},{})}if(r=u(e,"lang",t,d.AbstractLoader.JSON),a=r.map(function(e){return e.id.split("/")}),o=s(a,r),l=o[i]||o["default"],!l)throw new Error("No suitable language file found for locale ",i);if(c=l[n]||l["default"],!c)throw new Error("No suitable language file found for site ",n);return[c.language_file]}var r,a,o,l,c,u=e("./manifests"),h=e("../plugin/SpriteSheet"),d=e("createjs");return function(e,r,a){var o=e.locale,l=e.siteId,c=new d.LoadQueue,u=new d.LoadQueue(!0,e.urlGameFolder),p=[{id:"audioManifest",src:e.urlGameFolder+"assets/audio.json"},{id:"spriteManifest",src:e.urlGameFolder+"assets/sprites.json"},{id:"jsManifest",src:e.urlGameFolder+"assets/js.json"},{id:"langManifest",src:e.urlGameFolder+"lang/lang.json"}];window.ss=window.ss||{},window.strings=window.strings||{},h.basePath=e.urlGameFolder,u.installPlugin(h),d.Sound.setMute(!1),d.Sound.alternateExtensions=["ogg","m4a"],u.installPlugin(d.Sound),c.addEventListener("complete",function(e){var r=t(e.target.getResult("audioManifest"),""),a=i(e.target.getResult("spriteManifest"),""),c=n(e.target.getResult("jsManifest"),""),h=s(e.target.getResult("langManifest"),"",o,l);u.loadManifest(Array.prototype.concat.call(r,a,c,h))}),c.loadManifest(p),u.addEventListener("progress",function(e){r.update(e.progress)}),u.addEventListener("fileload",function(e){e.item.type===d.AbstractLoader.SPRITESHEET&&(window.ss[e.item.id]=u.getResult(e.item.id)),e.item.type===d.AbstractLoader.JSON&&(window.strings=u.getResult(e.item.id)),e.item.type===d.AbstractLoader.SOUND&&d.Sound.setDefaultPlayProps(e.item.src,{pan:1e-4})}),u.addEventListener("complete",function(){setTimeout(a,1500)})}}),define("lib/core/exit",[],function(){return function(e,t){var i=t.Ticker._listeners.tick;delete window.strings,delete window.ss,t.Sound.setMute(!0),t.Sound.removeAllSounds();try{t.WebAudioPlugin.context.close()}catch(n){}i.filter(function(e){return e instanceof t.Stage}).forEach(function(e){e.enableDOMEvents(!1),e.enableMouseOver(!1)}),t.Ticker.removeAllEventListeners(),e.canvas.parentElement.style.background="",e.canvas.parentElement.style.backgroundSize="",e.canvas.parentElement.style.webkitUserSelect="",e.canvas.parentElement.style.webkitTapHighlightColor="",document.getElementById(e.config.targetDivId).innerHTML=""}}),define("game/uiPresenter",["require","../lib/util/string"],function(e){var t=e("../lib/util/string");return function(e,i,n,s,r){function a(e){for(var t=0;t<e.revealConfigurations.length;t++)C[t]=e.revealConfigurations[t].price,B[t]=window.gtk.jLottery.formatCurrency({amount:C[t],numberOfDecimalsToReturn:0}).formattedAmount,N[t]=e.revealConfigurations[t].prizeTable,2==r.jLotteryPhase&&"normal"==r.gameType||(currentWager=s.betMeter.pricePoint||e.pricePointGameDefault,pricePointIndex=C.indexOf(currentWager));(2!=r.jLotteryPhase||"normal"!=r.gameType)&&o(pricePointIndex)}function o(e){H=[],q=[],z=[],F=[];for(var t,i,s=0;s<O.revealConfigurations.length;s++)if(String(O.revealConfigurations[s].price)===String(C[e])){t=O.revealConfigurations[s].prizeTable,i=O.revealConfigurations[s].prizeStructure;break}for(var r=0;r<t.length;r++)q[r]=t[r].prize,H[r]=window.gtk.jLottery.formatCurrency({amount:t[r].prize,numberOfDecimalsToReturn:0}).formattedAmount,z[r]=t[r].description;var a=window.gtk.jLottery.formatCurrency({amount:i[0].prize,numberOfDecimalsToReturn:0}).formattedAmount;n.text.text=strings.game.winUpTo_label+" "+a}function l(e){for(var t=[],n=0;n<e.length;n++){var s=z.indexOf(e[n]),r=q[s];t[n]=r,i["assignRosette"+(n+1)].prizeVal=window.gtk.jLottery.formatCurrency({amount:r,numberOfDecimalsToReturn:0}).formattedAmount,i["assignRosette"+(n+1)].rosetteText.text=window.gtk.jLottery.formatCurrency({amount:r,numberOfDecimalsToReturn:0}).formattedAmount}}function c(e){return q[e]}function u(){G.visible=!0,x=createjs.Sound.play("Click"),s.helpBtn.visible=!1,s.helpCloseBtn.visible=!0,s.audioOnBtn.visible=createjs.Sound.muted,s.audioOffBtn.visible=!createjs.Sound.muted,s.helpBtn.dispatchEvent("open")}function h(e){x=createjs.Sound.play("Click"),G.visible=!1,s.helpBtn.visible=!0,s.helpCloseBtn.visible=!1,s.audioOnBtn.visible=!1,s.audioOffBtn.visible=!1,s.helpCloseBtn.dispatchEvent("clicked")}function d(){g(!0),R=!1,s.buyBtn.visible=!1,s.plusBtn.visible=!1,s.minusBtn.visible=!1,s.playForMoneyBtn.visible=!1,s.buyBtn.dispatchEvent("clicked"),w(r.defaultWinsValue)}function p(){var e=r.gameConfigurationDetails.availablePrices,t=s.betMeter.pricePoint||O.pricePointGameDefault,i=r.gameConfigurationDetails.availablePrices.indexOf(t);o(i),s.plusBtn.visible=!0,s.minusBtn.visible=!0,s.plusBtn.mouseEnabled=!0,s.minusBtn.mouseEnabled=!0,s.plusBtn.alpha=1,s.minusBtn.alpha=1;var n=i!==e.length-1,a=0!==i;n||(s.plusBtn.mouseEnabled=!1,s.plusBtn.alpha=.5),a||(s.minusBtn.mouseEnabled=!1,s.minusBtn.alpha=.5),n||a||(s.plusBtn.visible=!1,s.minusBtn.visible=!1)}function f(){U=!0,new createjs.Tween.get(null,{loop:!1}).wait(1e3*r.compulsionDelayInSeconds).call(function(){s.buyBtn.visible=U,P(!0,!1),1==U&&(p(),s.buyBtn.dispatchEvent("compulsionDelayTriggered"))})}function g(e){e?X=setTimeout(function(){s.loadingAnim.play(),s.loadingAnim.visible=!0},3e3):(clearTimeout(X),s.loadingAnim.visible=!1,s.loadingAnim.stop())}function _(e){s.balanceMeter.label.text=e}function m(e){s.betMeter.label.text=e}function v(e){s.winMeter.label.text=e}function b(t,i){var n=t;i&&(n=e.formatCurrency(t,M).formattedAmount),s.balanceMeter.value.text=n}function y(t){s.betMeter.pricePoint=t;var i=e.formatCurrency(t,M).formattedAmount;"TRY"==r.wagerType&&(i=strings.ui.demo+i),s.betMeter.value.text=i,s.betMeter.dispatchEvent("change")}function w(e){s.winMeter.winValue=e,s.winMeter.value.text=e}function S(e){I=!0,s.timeoutWarningPlaque.text.text=e.warningMessage,s.timeoutWarningPlaque.continueBtn.label.text=e.continueButtonText,s.timeoutWarningPlaque.exitBtn.label.text=e.exitButtonText}function T(e){g(!1),s.errorPlaque.text.text=t.format(strings.error.errorCode,e.errorCode,e.errorDescriptionSpecific,e.errorDescriptionGeneric),s.errorPlaque.visible=!0}function E(){s.balanceMeter.visible=r.balanceDisplayInGame}function P(e,t){"TRY"==r.wagerType&&2==r.jLotteryPhase&&r.demosB4Move2MoneyButton>-1&&(s.playForMoneyBtn.visible=D>=r.demosB4Move2MoneyButton&&e,t&&D++)}function j(e,t){G.text=e,G.font="bold 15px 'Arial'",G.color=t}var x,L,A,k,R="normal"==r.gameType,M=0,D=0,I=!1,O=r.gameConfigurationDetails,C=[],B=[],N=[],H=[],q=[],F=[],z=[];a(O),s.timeoutWarningPlaque.visible=!1,s.errorPlaque.visible=!1,s.exitGameBtn.visible=!1,s.buyBtn.visible=!1,s.audioOffBtn.visible=!1,s.audioOnBtn.visible=!1,
s.playForMoneyBtn.visible=!1,s.minusBtn.visible=!1,s.plusBtn.visible=!1,s.exitBtn.visible=2==r.jLotteryPhase&&"ticketReady"!==r.gameType,2==r.jLotteryPhase&&"ticketReady"!==r.gameType&&p(),"TRY"==r.wagerType&&2==r.jLotteryPhase&&D>=r.demosB4Move2MoneyButton&&r.demosB4Move2MoneyButton>-1&&(s.playForMoneyBtn.visible=!0,"ticketReady"==r.gameType&&(s.playForMoneyBtn.visible=r.moveToMoneyButtonEnabledWhilePlaying)),"TRY"==r.wagerType&&"ticketReady"==r.gameType&&(D=1),createjs.Sound.muted=r.soundStartDisabled,s.loadingAnim.visible=!1,s.loadingAnim.stop();var W=strings.ui.buy||r.wagerType;"TRY"==r.wagerType&&(W=strings.ui["try"]||r.wagerType),s.buyBtn.label.text=W,s.exitGameBtn.label.text=strings.ui.exit,s.playForMoneyBtn.label.text=strings.ui.playForMoney,s.errorPlaque.exitBtn.label.text=strings.ui.exit,_(strings.ui.balance),m(strings.ui.wager),v(strings.ui.wins),E(),"TRY"==r.wagerType&&(s.balanceMeter.visible=!1,v(strings.ui.demoWins)),s.exitBtn.addEventListener("click",function(){e.playerWantsToExit()}),s.audioOnBtn.addEventListener("click",function(){createjs.Sound.setMute(!1),s.audioOffBtn.visible=!0,s.audioOnBtn.visible=!1}),s.audioOffBtn.addEventListener("click",function(){createjs.Sound.setMute(!0),s.audioOnBtn.visible=!0,s.audioOffBtn.visible=!1}),s.helpBtn.addEventListener("click",u),s.helpCloseBtn.addEventListener("click",h),s.plusBtn.addEventListener("click",function(){var e=r.gameConfigurationDetails.availablePrices.indexOf(s.betMeter.pricePoint),t=e+1;s.minusBtn.mouseEnabled=!0,s.minusBtn.alpha=1,s.betMeter.pricePoint=r.gameConfigurationDetails.availablePrices[t],y(s.betMeter.pricePoint),o(t),t==r.gameConfigurationDetails.availablePrices.length-1&&(s.plusBtn.mouseEnabled=!1,s.plusBtn.alpha=.5);try{k.stop()}catch(i){}k=createjs.Sound.play("Click5_v2"),s.plusBtn.dispatchEvent("clicked")}),s.minusBtn.addEventListener("click",function(){var e=r.gameConfigurationDetails.availablePrices.indexOf(s.betMeter.pricePoint),t=e-1;s.plusBtn.mouseEnabled=!0,s.plusBtn.alpha=1,s.betMeter.pricePoint=r.gameConfigurationDetails.availablePrices[e-1],y(s.betMeter.pricePoint),o(t),0===t&&(s.minusBtn.mouseEnabled=!1,s.minusBtn.alpha=.5);try{A.stop()}catch(i){}A=createjs.Sound.play("Click3_v2"),s.minusBtn.dispatchEvent("clicked")});var U=!1;s.buyBtn.addEventListener("click",function(){s.exitBtn.visible=!1,L=createjs.Sound.play("GameIntro"),U=!1,h(),R?(e.playerWantsToPlay(s.betMeter.pricePoint),d()):I?(s.timeoutWarningPlaque.visible=!0,I=!1):(e.playerWantsToRePlay(s.betMeter.pricePoint),d())}),s.timeoutWarningPlaque.continueBtn.addEventListener("click",function(){e.playerWantsToRePlay(s.betMeter.pricePoint),s.timeoutWarningPlaque.visible=!1,d()}),s.timeoutWarningPlaque.exitBtn.addEventListener("click",function(){e.playerWantsToExit()}),s.exitGameBtn.addEventListener("click",function(){e.playerWantsToExit()}),s.playForMoneyBtn.addEventListener("click",function(){g(!0),R=!0,s.playForMoneyBtn.visible=!1,r.wagerType="BUY",s.playForMoneyBtn.dispatchEvent("playForMoney"),e.playerWantsToMoveToMoneyGame()}),s.errorPlaque.exitBtn.addEventListener("click",function(){e.playerWantsToExit()});var X;s.timeoutWarningPlaque.addEventListener("click",function(){});var G=new createjs.Text;G.name="versionNumber",G.textAlign="left",G.lineHeight=20,G.lineWidth=80;var Y=s.audioOnBtn.getTransformedBounds();return G.setTransform(Y.x+Y.width,0),G.visible=!1,s.addChild(G),j("2.9.11.1","#FF8C00"),{setBalanceMeterLabel:_,setBetMeterLabel:m,setWinMeterLabel:v,updateBalanceMeter:b,updateBetMeter:y,updateWinMeter:w,prepareTimeoutWarningMessage:S,displayErrorMessage:T,displayBalance:E,networkActivity:g,showTicketCostButtons:p,showPlayForMoneyButton:P,showButtonsAfterCompulsionDelay:f,showHelp:u,hideHelp:h,generateLegacyInfo:a,giveMeThePrize:c,populatePrizeTable:l}}}),define("game/reels",["require"],function(e){return function(e,t){function i(){try{c.stop()}catch(e){}try{l.stop()}catch(e){}clearInterval(a),clearInterval(o),u=[1,1,1,1,1,1,1,1],d=[],h=[];for(var i=1;9>i;i++)t.reels.reelSpinners["reelBG"+i].reel.reelDash.visible=!0,t.reels.reelSpinners["reelBG"+i].reelBlur.visible=!0}function n(e){clearInterval(a),r(1,e)}function s(e,i,s,r,o){d=[],c=createjs.Sound.play("Spin");for(var l=[],u=0;u<r.length;u++)switch(r[u]){case"0":l[u]=1;break;case"1":l[u]=2;break;case"2":l[u]=3;break;case"3":l[u]=4;break;case"X":l[u]=5}for(var u=1;9>u;u++)t.reels.reelSpinners["reelBG"+u].reel.visible=!1,t.reels.reelSpinners["reelBG"+u].reelBlur.visible=!0,t.reels.reelSpinners["reelBG"+u].reelBlur.gotoAndPlay(1);a=setInterval(n,p,l)}function r(e,i){clearInterval(o),l=5!=i[e-1]?createjs.Sound.play("reelStop"):createjs.Sound.play("MultiplierRec"),t.reels.reelSpinners["reelBG"+e].reelBlur.gotoAndStop(0),t.reels.reelSpinners["reelBG"+e].reelBlur.visible=!1,t.reels.reelSpinners["reelBG"+e].reel.visible=!0,t.reels.reelSpinners["reelBG"+e].reel.reelDash.visible=!1;var n=i[e-1];t.reels.reelSpinners["reelBG"+e].reel.gotoAndStop(n-1),e++,9>e?o=setInterval(r,f,e,i):(t.reels.reelSpinners.dispatchEvent("reelsStopped"),c.stop())}var a,o,l,c,u=[1,1,1,1,1,1,1,1],h=[],d=[],p=window.game.ChampionRaceway.main.siteConfig.spin_duration_seconds||1;p*=1e3;var f=window.game.ChampionRaceway.main.siteConfig.reel_stop_interval_seconds||.1;return f*=1e3,{spinTheReels:s,reset:i}}}),define("game/soundManager",["require"],function(e){return function(){function e(e){n[e-1]=createjs.Sound.play("HorseMove"),s[e-1]=createjs.Sound.play("HorseMove2"),n[e-1].volume=1,s[e-1].volume=.33}function t(e){try{n[e-1].stop(),s[e-1].stop()}catch(t){}}function i(){for(var e=0;e<n.length;e++)try{n[e].stop(),s[e].stop()}catch(t){}n=[],s=[]}var n=[],s=[];return{playSound:e,stopSound:t,stopAllAndReset:i}}}),define("game/dirtyDust",["require"],function(e){return function(e){function t(t){var i=e.horses;i["horse"+t].dirtyDust.visible=!0,i["horse"+t].dirtyDust.gotoAndPlay(1)}function i(t){var i=e.horses;i["horse"+t].dirtyDust.visible=!1,i["horse"+t].dirtyDust.gotoAndStop(1)}function n(){for(var t=e.horses,i=1;9>i;i++)t["horse"+i].dirtyDust.visible=!1,t["horse"+i].dirtyDust.gotoAndStop(0)}function s(){var t=e.horses;t.horse1.dirtyDust.timeline.addTween(createjs.Tween.get(t.horse1.dirtyDust).wait(33).call(function(){t.horse1.dirtyDust.gotoAndStop(0),t.horse1.dirtyDust.visible=!1})),t.horse2.dirtyDust.timeline.addTween(createjs.Tween.get(t.horse2.dirtyDust).wait(33).call(function(){t.horse2.dirtyDust.gotoAndStop(0),t.horse2.dirtyDust.visible=!1})),t.horse3.dirtyDust.timeline.addTween(createjs.Tween.get(t.horse3.dirtyDust).wait(33).call(function(){t.horse3.dirtyDust.gotoAndStop(0),t.horse3.dirtyDust.visible=!1})),t.horse4.dirtyDust.timeline.addTween(createjs.Tween.get(t.horse4.dirtyDust).wait(33).call(function(){t.horse4.dirtyDust.gotoAndStop(0),t.horse4.dirtyDust.visible=!1})),t.horse5.dirtyDust.timeline.addTween(createjs.Tween.get(t.horse5.dirtyDust).wait(33).call(function(){t.horse5.dirtyDust.gotoAndStop(0),t.horse5.dirtyDust.visible=!1})),t.horse6.dirtyDust.timeline.addTween(createjs.Tween.get(t.horse6.dirtyDust).wait(33).call(function(){t.horse6.dirtyDust.gotoAndStop(0),t.horse6.dirtyDust.visible=!1})),t.horse7.dirtyDust.timeline.addTween(createjs.Tween.get(t.horse7.dirtyDust).wait(33).call(function(){t.horse7.dirtyDust.gotoAndStop(0),t.horse7.dirtyDust.visible=!1})),t.horse8.dirtyDust.timeline.addTween(createjs.Tween.get(t.horse8.dirtyDust).wait(33).call(function(){t.horse8.dirtyDust.gotoAndStop(0),t.horse8.dirtyDust.visible=!1}))}return s(),{playDirtyDust:t,stopDirtyDust:i,reset:n}}}),define("game/goldenDust",["require"],function(e){return function(e){function t(t){var i=e.horses;i["horse"+t].goldenDust.visible=!0,i["horse"+t].goldenDust.gotoAndPlay(1)}function i(t){var i=e.horses;i["horse"+t].goldenDust.visible=!1,i["horse"+t].goldenDust.gotoAndStop(1)}function n(){for(var t=e.horses,i=1;9>i;i++)t["horse"+i].goldenDust.visible=!1,t["horse"+i].goldenDust.gotoAndStop(0)}function s(){var t=e.horses;t.horse1.goldenDust.timeline.addTween(createjs.Tween.get(t.horse1.goldenDust).wait(33).call(function(){t.horse1.goldenDust.gotoAndStop(0),t.horse1.goldenDust.visible=!1})),t.horse2.goldenDust.timeline.addTween(createjs.Tween.get(t.horse2.goldenDust).wait(33).call(function(){t.horse2.goldenDust.gotoAndStop(0),t.horse2.goldenDust.visible=!1})),t.horse3.goldenDust.timeline.addTween(createjs.Tween.get(t.horse3.goldenDust).wait(33).call(function(){t.horse3.goldenDust.gotoAndStop(0),t.horse3.goldenDust.visible=!1})),t.horse4.goldenDust.timeline.addTween(createjs.Tween.get(t.horse4.goldenDust).wait(33).call(function(){t.horse4.goldenDust.gotoAndStop(0),t.horse4.goldenDust.visible=!1})),t.horse5.goldenDust.timeline.addTween(createjs.Tween.get(t.horse5.goldenDust).wait(33).call(function(){t.horse5.goldenDust.gotoAndStop(0),t.horse5.goldenDust.visible=!1})),t.horse6.goldenDust.timeline.addTween(createjs.Tween.get(t.horse6.goldenDust).wait(33).call(function(){t.horse6.goldenDust.gotoAndStop(0),t.horse6.goldenDust.visible=!1})),t.horse7.goldenDust.timeline.addTween(createjs.Tween.get(t.horse7.goldenDust).wait(33).call(function(){t.horse7.goldenDust.gotoAndStop(0),t.horse7.goldenDust.visible=!1})),t.horse8.goldenDust.timeline.addTween(createjs.Tween.get(t.horse8.goldenDust).wait(33).call(function(){t.horse8.goldenDust.gotoAndStop(0),t.horse8.goldenDust.visible=!1}))}return s(),{playGoldenDust:t,stopGoldenDust:i,reset:n}}}),define("game/horses",["require","../game/soundManager","../game/dirtyDust","../game/goldenDust"],function(e){var t=e("../game/soundManager"),i=e("../game/dirtyDust"),n=e("../game/goldenDust"),s=[];return function(e,r){function a(r,a,o,l){var u=e.horses;if(r){for(var h=s[a-1][o-1],d=u["horse"+a].x,p=h,f=p>d,g=!1,_=0;_<s[a-1].length;_++)if(h==s[a-1][s[a-1].length-1]){g=!0;break}f&&(e.horses["horse"+a]["horseSelected"+a].visible&&g?n.playGoldenDust(a):i.playDirtyDust(a)),f&&t.playSound(a);createjs.Tween.get(u["horse"+a]).wait(0).to({x:h},c*l,createjs.Ease.quartInOut).call(function(){f&&(f&&(e.horses["horse"+a]["horseSelected"+a].visible&&g?n.stopGoldenDust(a):i.stopDirtyDust(a)),e.horses.dispatchEvent("moveCompleted"))})}}function o(){for(var r=1;9>r;r++)e.horses["horse"+r].x=s[r-1][0];n.reset(),i.reset(),t.stopAllAndReset()}function l(t){e.horses["horse"+t]["horseSelected"+t].visible=!1,e.horses["horse"+t]["horseUnselected"+t].visible=!1,e.horses["horse"+t]["horseGlow"+t].visible=!0}var c=window.game.ChampionRaceway.main.siteConfig.horse_travel_oneplace_seconds||.5;c*=1e3,t=new t,i=new i(e),n=new n(e);for(var u=1;9>u;u++)s[u-1]=[];return r.canvas.width<r.canvas.height?(s[0]=[192.9,251.9,291.4,330.15,369.65,409.65,448.9,488.15,527.65,571.5,633.9],s[1]=[191.2,255.2,295,334,374.25,414,453.75,493.75,534,576,643.9],s[2]=[185,248.45,288.7,328.7,369.2,409.7,449.7,490.2,530.2,575,642.9],s[3]=[179.7,248.2,288.7,328.7,370.2,411,451.5,492,533,576,646],s[4]=[173.8,236.55,277.05,317.8,359.55,400.8,442,483.55,525.05,575,640.75],s[5]=[166.7,231.95,272.7,314.2,356.45,398.2,440.45,482,524,575,641],s[6]=[157.1,221.85,262.85,305.1,348.1,390.35,433.1,475.35,518.1,571,636.75],s[7]=[148.5,216,258.75,300.75,344.5,387.5,430.7,473,516,569,636.35]):(s[0]=[192.9,254.65,294.35,333.1,372.65,412.15,452,490.7,530.15,574.25,643.9],s[1]=[191.2,257.95,297.6,336.6,376.65,416.65,455.95,495.95,536.45,579.25,653.9],s[2]=[185,251.2,291.2,331.2,371.4,412.35,453.4,492.9,533.15,580.25,652.9],s[3]=[179.7,251,291,331.25,372.8,412.85,454.65,494.7,537.45,578.25,656],s[4]=[173.8,238.6,280.1,320.1,361.9,403.35,444.9,486.2,527.7,578.25,650.75],s[5]=[166.7,234.25,276,316.25,359.05,400.75,443.05,484.7,526.7,577.25,651],s[6]=[157.1,224.4,266.4,307.9,350.45,392.9,435.7,477.7,520.45,573.75,646.75],s[7]=[148.5,219.25,261.75,303.9,347.2,388.9,432.95,475.45,519.45,569.75,646.35]),{reset:o,moveHorse:a,showWinningHorse:l}}}),define("game/turnOrder",["require"],function(e){return function(e){function t(){a=[],o=[],l=[],c=[],u=[],h=[],d=[],p=[]}function i(e,t,i,s){for(var f=[],g=0;g<e.length;g++)a[g]=e[g][0],o[g]=e[g][1],l[g]=e[g][2],c[g]=e[g][3],u[g]=e[g][4],h[g]=e[g][5],d[g]=e[g][6],p[g]=e[g][7];for(var _=n(t,s,i),m=0;m<e.length;m++){var v=[];v[0]=e[m][_.indexOf(1)],v[1]=e[m][_.indexOf(2)],v[2]=e[m][_.indexOf(3)],v[3]=e[m][_.indexOf(4)],v[4]=e[m][_.indexOf(5)],v[5]=e[m][_.indexOf(6)],v[6]=e[m][_.indexOf(7)],v[7]=e[m][_.indexOf(8)],f[m]=v}return r(f),f}function n(e,t,i){for(var n=[],r=[],a=0;a<i.length;a++)switch(i[a]){case 1:r[a]=t[0];break;case 2:r[a]=t[1];break;case 3:r[a]=t[2];break;case 4:r[a]=t[3];break;case 5:r[a]=t[4]}for(var o=[],l=s(e)[0],c=(s(e)[1],0);c<t.length;c++){var u=r.indexOf(t[c]);o.push(e[u])}return n=o.concat(l)}function s(e){for(var t=[],i=[],n=1;9>n;n++)e.indexOf(n)>-1?i.push(n):t.push(n);return[t,i]}function r(e){for(var t=0;8>t;t++)for(var i=0,n=0;n<e.length;n++)isNaN(e[n][t])||(i+=parseInt(e[n][t]))}var a=[],o=[],l=[],c=[],u=[],h=[],d=[],p=[];return{process:i,initVars:t}}}),define("game/multipliers",["require"],function(e){return function(e,t){function i(){_=[0,0,0,0,0,0,0,0],w=[],y=[],m=[]}function n(){try{f.stop()}catch(e){}try{g.stop()}catch(e){}for(var t=0;t<m.length;t++)clearInterval(m[t])}function s(){t.canvas.width<t.canvas.height?(v=[86.1,80.3,78.6,74.1,69.6,66.3,64.8,63.1],b=[195,242,290,338,386,435,483,532.9],S=[-13.55,-12.25,-16.7,-13.6,277.3,278.05,276.8,276.8],T=[615.8,677.75,736.7,797.6,619.1,677.8,738.25,798.1]):t.canvas.width>t.canvas.height&&(v=[126.1,117.1,108.1,99.1,90.1,81.1,72.1,63.1],b=[135,182,230,278,326,375,423,472.9],S=[637.85,637.7,634.8,637.85,638.2,637.45,637.7,637.7],T=[128.7,176.25,221.25,267.5,317.75,366,415.6,465.8])}function r(t){e["mutliRosette"+t].x=v[t-1],e["mutliRosette"+t].y=b[t-1],e["mutliRosette"+t].scaleX=.421,e["mutliRosette"+t].scaleY=.422,e["mutliRosette"+t].alpha=1}function a(t,i,n){var s=i*n;_[t-1]=s,o(t);createjs.Tween.get(e.prizeLozenges["prizeLozenge"+t]).wait(0).to({scaleY:1.4,scaleX:1.4},500,createjs.Ease.bounceOut).call(function(){l(t)}),createjs.Tween.get(e.reels.numbers["number"+t]["number"+t+"_Small"]).wait(0).to({scaleY:1.4,scaleX:1.4},500,createjs.Ease.bounceOut)}function o(t){e.prizeLozenges.setChildIndex(e.prizeLozenges["prizeLozenge"+t],e.prizeLozenges.getNumChildren()-1),e.reels.numbers.setChildIndex(e.reels.numbers["number"+t],e.reels.numbers.getNumChildren()-1)}function l(i){e.reels["multiplierSparklesAnim"+i].visible=!0,e.reels["multiplierSparklesAnim"+i].gotoAndPlay(1);e["mutliRosette"+i].visible=!0;var n,s,r,a,o=0;t.canvas.width<t.canvas.height?(n=e["mutliRosette"+i].x,s=e["mutliRosette"+i].y,r=S[i-1],a=T[i-1],i>4&&(o=25)):t.canvas.width>t.canvas.height&&(n=e["mutliRosette"+i].x,s=e["mutliRosette"+i].y,r=S[i-1],a=T[i-1],o=24),w[i-1]=createjs.Tween.get(e["mutliRosette"+i]).wait(0).to({scaleX:1,scaleY:1},100).to({y:a,x:r},750,createjs.Ease.quadIn).call(function(){e.prizeLozenges["prizeLozenge"+i].MultiplierSparklesAnim.visible=!0,e.prizeLozenges["prizeLozenge"+i].MultiplierSparklesAnim.gotoAndPlay(1),f=createjs.Sound.play("MultiplierApp"),f.volume=.75}).to({x:r+300-o},1e3,createjs.Ease.quadOut).call(function(){h(i),d(i)})}function c(t){e["mutliRosette"+t].visible=!1,m[t-1]=setInterval(u,500,t)}function u(t){clearInterval(m[t-1]);createjs.Tween.get(e.prizeLozenges["prizeLozenge"+t]).wait(0).to({scaleY:1,scaleX:1},500,createjs.Ease.bounceOut).call(function(){e.horses.dispatchEvent("moveCompleted")}),createjs.Tween.get(e.reels.numbers["number"+t]["number"+t+"_Small"]).wait(0).to({scaleY:1,scaleX:1},500,createjs.Ease.bounceOut)}function h(t){y[t-1]=createjs.Tween.get(e["mutliRosette"+t]).wait(0).to({alpha:0},500).call(function(){r(t),c(t)})}function d(t){e.prizeLozenges["prizeLozenge"+t].value.text=window.gtk.jLottery.formatCurrency({amount:_[t-1],numberOfDecimalsToReturn:0}).formattedAmount,e.prizeLozenges["prizeLozenge"+t].value.text=window.gtk.jLottery.formatCurrency({amount:_[t-1],numberOfDecimalsToReturn:0}).formattedAmount}function p(){var t=e.reels;t.multiplierSparklesAnim1.timeline.addTween(createjs.Tween.get(t.multiplierSparklesAnim1).wait(49).call(function(){t.multiplierSparklesAnim1.gotoAndStop(0),t.multiplierSparklesAnim1.visible=!1})),t.multiplierSparklesAnim2.timeline.addTween(createjs.Tween.get(t.multiplierSparklesAnim2).wait(49).call(function(){t.multiplierSparklesAnim2.gotoAndStop(0),t.multiplierSparklesAnim2.visible=!1})),t.multiplierSparklesAnim3.timeline.addTween(createjs.Tween.get(t.multiplierSparklesAnim3).wait(49).call(function(){t.multiplierSparklesAnim3.gotoAndStop(0),t.multiplierSparklesAnim3.visible=!1})),t.multiplierSparklesAnim4.timeline.addTween(createjs.Tween.get(t.multiplierSparklesAnim4).wait(49).call(function(){t.multiplierSparklesAnim4.gotoAndStop(0),t.multiplierSparklesAnim4.visible=!1})),t.multiplierSparklesAnim5.timeline.addTween(createjs.Tween.get(t.multiplierSparklesAnim5).wait(49).call(function(){t.multiplierSparklesAnim5.gotoAndStop(0),t.multiplierSparklesAnim5.visible=!1})),t.multiplierSparklesAnim6.timeline.addTween(createjs.Tween.get(t.multiplierSparklesAnim6).wait(49).call(function(){t.multiplierSparklesAnim6.gotoAndStop(0),t.multiplierSparklesAnim6.visible=!1})),t.multiplierSparklesAnim7.timeline.addTween(createjs.Tween.get(t.multiplierSparklesAnim7).wait(49).call(function(){t.multiplierSparklesAnim7.gotoAndStop(0),t.multiplierSparklesAnim7.visible=!1})),t.multiplierSparklesAnim8.timeline.addTween(createjs.Tween.get(t.multiplierSparklesAnim8).wait(49).call(function(){t.multiplierSparklesAnim8.gotoAndStop(0),t.multiplierSparklesAnim8.visible=!1}));var i=e.prizeLozenges;i.prizeLozenge1.MultiplierSparklesAnim.timeline.addTween(createjs.Tween.get(i.prizeLozenge1.MultiplierSparklesAnim).wait(49).call(function(){h(1),i.prizeLozenge1.MultiplierSparklesAnim.gotoAndStop(0),i.prizeLozenge1.MultiplierSparklesAnim.visible=!1})),i.prizeLozenge2.MultiplierSparklesAnim.timeline.addTween(createjs.Tween.get(i.prizeLozenge2.MultiplierSparklesAnim).wait(49).call(function(){h(2),i.prizeLozenge2.MultiplierSparklesAnim.gotoAndStop(0),i.prizeLozenge2.MultiplierSparklesAnim.visible=!1})),i.prizeLozenge3.MultiplierSparklesAnim.timeline.addTween(createjs.Tween.get(i.prizeLozenge3.MultiplierSparklesAnim).wait(49).call(function(){h(3),i.prizeLozenge3.MultiplierSparklesAnim.gotoAndStop(0),i.prizeLozenge3.MultiplierSparklesAnim.visible=!1})),i.prizeLozenge4.MultiplierSparklesAnim.timeline.addTween(createjs.Tween.get(i.prizeLozenge4.MultiplierSparklesAnim).wait(49).call(function(){h(4),i.prizeLozenge4.MultiplierSparklesAnim.gotoAndStop(0),i.prizeLozenge4.MultiplierSparklesAnim.visible=!1})),i.prizeLozenge5.MultiplierSparklesAnim.timeline.addTween(createjs.Tween.get(i.prizeLozenge5.MultiplierSparklesAnim).wait(49).call(function(){h(5),i.prizeLozenge5.MultiplierSparklesAnim.gotoAndStop(0),i.prizeLozenge5.MultiplierSparklesAnim.visible=!1})),i.prizeLozenge6.MultiplierSparklesAnim.timeline.addTween(createjs.Tween.get(i.prizeLozenge6.MultiplierSparklesAnim).wait(49).call(function(){h(6),i.prizeLozenge6.MultiplierSparklesAnim.gotoAndStop(0),i.prizeLozenge6.MultiplierSparklesAnim.visible=!1})),i.prizeLozenge7.MultiplierSparklesAnim.timeline.addTween(createjs.Tween.get(i.prizeLozenge7.MultiplierSparklesAnim).wait(49).call(function(){h(7),i.prizeLozenge7.MultiplierSparklesAnim.gotoAndStop(0),i.prizeLozenge7.MultiplierSparklesAnim.visible=!1})),i.prizeLozenge8.MultiplierSparklesAnim.timeline.addTween(createjs.Tween.get(i.prizeLozenge8.MultiplierSparklesAnim).wait(49).call(function(){h(8),i.prizeLozenge8.MultiplierSparklesAnim.gotoAndStop(0),i.prizeLozenge8.MultiplierSparklesAnim.visible=!1}))}var f,g,_=[0,0,0,0,0,0,0,0],m=[],v=[],b=[],y=[],w=[],S=[],T=[];return s(),p(),{showMultiplier:a,initVars:i,clearIntervals:n}}}),define("game/winStars",["require"],function(e){return function(e){function t(t){var i=e.prizeLozenges;i["prizeLozenge"+t].winStarAnim.visible=!0,i["prizeLozenge"+t].winStarAnim.gotoAndPlay(1);var n=e.horses;n["horse"+t].winStarAnim.visible=!0,n["horse"+t].winStarAnim.gotoAndPlay(1)}function i(){for(var t=e.prizeLozenges,i=1;9>i;i++)t["prizeLozenge"+i].winStarAnim.visible=!1,t["prizeLozenge"+i].winStarAnim.gotoAndStop(0);for(var n=e.horses,i=1;9>i;i++)n["horse"+i].winStarAnim.visible=!1,n["horse"+i].winStarAnim.gotoAndStop(0)}return{playWinningStar:t,reset:i}}}),define("game/winningHorseshoes",["require"],function(e){return function(e){function t(t){var i=e.winningHorseShoe;i["winningHorseShoe_0"+t].visible=!0,i["winningHorseShoe_0"+t].gotoAndPlay(1)}function i(){for(var t=e.winningHorseShoe,i=1;9>i;i++)t["winningHorseShoe_0"+i].visible=!0,t["winningHorseShoe_0"+i].gotoAndPlay(1)}function n(){var t=e.winningHorseShoe;t.winningHorseShoe_01.timeline.addTween(createjs.Tween.get(t.winningHorseShoe_01).wait(37).call(function(){t.winningHorseShoe_01.gotoAndStop(0),t.winningHorseShoe_01.visible=!1})),t.winningHorseShoe_02.timeline.addTween(createjs.Tween.get(t.winningHorseShoe_02).wait(37).call(function(){t.winningHorseShoe_02.gotoAndStop(0),t.winningHorseShoe_02.visible=!1})),t.winningHorseShoe_03.timeline.addTween(createjs.Tween.get(t.winningHorseShoe_03).wait(37).call(function(){t.winningHorseShoe_03.gotoAndStop(0),t.winningHorseShoe_03.visible=!1})),t.winningHorseShoe_04.timeline.addTween(createjs.Tween.get(t.winningHorseShoe_04).wait(37).call(function(){t.winningHorseShoe_04.gotoAndStop(0),t.winningHorseShoe_04.visible=!1})),t.winningHorseShoe_05.timeline.addTween(createjs.Tween.get(t.winningHorseShoe_05).wait(37).call(function(){t.winningHorseShoe_05.gotoAndStop(0),t.winningHorseShoe_05.visible=!1})),t.winningHorseShoe_06.timeline.addTween(createjs.Tween.get(t.winningHorseShoe_06).wait(37).call(function(){t.winningHorseShoe_06.gotoAndStop(0),t.winningHorseShoe_06.visible=!1})),t.winningHorseShoe_07.timeline.addTween(createjs.Tween.get(t.winningHorseShoe_07).wait(37).call(function(){t.winningHorseShoe_07.gotoAndStop(0),t.winningHorseShoe_07.visible=!1})),t.winningHorseShoe_08.timeline.addTween(createjs.Tween.get(t.winningHorseShoe_08).wait(37).call(function(){t.winningHorseShoe_08.gotoAndStop(0),t.winningHorseShoe_08.visible=!1}))}return n(),{playWinningHorseshoe:t,reset:i}}}),define("game/race",["require","../game/reels","../game/horses","../game/turnOrder","../game/multipliers","../game/winStars","../game/winningHorseshoes"],function(e){var t=e("../game/reels"),i=e("../game/horses"),n=e("../game/turnOrder"),s=e("../game/multipliers"),r=e("../game/winStars"),a=e("../game/winningHorseshoes");return function(e,o,l,c,u){function h(){ie=[],se=!1,re=!1,ae=0,ce=!1,ue=[1,1,1,1,1,1,1,1],he=[],de=[],pe=[],fe=[1,1,1,1,1,1,1,1],ge=[],oe=[],ne=[],_e=0,me=[],ve=0,be=[],ye=[],i.reset(),s.initVars(),n.initVars()}function d(){K&&(Z=createjs.Sound.play("AmbianceCrowd",{loop:-1}),Z.volume=.3)}function p(e){Z.volume=e}function f(e,t){ee=createjs.Tween.get(V).wait(0).to({volume:e},t)}function g(e){K=e}function _(e,t,i,n){ie=[],ie=i.slice(),U=ie.length,ne=[],ne=t.slice(),q=e.prizeDivision,F=e.prizeValue,z=e.playResult,W=window.gtk.jLottery.formatCurrency({amount:F,numberOfDecimalsToReturn:0}).formattedAmount,le=n,he=[],he=m(e.prizeTable)}function m(e){for(var t=[],i=0;i<e.length;i++)ne.indexOf(e[i].description)>-1&&(oe[i]=[],oe[i][0]=e[i].prize,oe[i][1]=e[i].description),void 0!=oe[i]&&t.push(oe[i]);return t}function v(){return ce}function b(){K&&($=createjs.Sound.play("Gam_Music",{loop:-1}),$.volume=.4,p(0),L(),f(.15,500))}function y(e,t){b();for(var i=0;i<e.length;i++)de[i]=t[i],pe[i]=e[i];var s=n.process(ie,de,pe,ne);ge=s.slice(),o.dispatchEvent("readyToRace"),ce=!0,l.spinBtn.visible=!0,S()}function w(){l.spinBtn.visible&&(l.spinBtnDisabled.visible=!0),l.spinBtn.visible=!1,l.spinBtn.mouseEnabled=!1,l.spinBtn.removeEventListener("click",T)}function S(){l.spinBtn.visible=!0,l.spinBtn.mouseEnabled=!0,l.spinBtnDisabled.visible=!1,l.spinBtn.addEventListener("click",T)}function T(){Y=createjs.Sound.play("Click"),A()}function E(){w(),se=!0,P()}function P(){re||A()}function j(){w(),se=!1}function x(){return re}function L(){V=createjs.Sound.play("Bkg_cheering",{loop:-1}),V.volume=0}function A(){clearInterval(X),w(),re=!0,l.helpBtn.visible=!1,ye=[],t.spinTheReels(ne,de,pe,ge[ae],ae),ae++,o.reels.reelSpinners.addEventListener("reelsStopped",k)}function k(){for(var e=0;e<ge[ae-1].length;e++)switch(ge[ae-1][e]){case"0":me[e]=0,be[e]="none";break;case"1":ue[e]++,me[e]=1,be[e]="move",ye.push(e+1);break;case"2":ue[e]+=2,me[e]=2,be[e]="move",ye.push(e+1);break;case"3":ue[e]+=3,me[e]=3,be[e]="move",ye.push(e+1);break;case"X":me[e]=0,be[e]="multiplier"}G=setInterval(O,500)}function R(){for(var e=0;e<ue.length;e++)if(11==ue[e]&&de.indexOf(e+1)>-1){o.prizeLozenges.setChildIndex(o.prizeLozenges["prizeLozenge"+(e+1)],o.prizeLozenges.getNumChildren()-1);createjs.Tween.get(o.prizeLozenges["prizeLozenge"+(e+1)]).wait(0).to({scaleY:1.4,scaleX:1.4},500,createjs.Ease.bounceOut);o.prizeLozenges["prizeLozenge"+(e+1)].bottomPrizeButtonsGlow.visible=!0,i.showWinningHorse(e+1),a.playWinningHorseshoe(e+1),r.playWinningStar(e+1),J=createjs.Sound.play("WinnerMusic"),Q=createjs.Sound.play("WinnerCheer")}}function M(){_e++,8==_e&&(_e=0,o.horses.removeEventListener("readyToMove",M),I(),K&&f(.4,500))}function D(){ve++,8==ve&&(ve=0,o.horses.removeEventListener("moveCompleted",D),K&&f(.15,1e3),R(),C())}function I(){for(var e=0;8>e;e++)i.moveHorse(!0,e+1,ue[e],me[e])}function O(){clearInterval(G),o.horses.addEventListener("readyToMove",M),o.horses.addEventListener("moveCompleted",D);for(var e=0;e<be.length;e++)switch(be[e]){case"none":o.horses.dispatchEvent("readyToMove"),o.horses.dispatchEvent("moveCompleted");break;case"move":o.horses.dispatchEvent("readyToMove");break;case"multiplier":var t=de.indexOf(e+1),i=pe[t],n=he[i-1][0];fe[e]*=2;var r=fe[e];s.showMultiplier(e+1,n,r),o.horses.dispatchEvent("readyToMove")}}function C(){if(ae==U){var e={tierPrizeShown:q,formattedAmountWonShown:W};window.gtk.jLottery.ticketResultHasBeenSeen(e),l.spinBtn.visible=!1,l.spinBtnDisabled.visible=!1,l.revealAllBtn.visible=!1,l.playForMoneyBtn.visible=!1}else U>ae&&(se?X=setInterval(A,le):(re=!1,l.helpBtn.visible=!0,S()))}function B(){try{$.stop()}catch(e){}try{V.stop()}catch(e){}}function N(){for(var e=0;e<ue.length;e++)if(11==ue[e])return e+1}function H(){try{J.stop()}catch(e){}try{Q.stop()}catch(e){}try{Y.stop()}catch(e){}try{V.stop()}catch(e){}try{$.stop()}catch(e){}w(),createjs.Tween.removeAllTweens(),t.reset(),s.clearIntervals(),i.reset(),a.reset(),r.reset(),clearInterval(X),clearInterval(G),clearInterval(te)}t=new t(e,o),i=new i(o,u),s=new s(o,u),r=new r(o),a=new a(o),n=new n(o);var q,F,z,W,U,X,G,Y,V,J,Q,K,$,Z,ee,te,ie=[],ne=[],se=!1,re=!1,ae=0,oe=[],le=0,ce=!1,ue=[1,1,1,1,1,1,1,1],he=[],de=[],pe=[],fe=[1,1,1,1,1,1,1,1],ge=[],_e=0,me=[],ve=0,be=[],ye=[];return{init:_,startTheRace:y,revealAll:E,disableRevealAll:j,checkTurnInProgress:x,stopAllActionsAndClearIntervals:H,initVars:h,enableGoButton:S,disableGoButton:w,areWeReadyToRace:v,giveMeTheWinningHorse:N,setBackgroundMusicEnabled:g,playAmbience:d,setAmbienceVolume:p,stopRacingMusic:B}}}),define("game/oddsPicker",["require"],function(e){return function(e,t,i,n,s){function r(e,t){le=e,de=t}function a(){try{U.stop()}catch(e){}try{X.stop()}catch(e){}try{G.stop()}catch(e){}try{J.stop()}catch(e){}}function o(){Z=[],ee=[],te=[],ie=[],ne=[],se=[],ae=[],oe=[],re=!1,$=!1,he=!1,ue=0,ce=0}function l(e){if(void 0==e||null==e);else try{for(var i=e.arrayOfAssignedStars.slice(),n=e.arrayOfAssignedPrizes.slice(),s=0;5>s;s++){var r=t.oddsPicker["assignRosette"+i[s]];L(r,n[s]),P(i[s],n[s])}}catch(a){}}function c(){for(var e=1;6>e;e++)t.oddsPicker["assignRosette"+e].y=K[e-1],t.oddsPicker["assignRosette"+e].x=Q[e-1]}function u(){t.oddsPicker.visible=!0,t.dimmer.visible=!0}function h(){t.oddsPicker.visible=!1,t.dimmer.visible=!1}function d(){for(var e=1;9>e;e++)t.oddsPicker["assignHorseNo"+e].addEventListener("click",g),t.oddsPicker["assignHorseNo"+e].name=e,t.oddsPicker["jersey"+e].addEventListener("click",g),t.oddsPicker["jersey"+e].name=e,t.oddsPicker["profileButton"+e].addEventListener("click",g),t.oddsPicker["profileButton"+e].name=e}function p(){for(var e=1;9>e;e++)t.oddsPicker["assignHorseNo"+e].removeEventListener("click",g),t.oddsPicker["jersey"+e].removeEventListener("click",g),t.oddsPicker["profileButton"+e].removeEventListener("click",g)}function f(e){X=createjs.Sound.play("DropPrize"),X.volume=.75}function g(e){var i=e.currentTarget.name;G=createjs.Sound.play("Click"),v(),t.oddsPicker.profileScreens.visible=!0,he&&D();for(var n=1;9>n;n++)t.oddsPicker.profileScreens["profile"+n].visible=!1;t.oddsPicker.profileScreens["profile"+i].visible=!0,t.oddsPicker.setChildIndex(t.oddsPicker.profileScreens,t.oddsPicker.getNumChildren()-1),t.oddsPicker.profileScreens["profile"+i].instance.addEventListener("click",_),t.oddsPicker.profileScreens["profile"+i].addEventListener("click",_)}function _(){G=createjs.Sound.play("Click");for(var e=1;6>e;e++)t.oddsPicker["assignRosette"+e].addEventListener("mousedown",b),t.oddsPicker["assignRosette"+e].name=e;t.oddsPicker.profileScreens.visible=!1,I(),m(),he&&M()}function m(){for(var e=1;6>e;e++)t.oddsPicker["assignRosette"+e].addEventListener("mousedown",b),t.oddsPicker["assignRosette"+e].name=e;for(var i=1;9>i;i++)Z[i-1]=t.oddsPicker["dummy"+i].x,ee[i-1]=t.oddsPicker["dummy"+i].x+70,te[i-1]=t.oddsPicker["dummy"+i].y,ie[i-1]=t.oddsPicker["dummy"+i].y+70;if(I(),de)d();else for(var e=1;9>e;e++)t.oddsPicker["profileButton"+e].visible=!1}function v(){for(var e=1;6>e;e++)t.oddsPicker["assignRosette"+e].removeEventListener("mousedown",b),t.oddsPicker["assignRosette"+e].removeEventListener("pressmove",T),t.oddsPicker["assignRosette"+e].removeEventListener("pressup",E);O()}function b(e){U=createjs.Sound.play("PickPrize"),U.volume=.33;for(var n=e.currentTarget.name,s=1;6>s;s++)t.oddsPicker["assignRosette"+s].removeEventListener("mousedown",b),t.oddsPicker["assignRosette"+s].removeEventListener("pressmove",T),t.oddsPicker["assignRosette"+s].removeEventListener("pressup",E);t.oddsPicker["assignRosette"+n].addEventListener("pressmove",T),t.oddsPicker["assignRosette"+n].addEventListener("pressup",E),y(n),w(n),j(n),de&&p(),i.helpBtn.visible=!1,O(),he&&D()}function y(e){var i=t.oddsPicker;i.setChildIndex(i["assignRosette"+e],i.getNumChildren()-1)}function w(e){t.oddsPicker["assignRosette"+e].scaleX=1.25,t.oddsPicker["assignRosette"+e].scaleY=1.25,t.oddsPicker["assignRosette"+e].assignedRosette.visible=!0,t.oddsPicker["assignRosette"+e].assignRosette.visible=!1}function S(e){t.oddsPicker["assignRosette"+e].scaleX=1,t.oddsPicker["assignRosette"+e].scaleY=1,t.oddsPicker["assignRosette"+e].assignedRosette.visible=!1,t.oddsPicker["assignRosette"+e].assignRosette.visible=!0}function T(e){var i=e.currentTarget.name,n=e.currentTarget.getBounds(),r=0,a=0,o=createjs.Touch.isSupported();o&&(a=n.height/2),s.canvas.width<s.canvas.height?(e.currentTarget.x=e.stageX-r,e.currentTarget.y=e.stageY-a):s.canvas.width>s.canvas.height&&(e.currentTarget.x=e.stageX-r,e.currentTarget.y=e.stageY-a);var l=s.canvas.width/100*1,c=s.canvas.width-l,u=s.canvas.height/100*1,h=s.canvas.height-u;e.stageX<c&&e.stageX>l&&e.stageY<h&&e.stageY>u||t.oddsPicker["assignRosette"+i].dispatchEvent("pressup")}function E(e){for(var n=e.currentTarget.name,s=1;6>s;s++)t.oddsPicker["assignRosette"+s].addEventListener("mousedown",b),t.oddsPicker["assignRosette"+s].removeEventListener("pressmove",T),t.oddsPicker["assignRosette"+s].removeEventListener("pressup",E);S(n);for(var r,s=1;9>s;s++){var a=t.oddsPicker["assignRosette"+n],o=t.oddsPicker["hitArea"+s];if(r=x(a,o,s,e)){oe.indexOf(s)<0?(L(a,s),P(n,s),f(ae.length)):R(a);break}}r||R(t.oddsPicker["assignRosette"+n]),r=!1,de&&d(),i.helpBtn.visible=!0,I(),he&&M()}function P(e,t){if(j(e),ae.push(e),oe.push(t),5==ae.length){for(var t=0;t<ae.length;t++);re||(M(),he=!0)}}function j(e){D(),he=!1;for(var t=0;t<ae.length;t++)ae[t]==e&&(ae.splice(t,1),oe.splice(t,1))}function x(e,t,i,n){var s=(t.globalToLocal(n.stageX,n.stageY),e.getBounds());e.setBounds(e.x,e.y,s.width,s.height);var r=(e.getBounds().clone(),t.getBounds().clone()),a=e.localToLocal(r.width/2,r.height/2,t);return t.hitTest(a.x,a.y)?!0:void 0;
}function L(e,i){t.oddsPicker["assignRosette"+e.name].x=Z[i-1],t.oddsPicker["assignRosette"+e.name].y=te[i-1],t.oddsPicker["assignRosette"+e.name].assignedRosette.visible=!0,t.oddsPicker["assignRosette"+e.name].assignRosette.visible=!1}function A(e,i){y(e),le?Y=createjs.Tween.get(t.oddsPicker["assignRosette"+e]).wait(0).to({y:te[i-1],x:Z[i-1]},200,createjs.Ease.bounceOut).call(function(){t.oddsPicker["assignRosette"+e].assignedRosette.visible=!0,t.oddsPicker["assignRosette"+e].assignRosette.visible=!1,k()}):(t.oddsPicker["assignRosette"+e].x=Z[i-1],t.oddsPicker["assignRosette"+e].y=te[i-1],t.oddsPicker["assignRosette"+e].assignedRosette.visible=!0,t.oddsPicker["assignRosette"+e].assignRosette.visible=!1,k())}function k(){if(ue++,5==ue){re=!1,ue=0;for(var e=1;6>e;e++)t.oddsPicker["assignRosette"+e].addEventListener("mousedown",b);de&&d(),M(),he=!0,I()}}function R(e){t.oddsPicker["assignRosette"+e.name].y=K[e.name-1],t.oddsPicker["assignRosette"+e.name].x=Q[e.name-1],t.oddsPicker["assignRosette"+e.name].assignedRosette.visible=!1,t.oddsPicker["assignRosette"+e.name].assignRosette.visible=!0;var i=t.oddsPicker["assignRosette"+e.name].getBounds();t.oddsPicker["assignRosette"+e.name].setBounds(t.oddsPicker["assignRosette"+e.name].x,t.oddsPicker["assignRosette"+e.name].y,i.width,i.height),j(e.name)}function M(){t.oddsPicker.okBtn.alpha=1,t.oddsPicker.okBtn.mouseEnabled=!0,t.oddsPicker.okBtn.addEventListener("click",C)}function D(){t.oddsPicker.okBtn.alpha=.5,t.oddsPicker.okBtn.mouseEnabled=!1,t.oddsPicker.okBtn.removeEventListener("click",C)}function I(){t.oddsPicker.auto.alpha=1,t.oddsPicker.auto.mouseEnabled=!0,t.oddsPicker.auto.addEventListener("click",N)}function O(){t.oddsPicker.auto.alpha=.5,t.oddsPicker.auto.mouseEnabled=!1,t.oddsPicker.auto.removeEventListener("click",N)}function C(){v(),p(),G=createjs.Sound.play("Click");for(var i=1;9>i;i++)if(oe.indexOf(i)<0)t.prizeLozenges["prizeLozenge"+i].value.text=strings.game.noWin,t.prizeLozenges["prizeLozenge"+i].lozengeSmallWhite.visible=!0,t.horses["horse"+i]["horseUnselected"+i].visible=!0,t.horses["horse"+i]["horseSelected"+i].visible=!1,t.reels.numbers["number"+i]["number"+i+"_White"].visible=!0;else{var n=t.oddsPicker["assignRosette"+ae[oe.indexOf(i)]].prizeVal;t.prizeLozenges["prizeLozenge"+i].value.text=n,t.horses["horse"+i]["horseSelected"+i].visible=!0,t.horses["horse"+i]["horseUnselected"+i].visible=!1,t.horses["horse"+i]["horseGlow"+i].visible=!1}$=!0,e.revealDataSave({arrayOfAssignedStars:ae,arrayOfAssignedPrizes:oe}),t.oddsPicker.dispatchEvent("assigned"),h()}function B(){return[ae,oe]}function N(){de&&p(),re=!0,G=createjs.Sound.play("Click");for(var e=1;6>e;e++)t.oddsPicker["assignRosette"+e].removeEventListener("mousedown",b),t.oddsPicker["assignRosette"+e].removeEventListener("pressmove",T),t.oddsPicker["assignRosette"+e].removeEventListener("pressup",E);O(),D(),he=!1,clearInterval(V),ae=[],oe=[];for(var i=[],e=1;6>e;e++)i.push(e);for(var n=[],s=1;9>s;s++)oe.indexOf(s)<0&&n.push(s);var r=q(n);V=setInterval(H,100,i,r)}function H(e,t){clearInterval(V),0==ce&&(J=createjs.Sound.play("autopick")),A(e[ce],t[ce]),P(e[ce],t[ce]),ce<e.length-1?(ce++,le?V=setInterval(H,100,e,t):H(e,t)):ce=0}function q(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[i],e[i]=n}return e}function F(){t.oddsPicker.auto.visible=!1,t.oddsPicker.okBtn.visible=!1}function z(){t.oddsPicker.auto.visible=!0,t.oddsPicker.okBtn.visible=!0}function W(){return $}var U,X,G,Y,V,J,Q=[],K=[],$=!1,Z=[],ee=[],te=[],ie=[],ne=[],se=[],re=!1,ae=[],oe=[],le=!0,ce=0,ue=0,he=!1,de=!0;return s.canvas.width<s.canvas.height?(Q=[92.5,194.5,296.5,398.5,500.5],K=[690,690,690,690,690]):s.canvas.width>s.canvas.height&&(Q=[273.5,375.5,477.5,579.5,681.5],K=[446.2,446.2,446.2,446.2,446.2]),{init:r,show:u,hide:h,enable:m,resetPositions:c,initVars:o,giveMeTheAssignedInfo:B,havePrizesBeenAssigned:W,helpIsOpenDisableButtons:F,helpHasClosedEnableButtons:z,stopAllSounds:a,restoreSavedData:l}}}),define("game/setup",["require"],function(e){return function(e,t,i,n){function s(){t.endMessage.gotoAndStop(0),t.endMessage.alpha=0,t.dimmer.alpha=1;for(var e=1;9>e;e++)t.endMessage.win.winWindowWinners["winner0"+e].visible=!1;t.endMessage.visible=!1,t.oddsPicker.visible=!1,i.winMeter.value.lineWidth=null,i.winMeter.label.lineWidth=null,i.balanceMeter.value.lineWidth=null,i.balanceMeter.label.lineWidth=null,i.betMeter.value.lineWidth=null,i.betMeter.label.lineWidth=null,i.winMeter.value.maxWidth=174,i.winMeter.label.maxWidth=176,i.balanceMeter.value.maxWidth=174,i.balanceMeter.label.maxWidth=176,i.betMeter.value.maxWidth=174,i.betMeter.label.maxWidth=176,n.width>n.height&&(i.buyBtn.x=i.exitGameBtn.x),t.oddsPicker.profileScreens.visible=!1;for(var s=1;6>s;s++)t.oddsPicker["assignRosette"+s].assignedRosette.visible=!1,t.oddsPicker["assignRosette"+s].assignRosette.visible=!0,t.oddsPicker["assignRosette"+s].rosetteText.text="";var r=window.game.ChampionRaceway.main.siteConfig.how_to_play_font_size||22,a=window.game.ChampionRaceway.main.siteConfig.how_to_play_font_leading||25;t.howToPlay.text.font="bold "+r+"px 'Arial'",t.howToPlay.text.lineHeight=a,n.width<n.height?(t.oddsPicker.assignRosette1.x=92.5,t.oddsPicker.assignRosette1.y=690,t.oddsPicker.assignRosette2.x=194.5,t.oddsPicker.assignRosette2.y=690,t.oddsPicker.assignRosette3.x=296.5,t.oddsPicker.assignRosette3.y=690,t.oddsPicker.assignRosette4.x=398.5,t.oddsPicker.assignRosette4.y=690,t.oddsPicker.assignRosette5.x=500.5,t.oddsPicker.assignRosette5.y=690,t.buyTicketScreen.x=301.45,t.buyTicketScreen.y=564.4):n.width>n.height&&(t.oddsPicker.assignRosette1.x=273.5,t.oddsPicker.assignRosette1.y=446.2,t.oddsPicker.assignRosette2.x=375.5,t.oddsPicker.assignRosette2.y=446.2,t.oddsPicker.assignRosette3.x=477.5,t.oddsPicker.assignRosette3.y=446.2,t.oddsPicker.assignRosette4.x=579.5,t.oddsPicker.assignRosette4.y=446.2,t.oddsPicker.assignRosette5.x=681.5,t.oddsPicker.assignRosette5.y=446.2);for(var e=1;9>e;e++){t.horses["horse"+e].winStarAnim.gotoAndStop(0),t.horses["horse"+e].winStarAnim.visible=!1,t.horses["horse"+e].goldenDust.gotoAndStop(0),t.horses["horse"+e].goldenDust.visible=!1,t.horses["horse"+e].dirtyDust.gotoAndStop(0),t.horses["horse"+e].dirtyDust.visible=!1,t.reels.reelSpinners["reelBG"+e].reel.visible=!0,t.reels.reelSpinners["reelBG"+e].reel.gotoAndStop(0),t.reels.reelSpinners["reelBG"+e].reel.reelDash.visible=!0,t.reels.reelSpinners["reelBG"+e].reel.reelDash.alpha=.5,t.reels.reelSpinners["reelBG"+e].reelBlur.gotoAndStop(0),t.reels.reelSpinners["reelBG"+e].reelBlur.visible=!1,t.reels["multiplierSparklesAnim"+e].gotoAndStop(0),t.reels["multiplierSparklesAnim"+e].visible=!1,t.reels.reelSpinners["reelBG"+e].reel.mult.text.text=strings.game.multiplier,t.reels.reelSpinners["reelBG"+e].reel.mult.text.lineWidth=null,t.reels.reelSpinners["reelBG"+e].reel.mult.text.maxWidth=33,t["mutliRosette"+e].rosetteText.text.text=strings.game.multiplier,t["mutliRosette"+e].rosetteText.text.lineWidth=null,t["mutliRosette"+e].rosetteText.text.maxWidth=100,t.horses["horse"+e]["horseGlow"+e].visible=!1,t.horses["horse"+e]["horseUnselected"+e].visible=!0,t.horses["horse"+e]["horseSelected"+e].visible=!1,t.prizeLozenges["prizeLozenge"+e].MultiplierSparklesAnim.gotoAndStop(0),t.prizeLozenges["prizeLozenge"+e].MultiplierSparklesAnim.visible=!1,t.prizeLozenges["prizeLozenge"+e].winStarAnim.gotoAndStop(0),t.prizeLozenges["prizeLozenge"+e].winStarAnim.visible=!1,t.prizeLozenges["prizeLozenge"+e].value.text="",t.prizeLozenges["prizeLozenge"+e].value.font="bold 28px 'Arial'",t.prizeLozenges["prizeLozenge"+e].lozengeSmallWhite.visible=!1,t.prizeLozenges["prizeLozenge"+e].bottomPrizeButtonsGlow.visible=!1,t.prizeLozenges["prizeLozenge"+e].scaleX=1,t.prizeLozenges["prizeLozenge"+e].scaleY=1,t.winningHorseShoe["winningHorseShoe_0"+e].gotoAndStop(0),t.winningHorseShoe["winningHorseShoe_0"+e].visible=!1,t["mutliRosette"+e].scaleX=.421,t["mutliRosette"+e].scaleY=.422,t["mutliRosette"+e].visible=!1;var o=t.oddsPicker["dummy"+e].getTransformedBounds();t.oddsPicker["dummy"+e].setBounds(t.oddsPicker["dummy"+e].x,t.oddsPicker["dummy"+e].y,o.width,o.height),t.oddsPicker.profileScreens["profile"+e].txtName.text=strings.profiles["horse"+e].name,t.oddsPicker.profileScreens["profile"+e].jockeynameLabel.text=strings.profiles.label_jockey,t.oddsPicker.profileScreens["profile"+e].txtJockey.text=strings.profiles["horse"+e].jockey,t.oddsPicker.profileScreens["profile"+e].trainernameLabel.text=strings.profiles.label_trainer,t.oddsPicker.profileScreens["profile"+e].txtTrainer.text=strings.profiles["horse"+e].trainer,t.oddsPicker.profileScreens["profile"+e].formLabel.text=strings.profiles.label_form,t.oddsPicker.profileScreens["profile"+e].txtForm.text=strings.profiles["horse"+e].form,t.oddsPicker.profileScreens["profile"+e].ageLabel.text=strings.profiles.label_age,t.oddsPicker.profileScreens["profile"+e].txtAge.text=strings.profiles["horse"+e].age,t.oddsPicker.profileScreens["profile"+e].okBtn.label.text=strings.profiles.button_close,t.oddsPicker.profileScreens["profile"+e].visible=!1,t.oddsPicker["assignHorseNo"+e]["horseStatusSpot"+e].noWin.text=strings.game.noWin_picker,t.oddsPicker["assignHorseNo"+e]["horseStatusSpot"+e].noWin.lineWidth=null,t.oddsPicker["assignHorseNo"+e]["horseStatusSpot"+e].noWin.maxWidth=70}t.multiplierRosetteLargeAnim.gotoAndStop(0),t.multiplierRosetteLargeAnim.visible=!1,t.howToPlay.helpScreenStarClip.rosetteText.text="",t.howToPlay.helpScreenStarClip.rosetteText.shadow=null,t.howToPlay.helpScreenStarClip.rosetteText.text=strings.help.prize_dummy,t.howToPlay.helpScreenStarClip.rosetteText.lineWidth=null,t.howToPlay.helpScreenStarClip.rosetteText.maxWidth=90,t.howToPlay.arrowReelsHelpImage.mult.text.text=strings.game.multiplier,t.howToPlay.arrowReelsHelpImage.mult.text.lineWidth=null,t.howToPlay.arrowReelsHelpImage.mult.text.maxWidth=33,t.howToPlay.okBtn.visible=!1,t.buyTicketScreen.visible=!1,t.reels.numbers.number1.number1_White.visible=!1,t.reels.numbers.number2.number2_White.visible=!1,t.reels.numbers.number3.number3_White.visible=!1,t.reels.numbers.number4.number4_White.visible=!1,t.reels.numbers.number5.number5_White.visible=!1,t.reels.numbers.number6.number6_White.visible=!1,t.reels.numbers.number7.number7_White.visible=!1,t.reels.numbers.number8.number8_White.visible=!1,t.oddsPicker.okBtn.label.text=strings.game.button_confirm,t.oddsPicker.auto.label.text=strings.game.button_assign,t.oddsPicker.okBtn.alpha=.5,t.oddsPicker.okBtn.mouseEnabled=!1,t.oddsPicker.okBtn.visible=!0,t.oddsPicker.auto.visible=!0,i.helpBtnDisabled.mouseEnabled=!1,i.spinBtnDisabled.visible=!1,n.width<n.height?t.oddsPicker.text.text=strings.game.assign_prizes_portrait:n.width>n.height&&(t.oddsPicker.text.text=strings.game.assign_prizes_landscape),t.endMessage.win.value.font="bold 50px 'Arial'",t.endMessage.win.value.lineWidth=null,t.endMessage.win.value.maxWidth=180}function r(){for(var e=1;9>e;e++)t.oddsPicker.profileScreens["profile"+e].txtJockey.y+=2,t.oddsPicker.profileScreens["profile"+e].txtTrainer.y+=2,t.oddsPicker.profileScreens["profile"+e].txtForm.y+=2,t.oddsPicker.profileScreens["profile"+e].txtAge.y+=2,t.oddsPicker.profileScreens["profile"+e].txtName.y+=1,t.oddsPicker["assignHorseNo"+e]["horseStatusSpot"+e].noWin.y+=2,t.oddsPicker["assignHorseNo"+e]["horseStatusSpot"+e].noWin.x+=2,t.prizeLozenges["prizeLozenge"+e].value.y+=7,t.reels.reelSpinners["reelBG"+e].reel.mult.text.x+=1.5,t.reels.reelSpinners["reelBG"+e].reel.mult.text.y+=.5;for(var n=1;6>n;n++)t.oddsPicker["assignRosette"+n].rosetteText.y+=3;t.endMessage.win.value.y+=10,t.howToPlay.helpScreenStarClip.rosetteText.y+=2,t.howToPlay.arrowReelsHelpImage.mult.text.x+=1.5,t.howToPlay.arrowReelsHelpImage.mult.text.y+=.5,t.winUpTo.text.y+=2;var s=!1,r=(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),navigator.userAgent.toLowerCase());if(s=r.indexOf("firefox")>-1?!0:!1){for(var n=1;6>n;n++)t.oddsPicker["assignRosette"+n].rosetteText.y+=2;t.howToPlay.helpScreenStarClip.rosetteText.y+=2;for(var e=1;9>e;e++)t.oddsPicker.profileScreens["profile"+e].okBtn.label.y+=3,t.reels.reelSpinners["reelBG"+e].reel.mult.text.y+=3,t.oddsPicker.profileScreens["profile"+e].txtJockey.y+=2,t.oddsPicker.profileScreens["profile"+e].txtTrainer.y+=2,t.oddsPicker.profileScreens["profile"+e].txtForm.y+=2,t.oddsPicker.profileScreens["profile"+e].txtAge.y+=2,t.oddsPicker["assignHorseNo"+e]["horseStatusSpot"+e].noWin.y+=1,t.prizeLozenges["prizeLozenge"+e].value.y+=2,t.oddsPicker.profileScreens["profile"+e].txtName.y+=4,t.oddsPicker.profileScreens["profile"+e].formLabel.y+=2,t.oddsPicker.profileScreens["profile"+e].ageLabel.y+=2,t.oddsPicker.profileScreens["profile"+e].trainernameLabel.y+=2,t.oddsPicker.profileScreens["profile"+e].jockeynameLabel.y+=2;t.howToPlay.arrowReelsHelpImage.mult.text.y+=3,t.oddsPicker.text.y+=2,t.winUpTo.text.y+=2,i.errorPlaque.exitBtn.label.y+=3,i.timeoutWarningPlaque.exitBtn.label.y+=3,i.timeoutWarningPlaque.continueBtn.label.y+=3,t.howToPlay.title.y+=2,t.howToPlay.okBtn.label.y+=3,t.oddsPicker.okBtn.label.y+=3,t.oddsPicker.auto.label.y+=3,i.winMeter.value.y+=3,i.balanceMeter.value.y+=3,i.betMeter.value.y+=3,i.winMeter.label.y+=2,i.balanceMeter.label.y+=2,i.betMeter.label.y+=2,i.playForMoneyBtn.label.y+=2,i.buyBtn.label.y+=3,i.spinBtn.label.y+=3,i.spinBtnDisabled.label.y+=3,i.revealAllBtn.label.y+=2,i.exitGameBtn.label.y+=3,t.oddsPicker.text.y+=1,t.endMessage.win.title.y+=3,t.endMessage.win.text.y+=4,t.endMessage.win.value.y+=5}}function a(){n.width<n.height?(t.howToPlay.helpScreenStarClip.y=strings.help.portrait.starPos,t.howToPlay.arrowReelsHelpImage.y=strings.help.portrait.arrowsPos):n.width>n.height&&(t.howToPlay.helpScreenStarClip.y=strings.help.landscape.starPos,t.howToPlay.arrowReelsHelpImage.y=strings.help.landscape.arrowsPos)}function o(){i.spinBtn.label.setTransform(74.5,14.1),i.spinBtn.label.lineHeight=26,i.spinBtn.label.lineWidth=null,i.spinBtn.label.maxWidth=145,i.spinBtnDisabled.label.setTransform(74.5,14.1),i.spinBtnDisabled.label.lineHeight=26,i.spinBtnDisabled.label.lineWidth=null,i.spinBtnDisabled.label.maxWidth=145,i.spinBtnDisabled.mouseEnabled=!1;for(var e=1;9>e;e++)t.oddsPicker.profileScreens["profile"+e].okBtn.label.setTransform(74.5,14.1),t.oddsPicker.profileScreens["profile"+e].okBtn.label.lineHeight=26,t.oddsPicker.profileScreens["profile"+e].okBtn.label.lineWidth=null,t.oddsPicker.profileScreens["profile"+e].okBtn.label.maxWidth=130,t.oddsPicker.profileScreens["profile"+e].txtName.setTransform(303.1,34.25),t.oddsPicker.profileScreens["profile"+e].txtName.lineHeight=26,t.oddsPicker.profileScreens["profile"+e].txtName.lineWidth=null,t.oddsPicker.profileScreens["profile"+e].txtName.maxWidth=310,t.oddsPicker.profileScreens["profile"+e].jockeynameLabel.setTransform(211.6,77.75),t.oddsPicker.profileScreens["profile"+e].jockeynameLabel.lineHeight=22,t.oddsPicker.profileScreens["profile"+e].jockeynameLabel.lineWidth=null,t.oddsPicker.profileScreens["profile"+e].jockeynameLabel.maxWidth=310,t.oddsPicker.profileScreens["profile"+e].txtJockey.setTransform(367.1,103.75),t.oddsPicker.profileScreens["profile"+e].txtJockey.lineHeight=20,t.oddsPicker.profileScreens["profile"+e].txtJockey.lineWidth=null,t.oddsPicker.profileScreens["profile"+e].txtJockey.maxWidth=310,t.oddsPicker.profileScreens["profile"+e].trainernameLabel.setTransform(211.6,136.75),t.oddsPicker.profileScreens["profile"+e].trainernameLabel.lineHeight=22,t.oddsPicker.profileScreens["profile"+e].trainernameLabel.lineWidth=null,t.oddsPicker.profileScreens["profile"+e].trainernameLabel.maxWidth=310,t.oddsPicker.profileScreens["profile"+e].txtTrainer.setTransform(367.1,162.75),t.oddsPicker.profileScreens["profile"+e].txtTrainer.lineHeight=20,t.oddsPicker.profileScreens["profile"+e].txtTrainer.lineWidth=null,t.oddsPicker.profileScreens["profile"+e].txtTrainer.maxWidth=310,t.oddsPicker.profileScreens["profile"+e].ageLabel.setTransform(374.6,195.65),t.oddsPicker.profileScreens["profile"+e].ageLabel.lineHeight=22,t.oddsPicker.profileScreens["profile"+e].ageLabel.lineWidth=null,t.oddsPicker.profileScreens["profile"+e].ageLabel.maxWidth=145,t.oddsPicker.profileScreens["profile"+e].txtAge.setTransform(448.1,221.65),t.oddsPicker.profileScreens["profile"+e].txtAge.lineHeight=20,t.oddsPicker.profileScreens["profile"+e].txtAge.lineWidth=null,t.oddsPicker.profileScreens["profile"+e].txtAge.maxWidth=145,t.oddsPicker.profileScreens["profile"+e].formLabel.setTransform(211.6,195.65),t.oddsPicker.profileScreens["profile"+e].formLabel.lineHeight=22,t.oddsPicker.profileScreens["profile"+e].formLabel.lineWidth=null,t.oddsPicker.profileScreens["profile"+e].formLabel.maxWidth=145,t.oddsPicker.profileScreens["profile"+e].txtForm.setTransform(285,221.65),t.oddsPicker.profileScreens["profile"+e].txtForm.lineHeight=20,t.oddsPicker.profileScreens["profile"+e].txtForm.lineWidth=null,t.oddsPicker.profileScreens["profile"+e].txtForm.maxWidth=145;t.oddsPicker.okBtn.label.setTransform(74.5,14.1),t.oddsPicker.okBtn.label.lineHeight=26,t.oddsPicker.okBtn.label.lineWidth=null,t.oddsPicker.okBtn.label.maxWidth=130,i.revealAllBtn.label.setTransform(74.5,16.4),i.revealAllBtn.label.lineHeight=22,i.revealAllBtn.label.lineWidth=null,i.revealAllBtn.label.maxWidth=145,t.oddsPicker.auto.label.setTransform(74.5,16.4),t.oddsPicker.auto.label.lineHeight=22,t.oddsPicker.auto.label.lineWidth=null,t.oddsPicker.auto.label.maxWidth=130,i.playForMoneyBtn.label.setTransform(101,17.5),i.playForMoneyBtn.label.lineHeight=20,i.playForMoneyBtn.label.lineWidth=null,i.playForMoneyBtn.label.maxWidth=195,t.howToPlay.okBtn.label.setTransform(74.5,16.4),t.howToPlay.okBtn.label.lineHeight=22,t.howToPlay.okBtn.label.lineWidth=null,t.howToPlay.okBtn.label.maxWidth=145,i.errorPlaque.exitBtn.label.setTransform(101,14.1),i.errorPlaque.exitBtn.label.lineHeight=26,i.errorPlaque.exitBtn.label.lineWidth=null,i.errorPlaque.exitBtn.label.maxWidth=195,i.timeoutWarningPlaque.exitBtn.label.setTransform(101,14.1),i.timeoutWarningPlaque.exitBtn.label.lineHeight=26,i.timeoutWarningPlaque.exitBtn.label.lineWidth=null,i.timeoutWarningPlaque.exitBtn.label.maxWidth=195,i.timeoutWarningPlaque.continueBtn.label.setTransform(101,14.1),i.timeoutWarningPlaque.continueBtn.label.lineHeight=26,i.timeoutWarningPlaque.continueBtn.label.lineWidth=null,i.timeoutWarningPlaque.continueBtn.label.maxWidth=195,n.width<n.height?(i.exitGameBtn.label.setTransform(74.5,14.1),i.exitGameBtn.label.lineHeight=26,i.exitGameBtn.label.lineWidth=null,i.exitGameBtn.label.maxWidth=145,i.buyBtn.label.setTransform(74.5,14.1),i.buyBtn.label.lineHeight=26,i.buyBtn.label.lineWidth=null,i.buyBtn.label.maxWidth=145,t.oddsPicker.text.font="22px 'Arial'",t.oddsPicker.text.lineHeight=26,t.oddsPicker.text.lineWidth=516,t.oddsPicker.text.setTransform(295.5,556)):(i.exitGameBtn.label.setTransform(101,14.1),i.exitGameBtn.label.lineHeight=26,i.exitGameBtn.label.lineWidth=null,i.exitGameBtn.label.maxWidth=195,i.buyBtn.label.setTransform(101,14.1),i.buyBtn.label.lineHeight=26,i.buyBtn.label.lineWidth=null,i.buyBtn.label.maxWidth=195,t.oddsPicker.text.font="22px 'Arial'",t.oddsPicker.text.lineHeight=26,t.oddsPicker.text.lineWidth=806,t.oddsPicker.text.setTransform(476.5,326)),i.betMeter.label.setTransform(100,31),i.betMeter.label.lineHeight=20,i.betMeter.label.lineWidth=null,i.betMeter.label.maxWidth=195,i.balanceMeter.label.setTransform(100,31),i.balanceMeter.label.lineHeight=20,i.balanceMeter.label.lineWidth=null,i.balanceMeter.label.maxWidth=195,i.winMeter.label.setTransform(100,31),i.winMeter.label.lineHeight=20,i.winMeter.label.lineWidth=null,i.winMeter.label.maxWidth=195,i.betMeter.value.setTransform(100,6.2),i.betMeter.value.lineHeight=26,i.betMeter.value.lineWidth=null,i.betMeter.value.maxWidth=195,i.balanceMeter.value.setTransform(100,6.2),i.balanceMeter.value.lineHeight=26,i.balanceMeter.value.lineWidth=null,i.balanceMeter.value.maxWidth=195,i.winMeter.value.setTransform(100,6.2),i.winMeter.value.lineHeight=26,i.winMeter.value.lineWidth=null,i.winMeter.value.maxWidth=195,t.winUpTo.text.maxWidth=340}function l(){n.width<n.height?t.oddsPicker.shape.cache(-259.95,-47.25,519.95,94.5):n.width>n.height&&t.oddsPicker.shape.cache(-404.95,-33.75,809.95,67.5)}return{doSetup:s,adjustBaselineOffsets:r,setIconPos:a,setTextFields:o,cacheBars:l}}}),define("game/endMessage",["require"],function(e){return function(e,t,i){function n(){t.alpha=0,t.visible=!0,i.alpha=0,i.visible=!0,r=createjs.Tween.get(t).wait(0).to({alpha:1},500),a=createjs.Tween.get(i).wait(0).to({alpha:1},500),t.addEventListener("mousedown",s)}function s(){t.gotoAndStop(0),t.visible=!1,i.visible=!1}var r,a;return{show:n,hide:s}}}),define("game/textControl",["require"],function(e){return function(){function e(){!function(){"use strict";function e(e,t,i,n){this.Text_constructor(e,t,i),this.miterLimit=n}var t=createjs.extend(e,createjs.Text);t.draw=function(e,t){return e.miterLimit=this.miterLimit,this.Text_draw(e,t)?!0:!0},t.clone=function(){return this._cloneProps(new e(this.text,this.font,this.color,this.miterLimit))},createjs.MiterText=createjs.promote(e,"Text")}()}function t(t,i,n,s){createjs.MiterText||e();var r=t.x,a=t.y,o=t.lineHeight,l=t.lineWidth,c=t.maxWidth,u=t.textAlign,h=t.text,d=t.font,p=t.color;i.removeChild(t),i[s]=new createjs.MiterText(h,d,p,n),i[s].lineHeight=o,i[s].setTransform(r,a),i[s].name=s,i[s].textAlign=u,l&&(i[s].lineWidth=l),c&&(i[s].maxWidth=c),i.addChild(i[s])}function i(e,t){var i=e.getTransformedBounds(),n=t.getTransformedBounds(),s=n.height-i.height;e.y=n.y+s/2}function n(e,t,i){t&&c(e,t);var n=(e.getTransformedBounds(),e.font.split(" ")),s=1,r=e.lineHeight;for(2==n.length?s=parseInt(n[0],10):3==n.length&&(s=parseInt(n[1],10));e.getTransformedBounds().height>i;)s--,r--,u(e,r),a(e,s)}function s(e,t,i,n){var s,r,a,o=e.font.split(" "),l="";2==o.length?(r=i+"px"||o[0],a=n||o[1],l=r+" "+a):3==o.length&&(s=t||o[0],r=i+"px"||o[1],a=n||o[2],l=s+" "+r+" "+a),e.font=l}function r(e,t){s(e,t,null,null)}function a(e,t){s(e,null,t,null)}function o(e,t){s(e,style,null,null)}function l(e,t){e.color=t}function c(e,t){e.maxWidth=null,e.lineWidth=t}function u(e,t){e.lineHeight=t}function h(e,t){e.lineWidth=null,e.maxWidth=t}function d(e,t,i){e.setTransform(t,i)}function p(e,t){e.textAlign=t}function f(e,t){e.baseline=t}function g(e,t){e.outline=t}return{convertToMiter:t,verticalCenter:i,autoResize:n,setFont:s,setFontStyle:r,setFontSize:a,setFontFamily:o,setColor:l,setLineWidth:c,setLineHeight:u,setMaxWidth:h,setPosition:d,setAlign:p,setBaseline:f,setOutline:g}}}),define("game/main",["require","../lib/core/stage","../game/uiPresenter","../game/race","../game/oddsPicker","../game/setup","../game/endMessage","../game/textControl"],function(e){var t=e("../lib/core/stage"),i=e("../game/uiPresenter"),n=e("../game/race"),s=e("../game/oddsPicker"),r=e("../game/setup"),a=e("../game/endMessage"),o=e("../game/textControl");return function(e,l,c){function u(){T.howToPlay.visible=!0,E.helpCloseBtn.visible=!0,E.helpBtn.visible=!1,E.exitBtn.visible=!1,E.audioOnBtn.visible=createjs.Sound.muted,E.audioOffBtn.visible=!createjs.Sound.muted}function h(){W=[],U=[],X=[],G=[]}function d(e){j=e.prizeDivision,x=e.prizeValue,L=e.playResult,W=e.prizeTable,H=e.revealData,g(e)}function p(e){i.updateWinMeter(l.defaultWinsValue),i.updateBetMeter(e.price),"TRY"==l.wagerType&&(E.balanceMeter.visible=!1,i.setWinMeterLabel(strings.ui.demoWins))}function f(){F=!1,z=!1,E.exitBtn.visible=!1,E.helpBtn.visible=!0,s.show()}function g(e){U=e.scenario.split("|");var t=U[0].split("");i.generateLegacyInfo(l.gameConfigurationDetails),i.populatePrizeTable(t);for(var r=U[1].split(","),a=0;a<r.length;a++)G[a]=r[a].split("");n.init(e,t,G,A),s.init(k,B),s.enable(),N&&s.restoreSavedData(H),T.oddsPicker.addEventListener("assigned",_)}function _(){var e=s.giveMeTheAssignedInfo(),t=e[0],i=e[1];n.startTheRace(t,i,I)}function m(){try{C.stop()}catch(e){}try{O.stop()}catch(e){}n.stopAllActionsAndClearIntervals(),s.stopAllSounds(),E.revealAllBtn.visible=!1,T.howToPlay.visible=!1,E.spinBtn.visible=!1,E.revealAllBtn.visible=!1,y(),h(),r.doSetup(),s.initVars(),n.initVars(),a.hide(),i.updateWinMeter(l.defaultWinsValue)}function v(){T.howToPlay.visible=!1,T.oddsPicker.visible||T.endMessage.visible||(T.dimmer.visible=!1),Y?(s.havePrizesBeenAssigned()||s.helpHasClosedEnableButtons(),n.areWeReadyToRace()&&(n.enableGoButton(),F||(E.revealAllBtn.visible=q&&V,E.spinBtn.visible=!0))):(E.exitBtn.visible=!0,E.audioOnBtn.visible=!1,E.audioOffBtn.visible=!1,E.revealAllBtn.visible=!1),q||1!=l.jLotteryPhase&&"ticketReady"!=l.gameType||(f(),q=!0)}function b(){E.revealAllBtn.removeEventListener("click",b),E.helpBtn.visible=!1,n.revealAll(),E.revealAllBtn.label.text=strings.ui.revealAllStop,F=!0,C=createjs.Sound.play("Click"),E.revealAllBtn.addEventListener("click",y)}function y(){E.revealAllBtn.removeEventListener("click",y);var e=n.checkTurnInProgress();e||(E.helpBtn.visible=!0),n.disableRevealAll(),E.revealAllBtn.label.text=strings.ui.revealAll,F=!1,E.revealAllBtn.addEventListener("click",b)}function w(){m(),i.hideHelp(),i.updateWinMeter(l.defaultWinsValue)}function S(){A=window.game.ChampionRaceway.main.siteConfig.reveal_delay_seconds||.5,A*=1e3,k=window.game.ChampionRaceway.main.siteConfig.animate_stars_assign,(void 0==k||null==k)&&(k=!0),R=window.game.ChampionRaceway.main.siteConfig.show_result_screen,(void 0==R||null==R)&&(R=!0),M=window.game.ChampionRaceway.main.siteConfig.use_jlottery_auto_reveal,D=window.game.ChampionRaceway.main.siteConfig.self_auto_reveal_enabled,I=window.game.ChampionRaceway.main.siteConfig.background_music_enabled,(void 0==I||null==I)&&(I=!0),n.setBackgroundMusicEnabled(I),N=window.game.ChampionRaceway.main.siteConfig.reveal_data_save_enabled,(void 0==N||null==N)&&(N=!0),B=window.game.ChampionRaceway.main.siteConfig.horse_profiles_enabled,(void 0==B||null==B)&&(B=!0),void 0!=M?(J=M,V=J?l.autoRevealEnabled:void 0!=D?D:!0):V=l.autoRevealEnabled,V||(e.width<e.height?(E.spinBtn.y=E.revealAllBtn.y,E.spinBtnDisabled.y=E.revealAllBtn.y):e.width>e.height&&(E.spinBtn.x=403.5,E.spinBtnDisabled.x=403.5+E.spinBtn.getBounds().width/2)),n.playAmbience()}var T,E;t=t(e),e.width<e.height?(T=new lib.championRaceway_Portrait,E=new lib.championRaceway_UI_portrait):e.width>e.height&&(T=new lib.championRaceway_Landscape,E=new lib.championRaceway_UI_landscape),t.addChild(T,E),i=new i(c,T.oddsPicker,T.winUpTo,E,l),n=new n(c,T,E,l,t),s=new s(c,T,E,l,t),r=new r(c,T,E,e),a=new a(c,T.endMessage,T.dimmer),o=new o;var P=createjs.Touch.isSupported();P||t.enableMouseOver(),r.doSetup(),r.setTextFields(),r.adjustBaselineOffsets(),r.setIconPos(),r.cacheBars(),u(),E.revealAllBtn.label.text=strings.ui.revealAll,E.revealAllBtn.visible=!1,E.spinBtn.label.text=strings.ui.spin,E.spinBtnDisabled.label.text=strings.ui.spin,E.spinBtn.visible=!1;var j,x,L,A,k,R,M,D,I,O,C,B,N,H,q=!1,F=!1,z=!1,W=[],U=[],X=[],G=[],Y=!1,V=!1,J=!1,Q=!1,K="LOADED_SCREEN_STATE",$=!0;T.addEventListener("readyToRace",function(){E.revealAllBtn.visible=V}),E.plusBtn.addEventListener("clicked",function(){}),E.minusBtn.addEventListener("clicked",function(){}),E.revealAllBtn.addEventListener("click",b),T.howToPlay.title.text=strings.help.title,t.canvas.width<t.canvas.height?T.howToPlay.text.text=strings.help.portrait.help_text:t.canvas.width>t.canvas.height&&(T.howToPlay.text.text=strings.help.landscape.help_text),T.howToPlay.okBtn.label.text=strings.help.button_ok,E.helpBtn.addEventListener("open",function(){T.dimmer.visible=!0,E.revealAllBtn.visible=!1,E.spinBtn.visible=!1,T.howToPlay.visible=!0,Y?(s.havePrizesBeenAssigned()||s.helpIsOpenDisableButtons(),n.disableGoButton()):(E.exitBtn.visible=!1,E.audioOnBtn.visible=createjs.Sound.muted,E.audioOffBtn.visible=!createjs.Sound.muted)}),E.buyBtn.addEventListener("clicked",function(){m(),E.exitBtn.visible=!1,E.helpBtn.visible=!1}),E.buyBtn.addEventListener("compulsionDelayTriggered",function(){q=!1}),E.playForMoneyBtn.addEventListener("playForMoney",function(){m()}),E.helpCloseBtn.addEventListener("clicked",function(){v()}),T.howToPlay.addEventListener("click",function(){i.hideHelp()});var Z={initialize:function(){E.buyBtn.visible=!0,i.updateBetMeter(l.gameConfigurationDetails.pricePointGameDefault),E.betMeter.availablePrices=l.gameConfigurationDetails.availablePrices,i.updateWinMeter(l.defaultWinsValue),E.betMeter.addEventListener("change",w),K="LOADED_SCREEN_STATE",S()},reInitialize:function(){l.gameType="normal",q=!1,Y=!1,F=!1,Q=!1,I&&n.setAmbienceVolume(.3),i.networkActivity(!1),i.setBalanceMeterLabel(strings.ui.balance),i.setBetMeterLabel(strings.ui.wager),i.setWinMeterLabel(strings.ui.wins),E.buyBtn.label.text=strings.ui.buy||l.wagerType,i.hideHelp(),i.updateBetMeter(l.gameConfigurationDetails.pricePointGameDefault),i.displayBalance(),E.buyBtn.visible=!0,E.exitBtn.visible=!0,i.showTicketCostButtons(),i.generateLegacyInfo(l.gameConfigurationDetails),E.betMeter.addEventListener("change",w),K="LOADED_SCREEN_STATE",u()},startUserInteraction:function(e){1==l.jLotteryPhase||2==l.jLotteryPhase&&"ticketReady"==l.gameType?(S(),p(e),d(e)):(i.showPlayForMoneyButton(l.moveToMoneyButtonEnabledWhilePlaying,!0),i.networkActivity(!1),f(),q=!0,d(e)),2==l.jLotteryPhase&&"ticketReady"==l.gameType&&E.betMeter.addEventListener("change",w),T.endMessage.win.value.text="",I&&n.setAmbienceVolume(.3),Y=!0,Q=!0,$=!1,K="PLAYING_SCREEN_STATE"},reStartUserInteraction:function(e){i.networkActivity(!1),r.doSetup(),p(e),d(e),i.showPlayForMoneyButton(l.moveToMoneyButtonEnabledWhilePlaying,!0),f(),T.endMessage.win.value.text="",q=!0,Y=!0,I&&n.setAmbienceVolume(.3),K="PLAYING_SCREEN_STATE"},enterResultScreenState:function(){if(F&&y(),l.gameType="normal",I&&n.setAmbienceVolume(0),I&&n.stopRacingMusic(),i.networkActivity(!1),i.updateWinMeter(c.formatCurrency(x,0).formattedAmount),"WIN"==L){T.endMessage.gotoAndStop("WIN");var e=n.giveMeTheWinningHorse();T.endMessage.win.winWindowWinners["winner0"+e].visible=!0,"BUY"==l.wagerType?(T.endMessage.win.title.text=strings.result.congratulations,T.endMessage.win.text.text=strings.result.winText,T.endMessage.win.value.text=c.formatCurrency(x,0).formattedAmount+strings.result.prizeSuffix_buy):"TRY"==l.wagerType&&(T.endMessage.win.title.text=strings.result.thanksForPlaying,T.endMessage.win.text.text=strings.result.demoWinText,T.endMessage.win.value.text=c.formatCurrency(x,0).formattedAmount+strings.result.prizeSuffix_try),o.autoResize(T.endMessage.win.title,465,60),o.autoResize(T.endMessage.win.text,null,35)}else O=createjs.Sound.play("lose"),T.endMessage.gotoAndStop("NONWIN"),T.endMessage.lose.text.text=strings.result.loseText;R&&a.show(),E.revealAllBtn.visible=!1,E.exitBtn.visible=!0,E.helpBtn.visible=!0,E.exitGameBtn.visible=1==l.jLotteryPhase,2==l.jLotteryPhase&&i.showButtonsAfterCompulsionDelay(),Y=!1,K="RESULT_SCREEN_STATE"},updateBalance:function(e){i.updateBalanceMeter(e.formattedBalance,!1)},warn:function(e){K="WARNING_SCREEN_STATE",i.prepareTimeoutWarningMessage(e)},error:function(e){K="ERROR_SCREEN_STATE",i.displayErrorMessage(e)}};return Z}})}();